{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/src/runtime/internal/utils.js","../../node_modules/svelte/src/runtime/internal/lifecycle.js","../../node_modules/svelte/src/runtime/internal/dom.js","../../node_modules/svelte/src/runtime/internal/scheduler.js","../../node_modules/svelte/src/runtime/internal/transitions.js","../../node_modules/svelte/src/runtime/internal/each.js","../../node_modules/svelte/src/runtime/internal/Component.js","../../src/components/GitLinks.svelte","../../node_modules/svelte/src/runtime/internal/disclose-version/index.js","../../node_modules/svelte/src/shared/version.js","../../src/pages/About.svelte","../../node_modules/svelte/src/runtime/store/index.js","../../src/router.js","../../src/components/ProjectsList.svelte","../../src/pages/Index.svelte","../../node_modules/markdown-it/lib/common/entities.js","../../node_modules/uc.micro/categories/P/regex.js","../../node_modules/mdurl/encode.js","../../node_modules/mdurl/decode.js","../../node_modules/mdurl/parse.js","../../node_modules/mdurl/index.js","../../node_modules/mdurl/format.js","../../node_modules/uc.micro/properties/Any/regex.js","../../node_modules/uc.micro/categories/Cc/regex.js","../../node_modules/uc.micro/categories/Z/regex.js","../../node_modules/uc.micro/index.js","../../node_modules/uc.micro/categories/Cf/regex.js","../../node_modules/markdown-it/lib/common/utils.js","../../node_modules/markdown-it/lib/helpers/parse_link_destination.js","../../node_modules/markdown-it/lib/helpers/parse_link_title.js","../../node_modules/markdown-it/lib/helpers/index.js","../../node_modules/markdown-it/lib/helpers/parse_link_label.js","../../node_modules/markdown-it/lib/renderer.js","../../node_modules/markdown-it/lib/ruler.js","../../node_modules/markdown-it/lib/rules_core/normalize.js","../../node_modules/markdown-it/lib/rules_core/linkify.js","../../node_modules/markdown-it/lib/rules_core/replacements.js","../../node_modules/markdown-it/lib/rules_core/smartquotes.js","../../node_modules/markdown-it/lib/token.js","../../node_modules/markdown-it/lib/rules_core/state_core.js","../../node_modules/markdown-it/lib/parser_core.js","../../node_modules/markdown-it/lib/rules_core/block.js","../../node_modules/markdown-it/lib/rules_core/inline.js","../../node_modules/markdown-it/lib/rules_core/text_join.js","../../node_modules/markdown-it/lib/rules_block/table.js","../../node_modules/markdown-it/lib/rules_block/blockquote.js","../../node_modules/markdown-it/lib/rules_block/hr.js","../../node_modules/markdown-it/lib/rules_block/list.js","../../node_modules/markdown-it/lib/rules_block/reference.js","../../node_modules/markdown-it/lib/common/html_re.js","../../node_modules/markdown-it/lib/rules_block/html_block.js","../../node_modules/markdown-it/lib/common/html_blocks.js","../../node_modules/markdown-it/lib/rules_block/heading.js","../../node_modules/markdown-it/lib/rules_block/state_block.js","../../node_modules/markdown-it/lib/parser_block.js","../../node_modules/markdown-it/lib/rules_block/code.js","../../node_modules/markdown-it/lib/rules_block/fence.js","../../node_modules/markdown-it/lib/rules_block/lheading.js","../../node_modules/markdown-it/lib/rules_block/paragraph.js","../../node_modules/markdown-it/lib/rules_inline/text.js","../../node_modules/markdown-it/lib/rules_inline/escape.js","../../node_modules/markdown-it/lib/rules_inline/linkify.js","../../node_modules/markdown-it/lib/rules_inline/newline.js","../../node_modules/markdown-it/lib/rules_inline/strikethrough.js","../../node_modules/markdown-it/lib/rules_inline/emphasis.js","../../node_modules/markdown-it/lib/rules_inline/link.js","../../node_modules/markdown-it/lib/rules_inline/image.js","../../node_modules/markdown-it/lib/rules_inline/autolink.js","../../node_modules/markdown-it/lib/rules_inline/html_inline.js","../../node_modules/markdown-it/lib/rules_inline/entity.js","../../node_modules/markdown-it/lib/rules_inline/balance_pairs.js","../../node_modules/markdown-it/lib/rules_inline/state_inline.js","../../node_modules/markdown-it/lib/parser_inline.js","../../node_modules/markdown-it/lib/rules_inline/backticks.js","../../node_modules/markdown-it/lib/rules_inline/fragments_join.js","../../node_modules/linkify-it/lib/re.js","../../node_modules/linkify-it/index.js","../../node_modules/markdown-it/lib/index.js","../../node_modules/markdown-it/lib/presets/default.js","../../node_modules/markdown-it/lib/presets/zero.js","../../node_modules/markdown-it/lib/presets/commonmark.js","../../src/components/Markdown.svelte","../../node_modules/scratchblocks/build/scratchblocks.min.es.js","../../src/components/ScratchBlock.svelte","../../src/components/ScratchProject.svelte","../../src/components/CustomMarkdown.svelte","../../src/pages/Project.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n","import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n","import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n","import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n","import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro  restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro  we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro  needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n","import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n","import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n","<script>\n    export let page;\n</script>\n\n<div class=\"outer\">\n    <div class=\"inner\">\n        <span><a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/matthewnoel/scratch-lesson-plans/issues/new\">Give Feedback</a> </span>\n    </div>\n    <div class=\"inner\">\n        {#if page == null}\n            <span><a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/matthewnoel/scratch-lesson-plans\">Edit on GitHub</a> </span>\n        {:else}\n            <span><a target=\"_blank\" rel=\"noreferrer\" href={`https://github.com/matthewnoel/scratch-lesson-plans/${page}`}>Edit this page on GitHub</a> </span>\n        {/if}\n    </div>\n</div>\n\n<style>\n    .outer {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n\n    }\n\n    .inner {\n        background-color: white;\n        border: 1px solid rgba(0, 0, 0, 0.25);\n        border-radius: 0.4em;\n        padding: 0.25em 0.5em;\n    }\n\n    @media (max-width: 500px) {\n        .inner {\n            margin: auto;\n        }\n    }\n\n    a {\n        font-size: 0.9rem;\n        vertical-align: middle;\n    }\n\n    span {\n        vertical-align: middle;\n    }\n</style>","import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n","// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.2';\nexport const PUBLIC_VERSION = '4';\n","<script>\n    import GitLinks from \"../components/GitLinks.svelte\";\n</script>\n\n<h1>About</h1>\n<div class=\"l0\">\n    <h3> Under Construction </h3>\n    <p>This site is a work <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/matthewnoel/scratch-lesson-plans\">in progress</a>.</p>\n    <p>You can view the <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/matthewnoel/scratch-lesson-plans/blob/main/third-party-licenses.txt\">third-party licenses here</a>.</p>\n</div>\n<GitLinks page={'blob/main/src/pages/About.svelte'} />","import {\n\trun_all,\n\tsubscribe,\n\tnoop,\n\tsafe_not_equal,\n\tis_function,\n\tget_store_value\n} from '../internal/index.js';\n\nconst subscriber_queue = [];\n\n/**\n * Creates a `Readable` store that allows reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#readable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readable(value, start) {\n\treturn {\n\t\tsubscribe: writable(value, start).subscribe\n\t};\n}\n\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n *\n * https://svelte.dev/docs/svelte-store#writable\n * @template T\n * @param {T} [value] initial value\n * @param {import('./public.js').StartStopNotifier<T>} [start]\n * @returns {import('./public.js').Writable<T>}\n */\nexport function writable(value, start = noop) {\n\t/** @type {import('./public.js').Unsubscriber} */\n\tlet stop;\n\t/** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */\n\tconst subscribers = new Set();\n\t/** @param {T} new_value\n\t * @returns {void}\n\t */\n\tfunction set(new_value) {\n\t\tif (safe_not_equal(value, new_value)) {\n\t\t\tvalue = new_value;\n\t\t\tif (stop) {\n\t\t\t\t// store is ready\n\t\t\t\tconst run_queue = !subscriber_queue.length;\n\t\t\t\tfor (const subscriber of subscribers) {\n\t\t\t\t\tsubscriber[1]();\n\t\t\t\t\tsubscriber_queue.push(subscriber, value);\n\t\t\t\t}\n\t\t\t\tif (run_queue) {\n\t\t\t\t\tfor (let i = 0; i < subscriber_queue.length; i += 2) {\n\t\t\t\t\t\tsubscriber_queue[i][0](subscriber_queue[i + 1]);\n\t\t\t\t\t}\n\t\t\t\t\tsubscriber_queue.length = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('./public.js').Updater<T>} fn\n\t * @returns {void}\n\t */\n\tfunction update(fn) {\n\t\tset(fn(value));\n\t}\n\n\t/**\n\t * @param {import('./public.js').Subscriber<T>} run\n\t * @param {import('./private.js').Invalidator<T>} [invalidate]\n\t * @returns {import('./public.js').Unsubscriber}\n\t */\n\tfunction subscribe(run, invalidate = noop) {\n\t\t/** @type {import('./private.js').SubscribeInvalidateTuple<T>} */\n\t\tconst subscriber = [run, invalidate];\n\t\tsubscribers.add(subscriber);\n\t\tif (subscribers.size === 1) {\n\t\t\tstop = start(set, update) || noop;\n\t\t}\n\t\trun(value);\n\t\treturn () => {\n\t\t\tsubscribers.delete(subscriber);\n\t\t\tif (subscribers.size === 0 && stop) {\n\t\t\t\tstop();\n\t\t\t\tstop = null;\n\t\t\t}\n\t\t};\n\t}\n\treturn { set, update, subscribe };\n}\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n *\n * https://svelte.dev/docs/svelte-store#derived\n * @template {import('./private.js').Stores} S\n * @template T\n * @overload\n * @param {S} stores - input stores\n * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values\n * @param {T} [initial_value] - initial value\n * @returns {import('./public.js').Readable<T>}\n */\n\n/**\n * @template {import('./private.js').Stores} S\n * @template T\n * @param {S} stores\n * @param {Function} fn\n * @param {T} [initial_value]\n * @returns {import('./public.js').Readable<T>}\n */\nexport function derived(stores, fn, initial_value) {\n\tconst single = !Array.isArray(stores);\n\t/** @type {Array<import('./public.js').Readable<any>>} */\n\tconst stores_array = single ? [stores] : stores;\n\tif (!stores_array.every(Boolean)) {\n\t\tthrow new Error('derived() expects stores as input, got a falsy value');\n\t}\n\tconst auto = fn.length < 2;\n\treturn readable(initial_value, (set, update) => {\n\t\tlet started = false;\n\t\tconst values = [];\n\t\tlet pending = 0;\n\t\tlet cleanup = noop;\n\t\tconst sync = () => {\n\t\t\tif (pending) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcleanup();\n\t\t\tconst result = fn(single ? values[0] : values, set, update);\n\t\t\tif (auto) {\n\t\t\t\tset(result);\n\t\t\t} else {\n\t\t\t\tcleanup = is_function(result) ? result : noop;\n\t\t\t}\n\t\t};\n\t\tconst unsubscribers = stores_array.map((store, i) =>\n\t\t\tsubscribe(\n\t\t\t\tstore,\n\t\t\t\t(value) => {\n\t\t\t\t\tvalues[i] = value;\n\t\t\t\t\tpending &= ~(1 << i);\n\t\t\t\t\tif (started) {\n\t\t\t\t\t\tsync();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tpending |= 1 << i;\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t\tstarted = true;\n\t\tsync();\n\t\treturn function stop() {\n\t\t\trun_all(unsubscribers);\n\t\t\tcleanup();\n\t\t\t// We need to set this to false because callbacks can still happen despite having unsubscribed:\n\t\t\t// Callbacks might already be placed in the queue which doesn't know it should no longer\n\t\t\t// invoke this derived store.\n\t\t\tstarted = false;\n\t\t};\n\t});\n}\n\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * https://svelte.dev/docs/svelte-store#readonly\n * @template T\n * @param {import('./public.js').Readable<T>} store  - store to make readonly\n * @returns {import('./public.js').Readable<T>}\n */\nexport function readonly(store) {\n\treturn {\n\t\tsubscribe: store.subscribe.bind(store)\n\t};\n}\n\nexport { get_store_value as get };\n","import { writable } from 'svelte/store';\n\nexport const page = writable('');\nexport const projectName = writable('');\nconst projectNames = [\n    'hello-world',\n    'pong',\n    'tic-tac-toe',\n    'math-quiz',\n    'fibonacci-sequence',\n]\n\nexport const initPage = () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const pageParam = urlParams.get('page');\n    const nameParam = urlParams.get('name');\n    updatePage(pageParam, nameParam);\n};\n\nconst setProjectName = (name) => {\n    if (projectNames.includes(name)) {\n        projectName.update(() => name);\n        return name;\n    }\n    return '';\n};\n\nexport const updatePage = (newPage, project) => page.update(() => {\n    const sanitizedPage = newPage?.toLowerCase();\n    const url = new URL(window.location);\n    for (const key of url.searchParams.keys()) {\n        url.searchParams.delete(key);\n    }\n    switch (sanitizedPage) {\n        case 'about':\n        case 'project':\n            url.searchParams.set('page', sanitizedPage);\n            url.searchParams.set('name', setProjectName(project));\n            break;\n        default:\n            url.searchParams.set('page', '');\n            break;\n    }\n    history.pushState({}, '', url);\n    return newPage;\n});\n","<script>\n    import { updatePage } from \"../router\";\n\n    const handleInternalProjectLink = (event, page, name) => {\n        if (event?.code !== 'Enter' && event?.code != null) {\n            return;\n        }\n        updatePage(page, name);\n    };\n</script>\n\n<h1>All Projects</h1>\n<div class=\"l0\">\n    <h3>Getting Started</h3>\n    <ul>\n        <li>\n            <a on:click|preventDefault={() => handleInternalProjectLink(null, 'project', 'hello-world')} on:keydown={(e) => handleInternalProjectLink(e, 'project', 'hello-world')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=project&name=hello-world\">Hello World </a>\n        </li>\n    </ul>\n    <h3>Educational</h3>\n    <ul>\n        <li>\n            <a on:click|preventDefault={() => handleInternalProjectLink(null, 'project', 'math-quiz')} on:keydown={(e) => handleInternalProjectLink(e, 'project', 'math-quiz')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=project&name=math-quiz\">Math Quiz </a>\n        </li>\n        <li>\n            <a on:click|preventDefault={() => handleInternalProjectLink(null, 'project', 'fibonacci-sequence')} on:keydown={(e) => handleInternalProjectLink(e, 'project', 'fibonacci-sequence')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=project&name=fibonacci-sequence\">Fibonacci Sequence </a>\n        </li>\n    </ul>\n    <h3>Games</h3>\n    <ul>\n        <li>\n            <a on:click|preventDefault={() => handleInternalProjectLink(null, 'project', 'pong')} on:keydown={(e) => handleInternalProjectLink(e, 'project', 'pong')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=project&name=pong\">Pong  <i>~ Coming Soon</i></a>\n        </li>\n        <li>\n            <a on:click|preventDefault={() => handleInternalProjectLink(null, 'project', 'tic-tac-toe')} on:keydown={(e) => handleInternalProjectLink(e, 'project', 'tic-tac-toe')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=project&name=tic-tac-toe\">Tic-Tac-Toe # <i>~ Coming Soon</i></a>\n        </li>\n    </ul>\n</div>\n\n<style>\n    h1 {\n        text-decoration: underline;\n    }\n\n    a {\n        text-decoration: none;\n    }\n\n    i {\n        color: gray;\n    }\n</style>","<script>\n    import ProjectsList from \"../components/ProjectsList.svelte\";\n    import GitLinks from \"../components/GitLinks.svelte\";\n</script>\n\n<ProjectsList />\n<GitLinks page={\"blob/main/src/pages/Index.svelte\"} />\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 ''.toLowerCase() === '', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if (''.toLowerCase() === '') {\n    str = str.replace(//g, '');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // , , , , ,  - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (), U+03f4 () and lowercase U+03b8 (), U+03d1 ()\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change  (it's already lowercase),\n  // and .toUpperCase() doesn't change  (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, start, max) {\n  var code, level,\n      pos = start,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3C /* < */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) { break; }\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 32) { return result; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, start, max) {\n  var code,\n      marker,\n      lines = 0,\n      pos = start,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x28 /* ( */ && marker === 0x29 /* ) */) {\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(token.content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      langAttrs = '',\n      highlighted, i, arr, tmpAttrs, tmpToken;\n\n  if (info) {\n    arr = info.split(/(\\s+)/g);\n    langName = arr[0];\n    langAttrs = arr.slice(2).join('');\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .deepClone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i] = tmpAttrs[i].slice();\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    } else if (tokens[i].type === 'softbreak') {\n      result += '\\n';\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 &&\n            links[0].index === 0 &&\n            i > 0 &&\n            tokens[i - 1].type === 'text_special') {\n          links = links.slice(1);\n        }\n\n        for (ln = 0; ln < links.length; ln++) {\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Simple typographic replacements\n//\n// (c) (C)  \n// (tm) (TM)  \n// (r) (R)  \n// +-  \n// ...   (also ?....  ?.., !....  !..)\n// ????????  ???, !!!!!  !!!, `,,`  `,`\n// --  &ndash;, ---  &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - multiplications 2 x 4 -> 2  4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '',\n  r: '',\n  tm: ''\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '')\n          // .., ..., ....... -> \n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /*  */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (!tokens[j].content) continue; // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  // `text_join` finds `text_special` tokens (for escape sequences)\n  // and joins them with the rest of the text\n  [ 'text_join',      require('./rules_core/text_join')      ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n'use strict';\n\n\nmodule.exports = function text_join(state) {\n  var j, l, tokens, curr, max, last,\n      blockTokens = state.tokens;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue;\n\n    tokens = blockTokens[j].children;\n    max = tokens.length;\n\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text';\n      }\n    }\n\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' &&\n          curr + 1 < max &&\n          tokens[curr + 1].type === 'text') {\n\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n      } else {\n        if (curr !== last) { tokens[last] = tokens[curr]; }\n\n        last++;\n      }\n    }\n\n    if (curr !== last) {\n      tokens.length = last;\n    }\n  }\n};\n","// GFM table, https://github.github.com/gfm/#tables-extension-\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  return state.src.slice(pos, max);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      isEscaped = false,\n      lastPos = 0,\n      current = '';\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x7c/* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos));\n        current = '';\n        lastPos = pos + 1;\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1);\n        lastPos = pos;\n      }\n    }\n\n    isEscaped = (ch === 0x5c/* \\ */);\n    pos++;\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(current + str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, l, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines, oldParentType, terminate,\n      terminatorRules, firstCh, secondCh;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  firstCh = state.src.charCodeAt(pos++);\n  if (firstCh !== 0x7C/* | */ && firstCh !== 0x2D/* - */ && firstCh !== 0x3A/* : */) { return false; }\n\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  secondCh = state.src.charCodeAt(pos++);\n  if (secondCh !== 0x7C/* | */ && secondCh !== 0x2D/* - */ && secondCh !== 0x3A/* : */ && !isSpace(secondCh)) {\n    return false;\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D/* - */ && isSpace(secondCh)) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText);\n  if (columns.length && columns[0] === '') columns.shift();\n  if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  columnCount = columns.length;\n  if (columnCount === 0 || columnCount !== aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'table';\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) { break; }\n    lineText = getLine(state, nextLine).trim();\n    if (!lineText) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText);\n    if (columns.length && columns[0] === '') columns.shift();\n    if (columns.length && columns[columns.length - 1] === '') columns.pop();\n\n    if (nextLine === startLine + 2) {\n      token     = state.push('tbody_open', 'tbody', 1);\n      token.map = tbodyLines = [ startLine + 2, 0 ];\n    }\n\n    token     = state.push('tr_open', 'tr', 1);\n    token.map = [ nextLine, nextLine + 1 ];\n\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n\n  if (tbodyLines) {\n    token = state.push('tbody_close', 'tbody', -1);\n    tbodyLines[1] = nextLine;\n  }\n\n  token = state.push('table_close', 'table', -1);\n  tableLines[1] = nextLine;\n\n  state.parentType = oldParentType;\n  state.line = nextLine;\n  return true;\n};\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      isOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  oldBMarks  = [];\n  oldBSCount = [];\n  oldSCount  = [];\n  oldTShift  = [];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    isOutdented = state.sCount[nextLine] < state.blkIndent;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      initial = state.sCount[nextLine] + 1;\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + initial) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      offset = initial;\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      nextLine = startLine,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[nextLine] - state.listIndent >= 4 &&\n      state.sCount[nextLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, nextLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[nextLine] + state.tShift[nextLine];\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, nextLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[nextLine]) return false;\n  }\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ nextLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ nextLine, 0 ];\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1);\n    }\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[nextLine];\n    oldSCount = state.sCount[nextLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[nextLine] = contentStart - state.bMarks[nextLine];\n    state.sCount[nextLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(nextLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, nextLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - nextLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[nextLine] = oldTShift;\n    state.sCount[nextLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = state.line;\n    itemLines[1] = nextLine;\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?][\\\\s\\\\S]*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i, prevLine,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n    prevLine = state.line;\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        if (prevLine >= state.line) {\n          throw new Error(\"block rule didn't increment state.line\");\n        }\n        break;\n      }\n    }\n\n    // this can only happen if user disables paragraph rule\n    if (!ok) throw new Error('none of the block rules matched');\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n';\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine, endLine) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch1, ch2, origStr, escapedStr, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false;\n  pos++;\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false;\n\n  ch1 = state.src.charCodeAt(pos);\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0);\n    }\n\n    pos++;\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos);\n      if (!isSpace(ch1)) break;\n      pos++;\n    }\n\n    state.pos = pos;\n    return true;\n  }\n\n  escapedStr = state.src[pos];\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    ch2 = state.src.charCodeAt(pos + 1);\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1];\n      pos++;\n    }\n  }\n\n  origStr = '\\\\' + escapedStr;\n\n  if (!silent) {\n    token = state.push('text_special', '', 0);\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr;\n    } else {\n      token.content = origStr;\n    }\n\n    token.markup = origStr;\n    token.info   = 'escape';\n  }\n\n  state.pos = pos + 1;\n  return true;\n};\n","// Process links like https://example.org/\n\n'use strict';\n\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nvar SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;\n\n\nmodule.exports = function linkify(state, silent) {\n  var pos, max, match, proto, link, url, fullUrl, token;\n\n  if (!state.md.options.linkify) return false;\n  if (state.linkLevel > 0) return false;\n\n  pos = state.pos;\n  max = state.posMax;\n\n  if (pos + 3 > max) return false;\n  if (state.src.charCodeAt(pos) !== 0x3A/* : */) return false;\n  if (state.src.charCodeAt(pos + 1) !== 0x2F/* / */) return false;\n  if (state.src.charCodeAt(pos + 2) !== 0x2F/* / */) return false;\n\n  match = state.pending.match(SCHEME_RE);\n  if (!match) return false;\n\n  proto = match[1];\n\n  link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length));\n  if (!link) return false;\n\n  url = link.url;\n\n  // invalid link, but still detected by linkify somehow;\n  // need to check to prevent infinite loop below\n  if (url.length <= proto.length) return false;\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '');\n\n  fullUrl = state.md.normalizeLink(url);\n  if (!state.md.validateLink(fullUrl)) return false;\n\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length);\n\n    token         = state.push('link_open', 'a', 1);\n    token.attrs   = [ [ 'href', fullUrl ] ];\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n\n    token         = state.push('text', '', 0);\n    token.content = state.md.normalizeLinkText(url);\n\n    token         = state.push('link_close', 'a', -1);\n    token.markup  = 'linkify';\n    token.info    = 'auto';\n  }\n\n  state.pos += url.length - proto.length;\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, ws, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        ws = pmax - 1;\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--;\n\n        state.pending = state.pending.slice(0, ws);\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               // check that first two markers match and adjacent\n               delimiters[i - 1].marker === startDelim.marker &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               // check that last two markers are adjacent (we can safely assume they match)\n               delimiters[startDelim.end + 1].token === endDelim.token + 1;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      token,\n      href = '',\n      title = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos;\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str;\n        pos = res.pos;\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos);\n          if (!isSpace(code) && code !== 0x0A) { break; }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.linkLevel++;\n    state.md.inline.tokenize(state);\n    state.linkLevel--;\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/;\nvar AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)$/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var url, fullUrl, token, ch, start, max,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  start = state.pos;\n  max = state.posMax;\n\n  for (;;) {\n    if (++pos >= max) return false;\n\n    ch = state.src.charCodeAt(pos);\n\n    if (ch === 0x3C /* < */) return false;\n    if (ch === 0x3E /* > */) break;\n  }\n\n  url = state.src.slice(start + 1, pos);\n\n  if (AUTOLINK_RE.test(url)) {\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  if (EMAIL_RE.test(url)) {\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += url.length + 2;\n    return true;\n  }\n\n  return false;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = match[0];\n\n    if (isLinkOpen(token.content))  state.linkLevel++;\n    if (isLinkClose(token.content)) state.linkLevel--;\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, token, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) return false;\n\n  if (pos + 1 >= max) return false;\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x23 /* # */) {\n    match = state.src.slice(pos).match(DIGITAL_RE);\n    if (match) {\n      if (!silent) {\n        code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n\n        token         = state.push('text_special', '', 0);\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        token.markup  = match[0];\n        token.info    = 'entity';\n      }\n      state.pos += match[0].length;\n      return true;\n    }\n  } else {\n    match = state.src.slice(pos).match(NAMED_RE);\n    if (match) {\n      if (has(entities, match[1])) {\n        if (!silent) {\n          token         = state.push('text_special', '', 0);\n          token.content = entities[match[1]];\n          token.markup  = match[0];\n          token.info    = 'entity';\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  if (!max) return;\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  var headerIdx = 0;\n  var lastTokenIdx = -2; // needs any value lower than -1\n  var jumps = [];\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    jumps.push(0);\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx;\n    }\n\n    lastTokenIdx = closer.token;\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1, -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length % 3)];\n\n    openerIdx = headerIdx - jumps[headerIdx] - 1;\n\n    newMinOpenerIdx = openerIdx;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (opener.open && opener.end < 0) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            jumps[openerIdx - 1] + 1 :\n            0;\n\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump;\n          jumps[openerIdx] = lastJump;\n\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + ((closer.length || 0) % 3)] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n\n  // backtick length => last seen position\n  this.backticks = {};\n  this.backticksScanned = false;\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0;\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'linkify',         require('./rules_inline/linkify') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  // rules for pairs separate '**' into its own text tokens, which may be left unused,\n  // rule below merges unused segments back with the rest of the text\n  [ 'fragments_join',  require('./rules_inline/fragments_join') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) {\n        if (pos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\"); }\n        break;\n      }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i, prevPos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    prevPos = state.pos;\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) {\n          if (prevPos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\"); }\n          break;\n        }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","// Parse backticks\n\n'use strict';\n\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, token, matchStart, matchEnd, openerLength, closerLength,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n  openerLength = marker.length;\n\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker;\n    state.pos += openerLength;\n    return true;\n  }\n\n  matchEnd = pos;\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    closerLength = matchEnd - matchStart;\n\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        token     = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart;\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true;\n\n  if (!silent) state.pending += marker;\n  state.pos += openerLength;\n  return true;\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function fragments_join(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n  opts = opts || {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')' +\n    '(?!' + (opts['---'] ? '-(?!--)|' : '-|') + '_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-;]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-])|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' + // google has many dots in \"google search\" links (#66, #81).\n                                     // github has ... in commit range links,\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // - params separator\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]|$)|' +\n          (opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          ',(?!' + re.src_ZCc + '|$)|' +       // allow `,,,` in paths\n          ';(?!' + re.src_ZCc + '|$)|' +       // allow `;` if not followed by space-like char\n          '\\\\!+(?!' + re.src_ZCc + '|[!]|$)|' +  // allow `!!!` in paths, but not at the end\n          '\\\\?(?!' + re.src_ZCc + '|[?]|$)' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test     = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n  self.re.schema_at_start = RegExp('^' + self.re.schema_search.source, 'i');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/**\n * LinkifyIt#matchAtStart(text) -> Match|null\n *\n * Returns fully-formed (not fuzzy) link if it starts at the beginning\n * of the string, and null otherwise.\n **/\nLinkifyIt.prototype.matchAtStart = function matchAtStart(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) return null;\n\n  var m = this.re.schema_at_start.exec(text);\n  if (!m) return null;\n\n  var len = this.testSchemaAt(text, m[2], m[0].length);\n  if (!len) return null;\n\n  this.__schema__     = m[2];\n  this.__index__      = m.index + m[1].length;\n  this.__last_index__ = m.index + m[0].length + len;\n\n  return createMatch(this, 0);\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  default: require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  // add '%' to exclude list because of https://github.com/markdown-it/markdown-it/issues/720\n  return mdurl.decode(mdurl.format(parsed), mdurl.decode.defaultChars + '%');\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - ``, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `''` for Russian, `''` for German, and\n *   `['\\xA0', '\\xA0', '\\xA0', '\\xA0']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(str, { language: lang, ignoreIllegals: true }).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'fragments_join'\n      ]\n    }\n  }\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'fragments_join'\n      ]\n    }\n  }\n};\n","<script>\n    import MarkdownIt from 'markdown-it';\n    export let source = '';\n    const getHtml = (source) => {\n        const markdownIt = new MarkdownIt();\n        return markdownIt.render(source);\n    };\n    $: html = getHtml(source);\n</script>\n\n<div>\n    {@html html}\n</div>","/**\n * scratchblocks v3.6.3\n * https://scratchblocks.github.io/\n * Render scratchblocks code to SVG images.\n *\n * Copyright 20132023, Tim Radvan\n * @license MIT\n */\n\n/*\n    When a new extension is added:\n    1) Add it to extensions object\n    2) Add its blocks to commands.js\n    3) Add icon width/height to scratch3/blocks.js IconView\n    4) Add icon to scratch3/style.js\n*/\n\n// Moved extensions: key is scratch3, value is scratch2\nconst movedExtensions = {\n  pen: \"pen\",\n  video: \"sensing\",\n  music: \"sound\",\n};\n\nconst extensions = {\n  ...movedExtensions,\n  tts: \"tts\",\n  translate: \"translate\",\n  microbit: \"microbit\",\n  wedo: \"wedo\",\n  makeymakey: \"makeymakey\",\n  ev3: \"ev3\",\n  boost: \"boost\",\n  gdxfor: \"gdxfor\",\n};\n\n// Alias extensions: unlike movedExtensions, this is handled for both scratch2 and scratch3.\n// Key is alias, value is real extension name\nconst aliasExtensions = {\n  wedo2: \"wedo\",\n  text2speech: \"tts\",\n};\n\nvar scratchCommands = [\n  {\n    id: \"MOTION_MOVESTEPS\",\n    selector: \"forward:\",\n    spec: \"move %1 steps\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_TURNRIGHT\",\n    selector: \"turnRight:\",\n    spec: \"turn @turnRight %1 degrees\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_TURNLEFT\",\n    selector: \"turnLeft:\",\n    spec: \"turn @turnLeft %1 degrees\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_POINTINDIRECTION\",\n    selector: \"heading:\",\n    spec: \"point in direction %1\",\n    inputs: [\"%d.direction\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_POINTTOWARDS\",\n    selector: \"pointTowards:\",\n    spec: \"point towards %1\",\n    inputs: [\"%m.spriteOrMouse\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GOTOXY\",\n    selector: \"gotoX:y:\",\n    spec: \"go to x:%1 y:%2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GOTO\",\n    selector: \"gotoSpriteOrMouse:\",\n    spec: \"go to %1\",\n    inputs: [\"%m.location\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GLIDESECSTOXY\",\n    selector: \"glideSecs:toX:y:elapsed:from:\",\n    spec: \"glide %1 secs to x:%2 y:%3\",\n    inputs: [\"%n\", \"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GLIDETO\",\n    spec: \"glide %1 secs to %2\",\n    inputs: [\"%n\", \"%m.location\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_CHANGEXBY\",\n    selector: \"changeXposBy:\",\n    spec: \"change x by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETX\",\n    selector: \"xpos:\",\n    spec: \"set x to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_CHANGEYBY\",\n    selector: \"changeYposBy:\",\n    spec: \"change y by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETY\",\n    selector: \"ypos:\",\n    spec: \"set y to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETROTATIONSTYLE\",\n    selector: \"setRotationStyle\",\n    spec: \"set rotation style %1\",\n    inputs: [\"%m.rotationStyle\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"LOOKS_SAYFORSECS\",\n    selector: \"say:duration:elapsed:from:\",\n    spec: \"say %1 for %2 seconds\",\n    inputs: [\"%s\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SAY\",\n    selector: \"say:\",\n    spec: \"say %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_THINKFORSECS\",\n    selector: \"think:duration:elapsed:from:\",\n    spec: \"think %1 for %2 seconds\",\n    inputs: [\"%s\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_THINK\",\n    selector: \"think:\",\n    spec: \"think %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SHOW\",\n    selector: \"show\",\n    spec: \"show\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_HIDE\",\n    selector: \"hide\",\n    spec: \"hide\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHCOSTUMETO\",\n    selector: \"lookLike:\",\n    spec: \"switch costume to %1\",\n    inputs: [\"%m.costume\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_NEXTCOSTUME\",\n    selector: \"nextCostume\",\n    spec: \"next costume\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_NEXTBACKDROP_BLOCK\",\n    selector: \"nextScene\",\n    spec: \"next backdrop\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHBACKDROPTO\",\n    selector: \"startScene\",\n    spec: \"switch backdrop to %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHBACKDROPTOANDWAIT\",\n    selector: \"startSceneAndWait\",\n    spec: \"switch backdrop to %1 and wait\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CHANGEEFFECTBY\",\n    selector: \"changeGraphicEffect:by:\",\n    spec: \"change %1 effect by %2\",\n    inputs: [\"%m.effect\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SETEFFECTTO\",\n    selector: \"setGraphicEffect:to:\",\n    spec: \"set %1 effect to %2\",\n    inputs: [\"%m.effect\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CLEARGRAPHICEFFECTS\",\n    selector: \"filterReset\",\n    spec: \"clear graphic effects\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CHANGESIZEBY\",\n    selector: \"changeSizeBy:\",\n    spec: \"change size by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SETSIZETO\",\n    selector: \"setSizeTo:\",\n    spec: \"set size to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    selector: \"comeToFront\",\n    spec: \"go to front\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_GOTOFRONTBACK\",\n    spec: \"go to %1 layer\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    selector: \"goBackByLayers:\",\n    spec: \"go back %1 layers\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_GOFORWARDBACKWARDLAYERS\",\n    spec: \"go %1 %2 layers\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"SOUND_PLAY\",\n    selector: \"playSound:\",\n    spec: \"start sound %1\",\n    inputs: [\"%m.sound\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_CHANGEEFFECTBY\",\n    spec: \"change %1 effect by %2\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_SETEFFECTO\", // sic\n    spec: \"set %1 effect to %2\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_CLEAREFFECTS\",\n    spec: \"clear sound effects\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_PLAYUNTILDONE\",\n    selector: \"doPlaySoundAndWait\",\n    spec: \"play sound %1 until done\",\n    inputs: [\"%m.sound\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_STOPALLSOUNDS\",\n    selector: \"stopAllSounds\",\n    spec: \"stop all sounds\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.playDrumForBeats\",\n    selector: \"playDrum\",\n    spec: \"play drum %1 for %2 beats\",\n    inputs: [\"%d.drum\", \"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.restForBeats\",\n    selector: \"rest:elapsed:from:\",\n    spec: \"rest for %1 beats\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.playNoteForBeats\",\n    selector: \"noteOn:duration:elapsed:from:\",\n    spec: \"play note %1 for %2 beats\",\n    inputs: [\"%d.note\", \"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.setInstrument\",\n    selector: \"instrument:\",\n    spec: \"set instrument to %1\",\n    inputs: [\"%d.instrument\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"SOUND_CHANGEVOLUMEBY\",\n    selector: \"changeVolumeBy:\",\n    spec: \"change volume by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_SETVOLUMETO\",\n    selector: \"setVolumeTo:\",\n    spec: \"set volume to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.changeTempo\",\n    selector: \"changeTempoBy:\",\n    spec: \"change tempo by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    selector: \"setTempoTo:\",\n    spec: \"set tempo to %1 bpm\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.setTempo\",\n    selector: \"setTempoTo:\",\n    spec: \"set tempo to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"pen.clear\",\n    selector: \"clearPenTrails\",\n    spec: \"erase all\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.stamp\",\n    selector: \"stampCostume\",\n    spec: \"stamp\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.penDown\",\n    selector: \"putPenDown\",\n    spec: \"pen down\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.penUp\",\n    selector: \"putPenUp\",\n    spec: \"pen up\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setColor\",\n    selector: \"penColor:\",\n    spec: \"set pen color to %1\",\n    inputs: [\"%c\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeHue\",\n    selector: \"changePenHueBy:\",\n    spec: \"change pen color by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setColorParam\",\n    spec: \"set pen %1 to %2\",\n    inputs: [\"%m.color\", \"%c\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeColorParam\",\n    spec: \"change pen %1 by %2\",\n    inputs: [\"%m.color\", \"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setHue\",\n    selector: \"setPenHueTo:\",\n    spec: \"set pen color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeShade\",\n    selector: \"changePenShadeBy:\",\n    spec: \"change pen shade by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setShade\",\n    selector: \"setPenShadeTo:\",\n    spec: \"set pen shade to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeSize\",\n    selector: \"changePenSizeBy:\",\n    spec: \"change pen size by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setSize\",\n    selector: \"penSize:\",\n    spec: \"set pen size to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"EVENT_WHENFLAGCLICKED\",\n    selector: \"whenGreenFlag\",\n    spec: \"when @greenFlag clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENKEYPRESSED\",\n    selector: \"whenKeyPressed\",\n    spec: \"when %1 key pressed\",\n    inputs: [\"%m.key\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENTHISSPRITECLICKED\",\n    selector: \"whenClicked\",\n    spec: \"when this sprite clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENSTAGECLICKED\",\n    spec: \"when stage clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENBACKDROPSWITCHESTO\",\n    selector: \"whenSceneStarts\",\n    spec: \"when backdrop switches to %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENGREATERTHAN\",\n    selector: \"whenSensorGreaterThan\",\n    spec: \"when %1 > %2\",\n    inputs: [\"%m.triggerSensor\", \"%n\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENBROADCASTRECEIVED\",\n    selector: \"whenIReceive\",\n    spec: \"when I receive %1\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_BROADCAST\",\n    selector: \"broadcast:\",\n    spec: \"broadcast %1\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"stack\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_BROADCASTANDWAIT\",\n    selector: \"doBroadcastAndWait\",\n    spec: \"broadcast %1 and wait\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"stack\",\n    category: \"events\",\n  },\n  {\n    id: \"CONTROL_WAIT\",\n    selector: \"wait:elapsed:from:\",\n    spec: \"wait %1 seconds\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_REPEAT\",\n    selector: \"doRepeat\",\n    spec: \"repeat %1\",\n    inputs: [\"%n\"],\n    shape: \"c-block\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_FOREVER\",\n    selector: \"doForever\",\n    spec: \"forever\",\n    inputs: [],\n    shape: \"c-block cap\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_IF\",\n    selector: \"doIf\",\n    spec: \"if %1 then\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_WAITUNTIL\",\n    selector: \"doWaitUntil\",\n    spec: \"wait until %1\",\n    inputs: [\"%b\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_REPEATUNTIL\",\n    selector: \"doUntil\",\n    spec: \"repeat until %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_STOP\",\n    selector: \"stopScripts\",\n    spec: \"stop %1\",\n    inputs: [\"%m.stop\"],\n    shape: \"cap\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_STARTASCLONE\",\n    selector: \"whenCloned\",\n    spec: \"when I start as a clone\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_CREATECLONEOF\",\n    selector: \"createCloneOf\",\n    spec: \"create clone of %1\",\n    inputs: [\"%m.spriteOnly\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_DELETETHISCLONE\",\n    selector: \"deleteClone\",\n    spec: \"delete this clone\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"control\",\n  },\n  {\n    id: \"SENSING_ASKANDWAIT\",\n    selector: \"doAsk\",\n    spec: \"ask %1 and wait\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"videoSensing.videoToggle\",\n    selector: \"setVideoState\",\n    spec: \"turn video %1\",\n    inputs: [\"%m.videoState\"],\n    shape: \"stack\",\n    category: \"video\",\n  },\n  {\n    id: \"videoSensing.setVideoTransparency\",\n    selector: \"setVideoTransparency\",\n    spec: \"set video transparency to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"video\",\n  },\n  {\n    id: \"videoSensing.whenMotionGreaterThan\",\n    spec: \"when video motion > %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"video\",\n  },\n  {\n    id: \"SENSING_RESETTIMER\",\n    selector: \"timerReset\",\n    spec: \"reset timer\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"DATA_SETVARIABLETO\",\n    selector: \"setVar:to:\",\n    spec: \"set %1 to %2\",\n    inputs: [\"%m.var\", \"%s\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_CHANGEVARIABLEBY\",\n    selector: \"changeVar:by:\",\n    spec: \"change %1 by %2\",\n    inputs: [\"%m.var\", \"%n\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_SHOWVARIABLE\",\n    selector: \"showVariable:\",\n    spec: \"show variable %1\",\n    inputs: [\"%m.var\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_HIDEVARIABLE\",\n    selector: \"hideVariable:\",\n    spec: \"hide variable %1\",\n    inputs: [\"%m.var\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_ADDTOLIST\",\n    selector: \"append:toList:\",\n    spec: \"add %1 to %2\",\n    inputs: [\"%s\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_DELETEOFLIST\",\n    selector: \"deleteLine:ofList:\",\n    spec: \"delete %1 of %2\",\n    inputs: [\"%d.listDeleteItem\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_DELETEALLOFLIST\",\n    spec: \"delete all of %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"MOTION_IFONEDGEBOUNCE\",\n    selector: \"bounceOffEdge\",\n    spec: \"if on edge, bounce\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"DATA_INSERTATLIST\",\n    selector: \"insert:at:ofList:\",\n    spec: \"insert %1 at %2 of %3\",\n    inputs: [\"%s\", \"%d.listItem\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_REPLACEITEMOFLIST\",\n    selector: \"setLine:ofList:to:\",\n    spec: \"replace item %1 of %2 with %3\",\n    inputs: [\"%d.listItem\", \"%m.list\", \"%s\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_SHOWLIST\",\n    selector: \"showList:\",\n    spec: \"show list %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_HIDELIST\",\n    selector: \"hideList:\",\n    spec: \"hide list %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"SENSING_OF_XPOSITION\",\n    selector: \"xpos\",\n    spec: \"x position\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_YPOSITION\",\n    selector: \"ypos\",\n    spec: \"y position\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_DIRECTION\",\n    selector: \"heading\",\n    spec: \"direction\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_COSTUMENUMBER\",\n    selector: \"costumeIndex\",\n    spec: \"costume #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_COSTUMENUMBERNAME\",\n    selector: \"LOOKS_COSTUMENUMBERNAME\",\n    spec: \"costume %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_SIZE\",\n    selector: \"scale\",\n    spec: \"size\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_BACKDROPNAME\",\n    selector: \"sceneName\",\n    spec: \"backdrop name\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_BACKDROPNUMBERNAME\",\n    spec: \"backdrop %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_BACKDROPNUMBER\",\n    selector: \"backgroundIndex\",\n    spec: \"backdrop #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SOUND_VOLUME\",\n    selector: \"volume\",\n    spec: \"volume\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.getTempo\",\n    selector: \"tempo\",\n    spec: \"tempo\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"music\",\n  },\n  {\n    id: \"SENSING_TOUCHINGOBJECT\",\n    selector: \"touching:\",\n    spec: \"touching %1?\",\n    inputs: [\"%m.touching\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_TOUCHINGCOLOR\",\n    selector: \"touchingColor:\",\n    spec: \"touching color %1?\",\n    inputs: [\"%c\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_COLORISTOUCHINGCOLOR\",\n    selector: \"color:sees:\",\n    spec: \"color %1 is touching %2?\",\n    inputs: [\"%c\", \"%c\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_DISTANCETO\",\n    selector: \"distanceTo:\",\n    spec: \"distance to %1\",\n    inputs: [\"%m.spriteOrMouse\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_ANSWER\",\n    selector: \"answer\",\n    spec: \"answer\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_KEYPRESSED\",\n    selector: \"keyPressed:\",\n    spec: \"key %1 pressed?\",\n    inputs: [\"%m.key\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEDOWN\",\n    selector: \"mousePressed\",\n    spec: \"mouse down?\",\n    inputs: [],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEX\",\n    selector: \"mouseX\",\n    spec: \"mouse x\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEY\",\n    selector: \"mouseY\",\n    spec: \"mouse y\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_SETDRAGMODE\",\n    spec: \"set drag mode %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_LOUDNESS\",\n    selector: \"soundLevel\",\n    spec: \"loudness\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"videoSensing.videoOn\",\n    selector: \"senseVideoMotion\",\n    spec: \"video %1 on %2\",\n    inputs: [\"%m.videoMotionType\", \"%m.stageOrThis\"],\n    shape: \"reporter\",\n    category: \"video\",\n  },\n  {\n    id: \"SENSING_TIMER\",\n    selector: \"timer\",\n    spec: \"timer\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_OF\",\n    selector: \"getAttribute:of:\",\n    spec: \"%1 of %2\",\n    inputs: [\"%m.attribute\", \"%m.spriteOrStage\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_CURRENT\",\n    selector: \"timeAndDate\",\n    spec: \"current %1\",\n    inputs: [\"%m.timeAndDate\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_DAYSSINCE2000\",\n    selector: \"timestamp\",\n    spec: \"days since 2000\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_USERNAME\",\n    selector: \"getUserName\",\n    spec: \"username\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"OPERATORS_ADD\",\n    selector: \"+\",\n    spec: \"%1 + %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_SUBTRACT\",\n    selector: \"-\",\n    spec: \"%1 - %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MULTIPLY\",\n    selector: \"*\",\n    spec: \"%1 * %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_DIVIDE\",\n    selector: \"/\",\n    spec: \"%1 / %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_RANDOM\",\n    selector: \"randomFrom:to:\",\n    spec: \"pick random %1 to %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LT\",\n    selector: \"<\",\n    spec: \"%1 < %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_EQUALS\",\n    selector: \"=\",\n    spec: \"%1 = %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_GT\",\n    selector: \">\",\n    spec: \"%1 > %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_AND\",\n    selector: \"&\",\n    spec: \"%1 and %2\",\n    inputs: [\"%b\", \"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_OR\",\n    selector: \"|\",\n    spec: \"%1 or %2\",\n    inputs: [\"%b\", \"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_NOT\",\n    selector: \"not\",\n    spec: \"not %1\",\n    inputs: [\"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_JOIN\",\n    selector: \"concatenate:with:\",\n    spec: \"join %1 %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LETTEROF\",\n    selector: \"letter:of:\",\n    spec: \"letter %1 of %2\",\n    inputs: [\"%n\", \"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LENGTH\",\n    selector: \"stringLength:\",\n    spec: \"length of %1\",\n    inputs: [\"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MOD\",\n    selector: \"%\",\n    spec: \"%1 mod %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_ROUND\",\n    selector: \"rounded\",\n    spec: \"round %1\",\n    inputs: [\"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MATHOP\",\n    selector: \"computeFunction:of:\",\n    spec: \"%1 of %2\",\n    inputs: [\"%m.mathOp\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_CONTAINS\",\n    spec: \"%1 contains %2?\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"DATA_ITEMOFLIST\",\n    selector: \"getLine:ofList:\",\n    spec: \"item %1 of %2\",\n    inputs: [\"%d.listItem\", \"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_ITEMNUMOFLIST\",\n    spec: \"item # of %1 in %2\",\n    inputs: [\"%s\", \"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_LENGTHOFLIST\",\n    selector: \"lineCountOfList:\",\n    spec: \"length of %1\",\n    inputs: [\"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_LISTCONTAINSITEM\",\n    selector: \"list:contains:\",\n    spec: \"%1 contains %2?\",\n    inputs: [\"%m.list\", \"%s\"],\n    shape: \"boolean\",\n    category: \"list\",\n  },\n  {\n    id: \"CONTROL_ELSE\",\n    spec: \"else\",\n    inputs: [],\n    shape: \"celse\",\n    category: \"control\",\n  },\n  {\n    id: \"scratchblocks:end\",\n    spec: \"end\",\n    inputs: [],\n    shape: \"cend\",\n    category: \"control\",\n  },\n  {\n    id: \"scratchblocks:ellipsis\",\n    spec: \". . .\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"grey\",\n  },\n  {\n    id: \"scratchblocks:addInput\",\n    spec: \"%1 @addInput\",\n    inputs: [\"%n\"],\n    shape: \"ring\",\n    category: \"grey\",\n  },\n  {\n    id: \"SENSING_USERID\",\n    spec: \"user id\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doIf\",\n    spec: \"if %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doForeverIf\",\n    spec: \"forever if %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doReturn\",\n    spec: \"stop script\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"stopAll\",\n    spec: \"stop all\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"lookLike:\",\n    spec: \"switch to costume %1\",\n    inputs: [\"%m.costume\"],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"nextScene\",\n    spec: \"next background\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"startScene\",\n    spec: \"switch to background %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"backgroundIndex\",\n    spec: \"background #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"obsolete\",\n  },\n  {\n    id: \"SENSING_LOUD\",\n    selector: \"isLoud\",\n    spec: \"loud?\",\n    inputs: [],\n    shape: \"boolean\",\n    category: \"obsolete\",\n  },\n  // TODO define\n  {\n    id: \"text2speech.speakAndWaitBlock\",\n    spec: \"speak %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"text2speech.setVoiceBlock\",\n    spec: \"set voice to %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"text2speech.setLanguageBlock\",\n    spec: \"set language to %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"translate.translateBlock\",\n    spec: \"translate %1 to %2\",\n    inputs: [\"%s\", \"%m\"],\n    shape: \"reporter\",\n    category: \"translate\",\n  },\n  {\n    id: \"translate.viewerLanguage\",\n    spec: \"language\",\n    shape: \"reporter\",\n    category: \"translate\",\n  },\n  {\n    id: \"makeymakey.whenKeyPressed\",\n    spec: \"when %1 key pressed\",\n    inputs: [\"%m\"], // this is not %m.key\n    shape: \"hat\",\n    category: \"makeymakey\",\n  },\n  {\n    id: \"makeymakey.whenKeysPressedInOrder\",\n    spec: \"when %1 pressed in order\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"makeymakey\",\n  },\n  {\n    id: \"microbit.whenButtonPressed\",\n    spec: \"when %1 button pressed\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.isButtonPressed\",\n    spec: \"%1 button pressed?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenGesture\",\n    spec: \"when %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.displaySymbol\",\n    spec: \"display %1\",\n    inputs: [\"%m\"], // TODO add matrix support\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.displayText\",\n    spec: \"display text %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.clearDisplay\",\n    spec: \"clear display\",\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.tiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenPinConnected\",\n    spec: \"when pin %1 connected\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"ev3.motorTurnClockwise\",\n    spec: \"motor %1 turn this way for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.motorTurnCounterClockwise\",\n    spec: \"motor %1 turn that way for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.motorSetPower\",\n    spec: \"motor %1 set power %2%\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getMotorPosition\",\n    spec: \"motor %1 position\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenButtonPressed\",\n    spec: \"when button %1 pressed\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenDistanceLessThan\",\n    spec: \"when distance < %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenBrightnessLessThan\",\n    spec: \"when brightness < %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.buttonPressed\",\n    spec: \"button %1 pressed?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getDistance\",\n    spec: \"distance\",\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getBrightness\",\n    spec: \"brightness\",\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.beepNote\",\n    spec: \"beep note %1 for %2 secs\",\n    inputs: [\"%d.note\", \"%n\"], // we can use %d.note here\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"wedo2.motorOn\",\n    spec: \"turn %1 on\",\n    inputs: [\"%m.motor\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.motorOff\",\n    spec: \"turn %1 off\",\n    inputs: [\"%m.motor\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.startMotorPower\",\n    spec: \"set %1 power to %2\",\n    inputs: [\"%m.motor\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.setMotorDirection\",\n    spec: \"set %1 direction to %2\",\n    inputs: [\"%m.motor2\", \"%m.motorDirection\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.whenDistance\",\n    spec: \"when distance %1 %2\",\n    inputs: [\"%m.lessMore\", \"%n\"],\n    shape: \"hat\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.getDistance\",\n    spec: \"distance\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.motorOnFor\",\n    spec: \"turn %1 on for %2 seconds\",\n    inputs: [\"%m.motor\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.setLightHue\",\n    spec: \"set light color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.playNoteFor\",\n    spec: \"play note %1 for %2 seconds\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m.xxx\"],\n    shape: \"hat\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.getTiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m.xxx\"],\n    shape: \"reporter\",\n    category: \"wedo\",\n  },\n  {\n    id: \"gdxfor.whenGesture\",\n    spec: \"when %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.whenForcePushedOrPulled\",\n    spec: \"when force sensor %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getForce\",\n    spec: \"force\",\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getTilt\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.isFreeFalling\",\n    spec: \"falling?\",\n    shape: \"boolean\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getSpin\",\n    spec: \"spin speed %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getAcceleration\",\n    spec: \"acceleration %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"boost.motorOnFor\",\n    spec: \"turn motor %1 for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOnForRotation\",\n    spec: \"turn motor %1 for %2 rotations\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOn\",\n    spec: \"turn motor %1 on\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOff\",\n    spec: \"turn motor %1 off\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setMotorPower\",\n    spec: \"set motor %1 speed to %2%\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setMotorDirection\",\n    spec: \"set motor %1 direction %2\",\n    inputs: [\"%m\", \"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.getMotorPosition\",\n    spec: \"motor %1 position\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.whenColor\",\n    spec: \"when %1 brick seen\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.seeingColor\",\n    spec: \"seeing %1 brick?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.getTiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setLightHue\",\n    spec: \"set light color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n];\n\n// List of classes we're allowed to override.\n\nconst overrideCategories = [\n  \"motion\",\n  \"looks\",\n  \"sound\",\n  \"variables\",\n  \"list\",\n  \"events\",\n  \"control\",\n  \"sensing\",\n  \"operators\",\n  \"custom\",\n  \"custom-arg\",\n  \"extension\",\n  \"grey\",\n  \"obsolete\",\n  ...Object.keys(extensions),\n  ...Object.keys(aliasExtensions),\n];\n\nconst overrideShapes = [\n  \"hat\",\n  \"cap\",\n  \"stack\",\n  \"boolean\",\n  \"reporter\",\n  \"ring\",\n  \"cat\",\n];\n\n// languages that should be displayed right to left\nconst rtlLanguages = [\"ar\", \"ckb\", \"fa\", \"he\"];\n\nconst inputNumberPat = /%([0-9]+)/;\nconst inputPat = /(%[a-zA-Z0-9](?:\\.[a-zA-Z0-9]+)?)/;\nconst inputPatGlobal = new RegExp(inputPat.source, \"g\");\nconst iconPat = /(@[a-zA-Z]+)/;\nconst splitPat = new RegExp(`${inputPat.source}|${iconPat.source}| +`, \"g\");\n\nconst hexColorPat = /^#(?:[0-9a-fA-F]{3}){1,2}?$/;\n\nfunction parseInputNumber(part) {\n  const m = inputNumberPat.exec(part);\n  return m ? +m[1] : 0\n}\n\n// used for procDefs\nfunction parseSpec(spec) {\n  const parts = spec.split(splitPat).filter(x => x);\n  const inputs = parts.filter(p => inputPat.test(p));\n  return {\n    spec: spec,\n    parts: parts,\n    inputs: inputs,\n    hash: hashSpec(spec),\n  }\n}\n\nfunction hashSpec(spec) {\n  return minifyHash(spec.replace(inputPatGlobal, \" _ \"))\n}\n\nfunction minifyHash(hash) {\n  return hash\n    .replace(/_/g, \" _ \")\n    .replace(/ +/g, \" \")\n    .replace(/[,%?:]/g, \"\")\n    .replace(//g, \"ss\")\n    .replace(//g, \"a\")\n    .replace(//g, \"o\")\n    .replace(//g, \"u\")\n    .replace(\". . .\", \"...\")\n    .replace(/^$/, \"...\")\n    .trim()\n    .toLowerCase()\n}\n\nconst blocksById = {};\nconst allBlocks = scratchCommands.map(def => {\n  if (!def.id) {\n    if (!def.selector) {\n      throw new Error(`Missing ID: ${def.spec}`)\n    }\n    def.id = `sb2:${def.selector}`;\n  }\n  if (!def.spec) {\n    throw new Error(`Missing spec: ${def.id}`)\n  }\n\n  const info = {\n    id: def.id, // Used for Scratch 3 translations\n    spec: def.spec, // Used for Scratch 2 translations\n    parts: def.spec.split(splitPat).filter(x => x),\n    selector: def.selector || `sb3:${def.id}`, // Used for JSON marshalling\n    inputs: def.inputs == null ? [] : def.inputs,\n    shape: def.shape,\n    category: def.category,\n    hasLoopArrow: !!def.hasLoopArrow,\n  };\n  if (blocksById[info.id]) {\n    throw new Error(`Duplicate ID: ${info.id}`)\n  }\n  blocksById[info.id] = info;\n  return info\n});\n\nconst unicodeIcons = {\n  \"@greenFlag\": \"\",\n  \"@turnRight\": \"\",\n  \"@turnLeft\": \"\",\n  \"@addInput\": \"\",\n  \"@delInput\": \"\",\n};\n\nconst allLanguages = {};\nfunction loadLanguage(code, language) {\n  const blocksByHash = (language.blocksByHash = {});\n\n  Object.keys(language.commands).forEach(blockId => {\n    const nativeSpec = language.commands[blockId];\n    const block = blocksById[blockId];\n\n    const nativeHash = hashSpec(nativeSpec);\n    if (!blocksByHash[nativeHash]) {\n      blocksByHash[nativeHash] = [];\n    }\n    blocksByHash[nativeHash].push(block);\n\n    // fallback image replacement, for languages without aliases\n    const m = iconPat.exec(block.spec);\n    if (m) {\n      const image = m[0];\n      const hash = nativeHash.replace(hashSpec(image), unicodeIcons[image]);\n      if (!blocksByHash[hash]) {\n        blocksByHash[hash] = [];\n      }\n      blocksByHash[hash].push(block);\n    }\n  });\n\n  language.nativeAliases = {};\n  Object.keys(language.aliases).forEach(alias => {\n    const blockId = language.aliases[alias];\n    const block = blocksById[blockId];\n    if (block === undefined) {\n      throw new Error(`Invalid alias '${blockId}'`)\n    }\n    const aliasHash = hashSpec(alias);\n    if (!blocksByHash[aliasHash]) {\n      blocksByHash[aliasHash] = [];\n    }\n    blocksByHash[aliasHash].push(block);\n\n    if (!language.nativeAliases[blockId]) {\n      language.nativeAliases[blockId] = [];\n    }\n    language.nativeAliases[blockId].push(alias);\n  });\n\n  // Some English blocks were renamed between Scratch 2 and Scratch 3. Wire them\n  // into language.blocksByHash\n  Object.keys(language.renamedBlocks || {}).forEach(alt => {\n    const id = language.renamedBlocks[alt];\n    if (!blocksById[id]) {\n      throw new Error(`Unknown ID: ${id}`)\n    }\n    const block = blocksById[id];\n    const hash = hashSpec(alt);\n    if (!english.blocksByHash[hash]) {\n      english.blocksByHash[hash] = [];\n    }\n    english.blocksByHash[hash].push(block);\n  });\n\n  language.nativeDropdowns = {};\n  Object.keys(language.dropdowns).forEach(name => {\n    const nativeName = language.dropdowns[name];\n    language.nativeDropdowns[nativeName] = name;\n  });\n\n  language.code = code;\n  allLanguages[code] = language;\n}\nfunction loadLanguages(languages) {\n  Object.keys(languages).forEach(code => loadLanguage(code, languages[code]));\n}\n\nconst english = {\n  aliases: {\n    \"turn ccw %1 degrees\": \"MOTION_TURNLEFT\",\n    \"turn left %1 degrees\": \"MOTION_TURNLEFT\",\n    \"turn cw %1 degrees\": \"MOTION_TURNRIGHT\",\n    \"turn right %1 degrees\": \"MOTION_TURNRIGHT\",\n    \"when flag clicked\": \"EVENT_WHENFLAGCLICKED\",\n    \"when gf clicked\": \"EVENT_WHENFLAGCLICKED\",\n    \"when green flag clicked\": \"EVENT_WHENFLAGCLICKED\",\n  },\n\n  renamedBlocks: {\n    \"say %1 for %2 secs\": \"LOOKS_SAYFORSECS\",\n    \"think %1 for %2 secs\": \"LOOKS_THINKFORSECS\",\n    \"play sound %1\": \"SOUND_PLAY\",\n    \"wait %1 secs\": \"CONTROL_WAIT\",\n    clear: \"pen.clear\",\n  },\n\n  definePrefix: [\"define\"],\n  defineSuffix: [],\n\n  // For ignoring the lt sign in the \"when distance < _\" block\n  ignorelt: [\"when distance\"],\n\n  // Valid arguments to \"of\" dropdown, for resolving ambiguous situations\n  math: [\n    \"abs\",\n    \"floor\",\n    \"ceiling\",\n    \"sqrt\",\n    \"sin\",\n    \"cos\",\n    \"tan\",\n    \"asin\",\n    \"acos\",\n    \"atan\",\n    \"ln\",\n    \"log\",\n    \"e ^\",\n    \"10 ^\",\n  ],\n\n  // Valid arguments to \"sound effect\" dropdown, for resolving ambiguous situations\n  soundEffects: [\"pitch\", \"pan left/right\"],\n\n  // Valid arguments to \"microbit when\" dropdown\n  microbitWhen: [\"moved\", \"shaken\", \"jumped\"],\n\n  // For detecting the \"stop\" cap / stack block\n  osis: [\"other scripts in sprite\", \"other scripts in stage\"],\n\n  dropdowns: {},\n\n  commands: {},\n};\nallBlocks.forEach(info => {\n  english.commands[info.id] = info.spec;\n});\nloadLanguages({\n  en: english,\n});\n\n/*****************************************************************************/\n\nfunction registerCheck(id, func) {\n  if (!blocksById[id]) {\n    throw new Error(`Unknown ID: ${id}`)\n  }\n  blocksById[id].accepts = func;\n}\n\nfunction specialCase(id, func) {\n  if (!blocksById[id]) {\n    throw new Error(`Unknown ID: ${id}`)\n  }\n  blocksById[id].specialCase = func;\n}\n\nfunction disambig(id1, id2, test) {\n  registerCheck(id1, (_, children, lang) => {\n    return test(children, lang)\n  });\n  registerCheck(id2, (_, children, lang) => {\n    return !test(children, lang)\n  });\n}\n\ndisambig(\"OPERATORS_MATHOP\", \"SENSING_OF\", (children, lang) => {\n  // Operators if math function, otherwise sensing \"attribute of\" block\n  const first = children[0];\n  if (!first.isInput) {\n    return\n  }\n  const name = first.value;\n  return lang.math.includes(name)\n});\n\ndisambig(\"SOUND_CHANGEEFFECTBY\", \"LOOKS_CHANGEEFFECTBY\", (children, lang) => {\n  // Sound if sound effect, otherwise default to graphic effect\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      for (const effect of lang.soundEffects) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\ndisambig(\"SOUND_SETEFFECTO\", \"LOOKS_SETEFFECTTO\", (children, lang) => {\n  // Sound if sound effect, otherwise default to graphic effect\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      for (const effect of lang.soundEffects) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\ndisambig(\"DATA_LENGTHOFLIST\", \"OPERATORS_LENGTH\", (children, _lang) => {\n  // List block if dropdown, otherwise operators\n  const last = children[children.length - 1];\n  if (!last.isInput) {\n    return\n  }\n  return last.shape === \"dropdown\"\n});\n\ndisambig(\"DATA_LISTCONTAINSITEM\", \"OPERATORS_CONTAINS\", (children, _lang) => {\n  // List block if dropdown, otherwise operators\n  const first = children[0];\n  if (!first.isInput) {\n    return\n  }\n  return first.shape === \"dropdown\"\n});\n\ndisambig(\"pen.setColor\", \"pen.setHue\", (children, _lang) => {\n  // Color block if color input, otherwise numeric\n  const last = children[children.length - 1];\n  // If variable, assume color input, since the RGBA hack is common.\n  // TODO fix Scratch :P\n  return (last.isInput && last.isColor) || last.isBlock\n});\n\ndisambig(\"microbit.whenGesture\", \"gdxfor.whenGesture\", (children, lang) => {\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      // Yes, \"when shaken\" gdxfor block exists. But microbit is more common.\n      for (const effect of lang.microbitWhen) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\n// This block does not need disambiguation in English;\n// however, many other languages do require that.\ndisambig(\"ev3.buttonPressed\", \"microbit.isButtonPressed\", (children, _lang) => {\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      // EV3 \"button pressed\" block uses numeric identifier\n      // and does not support \"any\".\n      switch (minifyHash(child.value)) {\n        case \"1\":\n        case \"2\":\n        case \"3\":\n        case \"4\":\n          return true\n      }\n    }\n  }\n  return false\n});\n\nspecialCase(\"CONTROL_STOP\", (_, children, lang) => {\n  // Cap block unless argument is \"other scripts in sprite\"\n  const last = children[children.length - 1];\n  if (!last.isInput) {\n    return\n  }\n  const value = last.value;\n  if (lang.osis.includes(value)) {\n    return { ...blocksById.CONTROL_STOP, shape: \"stack\" }\n  }\n});\n\nfunction lookupHash(hash, info, children, languages) {\n  for (const lang of languages) {\n    if (Object.prototype.hasOwnProperty.call(lang.blocksByHash, hash)) {\n      const collisions = lang.blocksByHash[hash];\n      for (let block of collisions) {\n        if (\n          info.shape === \"reporter\" &&\n          block.shape !== \"reporter\" &&\n          block.shape !== \"ring\"\n        ) {\n          continue\n        }\n        if (info.shape === \"boolean\" && block.shape !== \"boolean\") {\n          continue\n        }\n        if (collisions.length > 1) {\n          // Only check in case of collision;\n          // perform \"disambiguation\"\n          if (block.accepts && !block.accepts(info, children, lang)) {\n            continue\n          }\n        }\n        if (block.specialCase) {\n          block = block.specialCase(info, children, lang) || block;\n        }\n        return { type: block, lang: lang }\n      }\n    }\n  }\n}\n\nfunction lookupDropdown(name, languages) {\n  for (const lang of languages) {\n    if (Object.prototype.hasOwnProperty.call(lang.nativeDropdowns, name)) {\n      return lang.nativeDropdowns[name]\n    }\n  }\n}\n\nfunction applyOverrides(info, overrides) {\n  for (const name of overrides) {\n    if (hexColorPat.test(name)) {\n      info.color = name;\n      info.category = \"\";\n      info.categoryIsDefault = false;\n    } else if (overrideCategories.includes(name)) {\n      info.category = name;\n      info.categoryIsDefault = false;\n    } else if (overrideShapes.includes(name)) {\n      info.shape = name;\n    } else if (name === \"loop\") {\n      info.hasLoopArrow = true;\n    } else if (name === \"+\" || name === \"-\") {\n      info.diff = name;\n    }\n  }\n}\n\nfunction blockName(block) {\n  const words = [];\n  for (const child of block.children) {\n    if (!child.isLabel) {\n      return\n    }\n    words.push(child.value);\n  }\n  return words.join(\" \")\n}\n\nfunction assert$2(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\nfunction indent(text) {\n  return text\n    .split(\"\\n\")\n    .map(line => {\n      return `  ${line}`\n    })\n    .join(\"\\n\")\n}\n\nclass Label {\n  constructor(value, cls) {\n    this.value = value;\n    this.cls = cls || \"\";\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n  get isLabel() {\n    return true\n  }\n\n  stringify() {\n    if (this.value === \"<\" || this.value === \">\") {\n      return this.value\n    }\n    return this.value.replace(/([<>[\\](){}])/g, \"\\\\$1\")\n  }\n}\n\nclass Icon {\n  constructor(name) {\n    this.name = name;\n    this.isArrow = name === \"loopArrow\";\n\n    assert$2(Icon.icons[name], `no info for icon ${name}`);\n  }\n  get isIcon() {\n    return true\n  }\n\n  static get icons() {\n    return {\n      greenFlag: true,\n      stopSign: true,\n      turnLeft: true,\n      turnRight: true,\n      loopArrow: true,\n      addInput: true,\n      delInput: true,\n      list: true,\n    }\n  }\n\n  stringify() {\n    return unicodeIcons[`@${this.name}`] || \"\"\n  }\n}\n\nclass Input {\n  constructor(shape, value, menu) {\n    this.shape = shape;\n    this.value = value;\n    this.menu = menu || null;\n\n    this.isRound = shape === \"number\" || shape === \"number-dropdown\";\n    this.isBoolean = shape === \"boolean\";\n    this.isStack = shape === \"stack\";\n    this.isInset =\n      shape === \"boolean\" || shape === \"stack\" || shape === \"reporter\";\n    this.isColor = shape === \"color\";\n    this.hasArrow = shape === \"dropdown\" || shape === \"number-dropdown\";\n    this.isDarker =\n      shape === \"boolean\" || shape === \"stack\" || shape === \"dropdown\";\n    this.isSquare =\n      shape === \"string\" || shape === \"color\" || shape === \"dropdown\";\n\n    this.hasLabel = !(this.isColor || this.isInset);\n    this.label = this.hasLabel\n      ? new Label(value, `literal-${this.shape}`)\n      : null;\n    this.x = 0;\n  }\n  get isInput() {\n    return true\n  }\n\n  stringify() {\n    if (this.isColor) {\n      assert$2(this.value[0] === \"#\");\n      return `[${this.value}]`\n    }\n    // Order sensitive; see #439\n    let text = (this.value ? String(this.value) : \"\")\n      .replace(/([\\]\\\\])/g, \"\\\\$1\")\n      .replace(/ v$/, \" \\\\v\");\n    if (this.hasArrow) {\n      text += \" v\";\n    }\n    return this.isRound\n      ? `(${text})`\n      : this.isSquare\n      ? `[${text}]`\n      : this.isBoolean\n      ? \"<>\"\n      : this.isStack\n      ? \"{}\"\n      : text\n  }\n\n  translate(_lang) {\n    if (this.hasArrow) {\n      const value = this.menu || this.value;\n      this.value = value; // TODO translate dropdown value\n      this.label = new Label(this.value, `literal-${this.shape}`);\n    }\n  }\n}\n\nclass Block {\n  constructor(info, children, comment) {\n    assert$2(info);\n    this.info = { ...info };\n    this.children = children;\n    this.comment = comment || null;\n    this.diff = null;\n\n    const shape = this.info.shape;\n    this.isHat = shape === \"hat\" || shape === \"cat\" || shape === \"define-hat\";\n    this.hasPuzzle =\n      shape === \"stack\" ||\n      shape === \"hat\" ||\n      shape === \"cat\" ||\n      shape === \"c-block\";\n    this.isFinal = /cap/.test(shape);\n    this.isCommand = shape === \"stack\" || shape === \"cap\" || /block/.test(shape);\n    this.isOutline = shape === \"outline\";\n    this.isReporter = shape === \"reporter\";\n    this.isBoolean = shape === \"boolean\";\n\n    this.isRing = shape === \"ring\";\n    this.hasScript = /block/.test(shape);\n    this.isElse = shape === \"celse\";\n    this.isEnd = shape === \"cend\";\n  }\n  get isBlock() {\n    return true\n  }\n\n  stringify(extras) {\n    let firstInput = null;\n    let checkAlias = false;\n    let text = this.children\n      .map(child => {\n        if (child.isIcon) {\n          checkAlias = true;\n        }\n        if (!firstInput && !(child.isLabel || child.isIcon)) {\n          firstInput = child;\n        }\n        return child.isScript\n          ? `\\n${indent(child.stringify())}\\n`\n          : child.stringify().trim() + \" \"\n      })\n      .join(\"\")\n      .trim();\n\n    const lang = this.info.language;\n    if (checkAlias && lang && this.info.selector) {\n      const aliases = lang.nativeAliases[this.info.id];\n      if (aliases && aliases.length) {\n        let alias = aliases[0];\n        // TODO make translate() not in-place, and use that\n        if (inputPat.test(alias) && firstInput) {\n          alias = alias.replace(inputPat, firstInput.stringify());\n        }\n        return alias\n      }\n    }\n\n    let overrides = extras || \"\";\n    if (\n      this.info.categoryIsDefault === false ||\n      (this.info.category === \"custom-arg\" &&\n        (this.isReporter || this.isBoolean)) ||\n      (this.info.category === \"custom\" && this.info.shape === \"stack\")\n    ) {\n      if (overrides) {\n        overrides += \" \";\n      }\n      overrides += this.info.category;\n    }\n    if (overrides) {\n      text += ` :: ${overrides}`;\n    }\n    return this.hasScript\n      ? text + \"\\nend\"\n      : this.info.shape === \"reporter\"\n      ? `(${text})`\n      : this.info.shape === \"boolean\"\n      ? `<${text}>`\n      : text\n  }\n\n  translate(lang, isShallow) {\n    if (!lang) {\n      throw new Error(\"Missing language\")\n    }\n\n    const id = this.info.id;\n    if (!id) {\n      return\n    }\n\n    if (id === \"PROCEDURES_DEFINITION\") {\n      // Find the first 'outline' child (there should be exactly one).\n      const outline = this.children.find(child => child.isOutline);\n\n      this.children = [];\n      for (const word of lang.definePrefix) {\n        this.children.push(new Label(word));\n      }\n      this.children.push(outline);\n      for (const word of lang.defineSuffix) {\n        this.children.push(new Label(word));\n      }\n      return\n    }\n\n    const oldSpec = this.info.language.commands[id];\n\n    const nativeSpec = lang.commands[id];\n    if (!nativeSpec) {\n      return\n    }\n    const nativeInfo = parseSpec(nativeSpec);\n\n    const rawArgs = this.children.filter(\n      child => !child.isLabel && !child.isIcon,\n    );\n\n    if (!isShallow) {\n      rawArgs.forEach(child => child.translate(lang));\n    }\n\n    // Work out indexes of existing children\n    const oldParts = parseSpec(oldSpec).parts;\n    const oldInputOrder = oldParts\n      .map(part => parseInputNumber(part))\n      .filter(x => x);\n\n    let highestNumber = 0;\n    const args = oldInputOrder.map(number => {\n      highestNumber = Math.max(highestNumber, number);\n      return rawArgs[number - 1]\n    });\n    const remainingArgs = rawArgs.slice(highestNumber);\n\n    // Get new children by index\n    this.children = nativeInfo.parts\n      .map(part => {\n        part = part.trim();\n        if (!part) {\n          return\n        }\n        const number = parseInputNumber(part);\n        if (number) {\n          return args[number - 1]\n        }\n        return iconPat.test(part) ? new Icon(part.slice(1)) : new Label(part)\n      })\n      .filter(x => x);\n\n    // Push any remaining children, so we pick up C block bodies\n    remainingArgs.forEach((arg, index) => {\n      if (index === 1 && this.info.id === \"CONTROL_IF\") {\n        this.children.push(new Label(lang.commands.CONTROL_ELSE));\n      }\n      this.children.push(arg);\n    });\n\n    this.info.language = lang;\n    this.info.isRTL = rtlLanguages.includes(lang.code);\n    this.info.categoryIsDefault = true;\n  }\n}\n\nclass Comment {\n  constructor(value, hasBlock) {\n    this.label = new Label(value, \"comment-label\");\n    this.width = null;\n    this.hasBlock = hasBlock;\n  }\n  get isComment() {\n    return true\n  }\n\n  stringify() {\n    return `// ${this.label.value}`\n  }\n}\n\nclass Glow {\n  constructor(child) {\n    assert$2(child);\n    this.child = child;\n    if (child.isBlock) {\n      this.shape = child.info.shape;\n      this.info = child.info;\n    } else {\n      this.shape = \"stack\";\n    }\n  }\n  get isGlow() {\n    return true\n  }\n\n  stringify() {\n    if (this.child.isBlock) {\n      return this.child.stringify(\"+\")\n    }\n    const lines = this.child.stringify().split(\"\\n\");\n    return lines.map(line => `+ ${line}`).join(\"\\n\")\n  }\n\n  translate(lang) {\n    this.child.translate(lang);\n  }\n}\n\nclass Script {\n  constructor(blocks) {\n    this.blocks = blocks;\n    this.isEmpty = !blocks.length;\n    this.isFinal = !this.isEmpty && blocks[blocks.length - 1].isFinal;\n  }\n  get isScript() {\n    return true\n  }\n\n  stringify() {\n    return this.blocks\n      .map(block => {\n        let line = block.stringify();\n        if (block.comment) {\n          line += ` ${block.comment.stringify()}`;\n        }\n        return line\n      })\n      .join(\"\\n\")\n  }\n\n  translate(lang) {\n    this.blocks.forEach(block => block.translate(lang));\n  }\n}\n\nclass Document {\n  constructor(scripts) {\n    this.scripts = scripts;\n  }\n\n  stringify() {\n    return this.scripts.map(script => script.stringify()).join(\"\\n\\n\")\n  }\n\n  translate(lang) {\n    this.scripts.forEach(script => script.translate(lang));\n  }\n}\n\nfunction assert$1(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\nfunction paintBlock(info, children, languages) {\n  let overrides = [];\n  if (Array.isArray(children[children.length - 1])) {\n    overrides = children.pop();\n  }\n\n  // build hash\n  const words = [];\n  for (const child of children) {\n    if (child.isLabel) {\n      words.push(child.value);\n    } else if (child.isIcon) {\n      words.push(`@${child.name}`);\n    } else {\n      words.push(\"_\");\n    }\n  }\n  const string = words.join(\" \");\n  const shortHash = (info.hash = minifyHash(string));\n\n  // paint\n  const o = lookupHash(shortHash, info, children, languages);\n  let lang;\n  let type;\n  if (o) {\n    lang = o.lang;\n    type = o.type;\n    info.language = lang;\n    info.isRTL = rtlLanguages.includes(lang.code);\n\n    if (\n      type.shape === \"ring\" ? info.shape === \"reporter\" : info.shape === \"stack\"\n    ) {\n      info.shape = type.shape;\n    }\n    info.category = type.category;\n    info.categoryIsDefault = true;\n    // store selector, used for translation among other things\n    if (type.selector) {\n      info.selector = type.selector;\n    }\n    if (type.id) {\n      info.id = type.id;\n    }\n    info.hasLoopArrow = type.hasLoopArrow;\n\n    // ellipsis block\n    if (type.spec === \". . .\") {\n      children = [new Label(\". . .\")];\n    }\n  } else {\n    // The block was not recognised, so we check if it's a define block.\n    //\n    // We check for built-in blocks first to avoid ambiguity, e.g. the\n    // `defina o tamanho como (100) %` block in pt_BR.\n    for (const lang of languages) {\n      if (!isDefineBlock(children, lang)) {\n        continue\n      }\n\n      // Setting the shape also triggers some logic in recogniseStuff.\n      info.shape = \"define-hat\";\n      info.category = \"custom\";\n\n      // Move the children of the define block into an \"outline\", transforming\n      // () and [] shapes as we go.\n      const outlineChildren = children\n        .splice(\n          lang.definePrefix.length,\n          children.length - lang.defineSuffix.length,\n        )\n        .map(child => {\n          if (child.isInput && child.isBoolean) {\n            // Convert empty boolean slot to empty boolean argument.\n            child = paintBlock(\n              {\n                shape: \"boolean\",\n                argument: \"boolean\",\n                category: \"custom-arg\",\n              },\n              [new Label(\"\")],\n              languages,\n            );\n          } else if (\n            child.isInput &&\n            (child.shape === \"string\" || child.shape === \"number\")\n          ) {\n            // Convert string inputs to string arguments, number inputs to number arguments.\n            const labels = child.value.split(/ +/g).map(word => new Label(word));\n            child = paintBlock(\n              {\n                shape: \"reporter\",\n                argument: child.shape === \"string\" ? \"string\" : \"number\",\n                category: \"custom-arg\",\n              },\n              labels,\n              languages,\n            );\n          } else if (child.isReporter || child.isBoolean) {\n            // Convert variables to number arguments, predicates to boolean arguments.\n            if (child.info.categoryIsDefault) {\n              child.info.category = \"custom-arg\";\n              child.info.argument = child.isBoolean ? \"boolean\" : \"number\";\n            }\n          }\n          return child\n        });\n\n      const outlineInfo = {\n        shape: \"outline\",\n        category: \"custom\",\n        categoryIsDefault: true,\n        hasLoopArrow: false,\n      };\n      const outline = new Block(outlineInfo, outlineChildren);\n      children.splice(lang.definePrefix.length, 0, outline);\n      break\n    }\n  }\n\n  // Apply overrides.\n  applyOverrides(info, overrides);\n\n  // loop arrows\n  if (info.hasLoopArrow) {\n    children.push(new Icon(\"loopArrow\"));\n  }\n\n  const block = new Block(info, children);\n\n  // image replacement\n  if (type && iconPat.test(type.spec)) {\n    block.translate(lang, true);\n  }\n\n  // diffs\n  if (info.diff === \"+\") {\n    return new Glow(block)\n  }\n  block.diff = info.diff;\n\n  return block\n}\n\nfunction isDefineBlock(children, lang) {\n  if (children.length < lang.definePrefix.length) {\n    return false\n  }\n  if (children.length < lang.defineSuffix.length) {\n    return false\n  }\n\n  for (let i = 0; i < lang.definePrefix.length; i++) {\n    const defineWord = lang.definePrefix[i];\n    const child = children[i];\n    if (!child.isLabel || minifyHash(child.value) !== minifyHash(defineWord)) {\n      return false\n    }\n  }\n\n  for (let i = 1; i <= lang.defineSuffix.length; i++) {\n    const defineWord = lang.defineSuffix[lang.defineSuffix.length - i];\n    const child = children[children.length - i];\n    if (!child.isLabel || minifyHash(child.value) !== minifyHash(defineWord)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction parseLines(code, languages) {\n  let tok = code[0];\n  let index = 0;\n  function next() {\n    tok = code[++index];\n  }\n  function peek() {\n    return code[index + 1]\n  }\n  function peekNonWs() {\n    for (let i = index + 1; i < code.length; i++) {\n      if (code[i] !== \" \") {\n        return code[i]\n      }\n    }\n  }\n  let sawNL;\n\n  let define = [];\n  languages.map(lang => {\n    define = define.concat(lang.define);\n  });\n\n  function makeBlock(shape, children) {\n    const hasInputs = children.filter(x => !x.isLabel).length;\n\n    const info = {\n      shape: shape,\n      category: shape === \"reporter\" && !hasInputs ? \"variables\" : \"obsolete\",\n      categoryIsDefault: true,\n      hasLoopArrow: false,\n    };\n\n    return paintBlock(info, children, languages)\n  }\n\n  function makeMenu(shape, value) {\n    const menu = lookupDropdown(value, languages) || value;\n    return new Input(shape, value, menu)\n  }\n\n  function pParts(end) {\n    const children = [];\n    let label;\n    while (tok && tok !== \"\\n\") {\n      // So that comparison operators `<()<()>` and `<()>()>` don't need the\n      // central <> escaped, we interpret it as a label if particular\n      // conditions are met.\n      if (\n        (tok === \"<\" || tok === \">\") &&\n        end === \">\" && // We're parsing a predicate.\n        children.length === 1 && // There's exactly one AST node behind us.\n        !children[children.length - 1].isLabel // That node is not a label.\n      ) {\n        const c = peekNonWs();\n        // The next token starts some kind of input.\n        if (c === \"[\" || c === \"(\" || c === \"<\" || c === \"{\") {\n          label = null;\n          children.push(new Label(tok));\n          next();\n          continue\n        }\n      }\n      if (tok === end) {\n        break\n      }\n      if (tok === \"/\" && peek() === \"/\" && !end) {\n        break\n      }\n\n      switch (tok) {\n        case \"[\":\n          label = null;\n          children.push(pString());\n          break\n        case \"(\":\n          label = null;\n          children.push(pReporter());\n          break\n        case \"<\":\n          label = null;\n          children.push(pPredicate());\n          break\n        case \"{\":\n          label = null;\n          children.push(pEmbedded());\n          break\n        case \" \":\n        case \"\\t\":\n          next(); // Skip over whitespace.\n          label = null;\n          break\n        case \"\":\n        case \"\":\n          children.push(pIcon());\n          label = null;\n          break\n        case \"@\": {\n          next();\n          let name = \"\";\n          while (tok && /[a-zA-Z]/.test(tok)) {\n            name += tok;\n            next();\n          }\n          if (name === \"cloud\") {\n            children.push(new Label(\"\"));\n          } else {\n            children.push(\n              Object.prototype.hasOwnProperty.call(Icon.icons, name)\n                ? new Icon(name)\n                : new Label(`@${name}`),\n            );\n          }\n          label = null;\n          break\n        }\n        case \"\\\\\":\n          next(); // escape character\n        // fallthrough\n        case \":\":\n          if (tok === \":\" && peek() === \":\") {\n            children.push(pOverrides(end));\n            return children\n          }\n        // fallthrough\n        default:\n          if (!label) {\n            children.push((label = new Label(\"\")));\n          }\n          label.value += tok;\n          next();\n      }\n    }\n    return children\n  }\n\n  function pString() {\n    next(); // '['\n    let s = \"\";\n    let escapeV = false;\n    while (tok && tok !== \"]\" && tok !== \"\\n\") {\n      if (tok === \"\\\\\") {\n        next();\n        if (tok === \"v\") {\n          escapeV = true;\n        }\n        if (!tok) {\n          break\n        }\n      } else {\n        escapeV = false;\n      }\n      s += tok;\n      next();\n    }\n    if (tok === \"]\") {\n      next();\n    }\n    if (hexColorPat.test(s)) {\n      return new Input(\"color\", s)\n    }\n    return !escapeV && / v$/.test(s)\n      ? makeMenu(\"dropdown\", s.slice(0, s.length - 2))\n      : new Input(\"string\", s)\n  }\n\n  function pBlock(end) {\n    const children = pParts(end);\n    if (tok && tok === \"\\n\") {\n      sawNL = true;\n      next();\n    }\n    if (children.length === 0) {\n      return\n    }\n\n    // standalone reporters\n    if (children.length === 1) {\n      const child = children[0];\n      if (\n        child.isBlock &&\n        (child.isReporter || child.isBoolean || child.isRing)\n      ) {\n        return child\n      }\n    }\n\n    return makeBlock(\"stack\", children)\n  }\n\n  function pReporter() {\n    next(); // '('\n\n    // empty number-dropdown\n    if (tok === \" \") {\n      next();\n      if (tok === \"v\" && peek() === \")\") {\n        next();\n        next();\n        return new Input(\"number-dropdown\", \"\")\n      }\n    }\n\n    const children = pParts(\")\");\n    if (tok && tok === \")\") {\n      next();\n    }\n\n    // empty numbers\n    if (children.length === 0) {\n      return new Input(\"number\", \"\")\n    }\n\n    // number\n    if (children.length === 1 && children[0].isLabel) {\n      const value = children[0].value;\n      if (/^[0-9e.-]*$/.test(value)) {\n        return new Input(\"number\", value)\n      }\n      if (hexColorPat.test(value)) {\n        return new Input(\"color\", value)\n      }\n    }\n\n    // number-dropdown\n    if (children.length > 1 && children.every(child => child.isLabel)) {\n      const last = children[children.length - 1];\n      if (last.value === \"v\") {\n        children.pop();\n        const value = children.map(l => l.value).join(\" \");\n        return makeMenu(\"number-dropdown\", value)\n      }\n    }\n\n    const block = makeBlock(\"reporter\", children);\n\n    // rings\n    if (block.info && block.info.shape === \"ring\") {\n      const first = block.children[0];\n      if (\n        first &&\n        first.isInput &&\n        first.shape === \"number\" &&\n        first.value === \"\"\n      ) {\n        block.children[0] = new Input(\"reporter\");\n      } else if (\n        (first && first.isScript && first.isEmpty) ||\n        (first && first.isBlock && !first.children.length)\n      ) {\n        block.children[0] = new Input(\"stack\");\n      }\n    }\n\n    return block\n  }\n\n  function pPredicate() {\n    next(); // '<'\n    const children = pParts(\">\");\n    if (tok && tok === \">\") {\n      next();\n    }\n    if (children.length === 0) {\n      return new Input(\"boolean\")\n    }\n    return makeBlock(\"boolean\", children)\n  }\n\n  function pEmbedded() {\n    next(); // '{'\n\n    sawNL = false;\n    const f = function () {\n      while (tok && tok !== \"}\") {\n        const block = pBlock(\"}\");\n        if (block) {\n          return block\n        }\n      }\n    };\n    const scripts = parseScripts(f);\n    let blocks = [];\n    scripts.forEach(script => {\n      blocks = blocks.concat(script.blocks);\n    });\n\n    if (tok === \"}\") {\n      next();\n    }\n    if (!sawNL) {\n      assert$1(blocks.length <= 1);\n      return blocks.length ? blocks[0] : makeBlock(\"stack\", [])\n    }\n    return new Script(blocks)\n  }\n\n  function pIcon() {\n    const c = tok;\n    next();\n    switch (c) {\n      case \"\":\n        return new Icon(\"addInput\")\n      case \"\":\n        return new Icon(\"delInput\")\n      default:\n        return\n    }\n  }\n\n  function pOverrides(end) {\n    next();\n    next();\n    const overrides = [];\n    let override = \"\";\n    while (tok && tok !== \"\\n\" && tok !== end) {\n      if (tok === \" \") {\n        if (override) {\n          overrides.push(override);\n          override = \"\";\n        }\n      } else if (tok === \"/\" && peek() === \"/\") {\n        break\n      } else {\n        override += tok;\n      }\n      next();\n    }\n    if (override) {\n      overrides.push(override);\n    }\n    return overrides\n  }\n\n  function pComment(end) {\n    next();\n    next();\n    let comment = \"\";\n    while (tok && tok !== \"\\n\" && tok !== end) {\n      comment += tok;\n      next();\n    }\n    if (tok && tok === \"\\n\") {\n      next();\n    }\n    return new Comment(comment, true)\n  }\n\n  function pLine() {\n    let diff;\n    if (tok === \"+\" || tok === \"-\") {\n      diff = tok;\n      next();\n    }\n    const block = pBlock();\n    if (tok === \"/\" && peek() === \"/\") {\n      const comment = pComment();\n      comment.hasBlock = block && block.children.length;\n      if (!comment.hasBlock) {\n        return comment\n      }\n      block.comment = comment;\n    }\n    if (block) {\n      block.diff = diff;\n    }\n    return block\n  }\n\n  return () => {\n    if (!tok) {\n      return undefined\n    }\n    const line = pLine();\n    return line || \"NL\"\n  }\n}\n\n/* * */\n\nfunction parseScripts(getLine) {\n  let line = getLine();\n  function next() {\n    line = getLine();\n  }\n\n  function pFile() {\n    while (line === \"NL\") {\n      next();\n    }\n    const scripts = [];\n    while (line) {\n      let blocks = [];\n      while (line && line !== \"NL\") {\n        let b = pLine();\n        const isGlow = b.diff === \"+\";\n        if (isGlow) {\n          b.diff = null;\n        }\n\n        if (b.isElse || b.isEnd) {\n          b = new Block({ ...b.info, shape: \"stack\" }, b.children);\n        }\n\n        if (isGlow) {\n          const last = blocks[blocks.length - 1];\n          let children = [];\n          if (last && last.isGlow) {\n            blocks.pop();\n            children = last.child.isScript ? last.child.blocks : [last.child];\n          }\n          children.push(b);\n          blocks.push(new Glow(new Script(children)));\n        } else if (b.isHat) {\n          if (blocks.length) {\n            scripts.push(new Script(blocks));\n          }\n          blocks = [b];\n        } else if (b.isFinal) {\n          blocks.push(b);\n          break\n        } else if (b.isCommand) {\n          blocks.push(b);\n        } else {\n          // reporter or predicate\n          if (blocks.length) {\n            scripts.push(new Script(blocks));\n          }\n          scripts.push(new Script([b]));\n          blocks = [];\n          break\n        }\n      }\n      if (blocks.length) {\n        scripts.push(new Script(blocks));\n      }\n      while (line === \"NL\") {\n        next();\n      }\n    }\n    return scripts\n  }\n\n  function pLine() {\n    const b = line;\n    next();\n\n    if (b.hasScript) {\n      while (true) {\n        const blocks = pMouth();\n        b.children.push(new Script(blocks));\n        if (line && line.isElse) {\n          for (const child of line.children) {\n            b.children.push(child);\n          }\n          next();\n          continue\n        }\n        if (line && line.isEnd) {\n          next();\n        }\n        break\n      }\n    }\n    return b\n  }\n\n  function pMouth() {\n    const blocks = [];\n    while (line) {\n      if (line === \"NL\") {\n        next();\n        continue\n      }\n      if (!line.isCommand) {\n        return blocks\n      }\n\n      const b = pLine();\n      const isGlow = b.diff === \"+\";\n      if (isGlow) {\n        b.diff = null;\n      }\n\n      if (isGlow) {\n        const last = blocks[blocks.length - 1];\n        let children = [];\n        if (last && last.isGlow) {\n          blocks.pop();\n          children = last.child.isScript ? last.child.blocks : [last.child];\n        }\n        children.push(b);\n        blocks.push(new Glow(new Script(children)));\n      } else {\n        blocks.push(b);\n      }\n    }\n    return blocks\n  }\n\n  return pFile()\n}\n\n/* * */\n\nfunction eachBlock(x, cb) {\n  if (x.isScript) {\n    x.blocks = x.blocks.map(block => {\n      eachBlock(block, cb);\n      return cb(block) || block\n    });\n  } else if (x.isBlock) {\n    x.children = x.children.map(child => {\n      eachBlock(child, cb);\n      return cb(child) || child\n    });\n  } else if (x.isGlow) {\n    eachBlock(x.child, cb);\n  }\n}\n\nconst listBlocks = {\n  \"append:toList:\": 1,\n  \"deleteLine:ofList:\": 1,\n  \"insert:at:ofList:\": 2,\n  \"setLine:ofList:to:\": 1,\n  \"showList:\": 0,\n  \"hideList:\": 0,\n};\n\nfunction recogniseStuff(scripts) {\n  const customBlocksByHash = Object.create(null);\n  const listNames = new Set();\n\n  scripts.forEach(script => {\n    const customArgs = new Set();\n\n    eachBlock(script, block => {\n      if (!block.isBlock) {\n        return\n      }\n\n      // custom blocks\n      if (block.info.shape === \"define-hat\") {\n        // There should be exactly one `outline` child, added in paintBlock.\n        const outline = block.children.find(child => child.isOutline);\n        if (!outline) {\n          return\n        }\n\n        const names = [];\n        const parts = [];\n        for (const child of outline.children) {\n          if (child.isLabel) {\n            parts.push(child.value);\n          } else if (child.isBlock) {\n            if (!child.info.argument) {\n              return\n            }\n            parts.push(\n              {\n                number: \"%n\",\n                string: \"%s\",\n                boolean: \"%b\",\n              }[child.info.argument],\n            );\n\n            const name = blockName(child);\n            names.push(name);\n            customArgs.add(name);\n          }\n        }\n        const spec = parts.join(\" \");\n        const hash = hashSpec(spec);\n\n        const info = {\n          spec: spec,\n          names: names,\n        };\n        if (!customBlocksByHash[hash]) {\n          customBlocksByHash[hash] = info;\n        }\n        block.info.id = \"PROCEDURES_DEFINITION\";\n        block.info.selector = \"procDef\";\n        block.info.call = info.spec;\n        block.info.names = info.names;\n        block.info.category = \"custom\";\n\n        // custom arguments\n      } else if (\n        block.info.categoryIsDefault &&\n        (block.isReporter || block.isBoolean)\n      ) {\n        const name = blockName(block);\n        if (customArgs.has(name)) {\n          block.info.category = \"custom-arg\";\n          block.info.categoryIsDefault = false;\n          block.info.selector = \"getParam\";\n        }\n\n        // list names\n      } else if (\n        Object.prototype.hasOwnProperty.call(listBlocks, block.info.selector)\n      ) {\n        const argIndex = listBlocks[block.info.selector];\n        const inputs = block.children.filter(child => !child.isLabel);\n        const input = inputs[argIndex];\n        if (input && input.isInput) {\n          listNames.add(input.value);\n        }\n      }\n    });\n  });\n\n  scripts.forEach(script => {\n    eachBlock(script, block => {\n      if (\n        block.info &&\n        block.info.categoryIsDefault &&\n        block.info.category === \"obsolete\"\n      ) {\n        // custom blocks\n        const info = customBlocksByHash[block.info.hash];\n        if (info) {\n          block.info.selector = \"call\";\n          block.info.call = info.spec;\n          block.info.names = info.names;\n          block.info.category = \"custom\";\n        }\n        return\n      }\n\n      let name, info;\n      if (\n        block.isReporter &&\n        block.info.category === \"variables\" &&\n        block.info.categoryIsDefault\n      ) {\n        // We set the selector here for some reason\n        block.info.selector = \"readVariable\";\n        name = blockName(block);\n        info = block.info;\n      }\n      if (!name) {\n        return\n      }\n\n      // list reporters\n      if (listNames.has(name)) {\n        info.category = \"list\";\n        info.categoryIsDefault = false;\n        info.selector = \"contentsOfList:\";\n      }\n\n      return // already done\n    });\n  });\n}\n\nfunction parse(code, options) {\n  options = {\n    inline: false,\n    languages: [\"en\"],\n    ...options,\n  };\n\n  if (options.dialect) {\n    throw new Error(\"Option 'dialect' no longer supported\")\n  }\n\n  code = code.replace(/&lt;/g, \"<\");\n  code = code.replace(/&gt;/g, \">\");\n  if (options.inline) {\n    code = code.replace(/\\n/g, \" \");\n  }\n\n  const languages = options.languages.map(code => {\n    const lang = allLanguages[code];\n    if (!lang) {\n      throw new Error(`Unknown language: '${code}'`)\n    }\n    return lang\n  });\n\n  /* * */\n\n  const f = parseLines(code, languages);\n  const scripts = parseScripts(f);\n  recogniseStuff(scripts);\n  return new Document(scripts)\n}\n\n/* for constructing SVGs */\n\nfunction assert(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\n// set by SVG.init\nlet document$1;\nlet xml$1;\n\nconst directProps$1 = {\n  textContent: true,\n};\n\nlet SVG$1 = class SVG {\n  static init(window) {\n    document$1 = window.document;\n    const DOMParser = window.DOMParser;\n    xml$1 = new DOMParser().parseFromString(\"<xml></xml>\", \"application/xml\");\n    SVG.XMLSerializer = window.XMLSerializer;\n  }\n\n  static makeCanvas() {\n    return document$1.createElement(\"canvas\")\n  }\n\n  static cdata(content) {\n    return xml$1.createCDATASection(content)\n  }\n\n  static el(name, props) {\n    const el = document$1.createElementNS(\"http://www.w3.org/2000/svg\", name);\n    return SVG.setProps(el, props)\n  }\n\n  static setProps(el, props) {\n    for (const key in props) {\n      const value = String(props[key]);\n      if (directProps$1[key]) {\n        el[key] = value;\n      } else if (\n        props[key] != null &&\n        Object.prototype.hasOwnProperty.call(props, key)\n      ) {\n        el.setAttributeNS(null, key, value);\n      }\n    }\n    return el\n  }\n\n  static withChildren(el, children) {\n    for (const child of children) {\n      el.appendChild(child);\n    }\n    return el\n  }\n\n  static group(children) {\n    return SVG.withChildren(SVG.el(\"g\"), children)\n  }\n\n  static newSVG(width, height, scale) {\n    return SVG.el(\"svg\", {\n      version: \"1.1\",\n      width: width * scale,\n      height: height * scale,\n      viewBox: `0 0 ${width} ${height}`,\n    })\n  }\n\n  static polygon(props) {\n    return SVG.el(\"polygon\", { ...props, points: props.points.join(\" \") })\n  }\n\n  static path(props) {\n    return SVG.el(\"path\", { ...props, path: null, d: props.path.join(\" \") })\n  }\n\n  static text(x, y, content, props) {\n    const text = SVG.el(\"text\", { ...props, x: x, y: y, textContent: content });\n    return text\n  }\n\n  static symbol(href) {\n    return SVG.el(\"use\", {\n      href: href,\n    })\n  }\n\n  static move(dx, dy, el) {\n    SVG.setProps(el, {\n      transform: `translate(${dx} ${dy})`,\n    });\n    return el\n  }\n\n  // translatePath takes a path string such as \"M 0 0 L 0 10 L 10 0 Z\", fins\n  // the individual X/Y components, and translates them by dx/dy, so as to\n  // \"move\" the path.\n  //\n  // This is not a particularly good way of doing this, but given we control\n  // the inputs to it it works well enough I guess?\n  static translatePath(dx, dy, path) {\n    let isX = true;\n    const parts = path.split(/\\s+/);\n    const out = [];\n    for (let i = 0; i < parts.length; i++) {\n      let part = parts[i];\n      if (part === \"A\") {\n        const j = i + 5;\n        out.push(\"A\");\n        while (i < j) {\n          out.push(parts[++i]);\n        }\n        continue\n      } else if (/[A-Za-z]/.test(part)) {\n        // This assertion means the path was not a valid sequence of\n        // [operation, X coordinate, Y coordinate, ...].\n        //\n        // It could indicate missing whitespace between the coordinates and the\n        // operation.\n        assert(isX, \"translatePath: invalid argument\");\n      } else {\n        part = +part;\n        part += isX ? dx : dy;\n        isX = !isX;\n      }\n      out.push(part);\n    }\n    return out.join(\" \")\n  }\n\n  /* shapes */\n\n  static rect(w, h, props) {\n    return SVG.el(\"rect\", { ...props, x: 0, y: 0, width: w, height: h })\n  }\n\n  static ellipse(w, h, props) {\n    return SVG.el(\"ellipse\", {\n      ...props,\n      cx: w / 2,\n      cy: h / 2,\n      rx: w / 2,\n      ry: h / 2,\n    })\n  }\n\n  static arc(p1x, p1y, p2x, p2y, rx, ry) {\n    return `L ${p1x} ${p1y} A ${rx} ${ry} 0 0 1 ${p2x} ${p2y}`\n  }\n\n  static arcw(p1x, p1y, p2x, p2y, rx, ry) {\n    return `L ${p1x} ${p1y} A ${rx} ${ry} 0 0 0 ${p2x} ${p2y}`\n  }\n\n  static roundedPath(w, h) {\n    const r = h / 2;\n    return [\n      \"M\",\n      r,\n      0,\n      SVG.arc(w - r, 0, w - r, h, r, r),\n      SVG.arc(r, h, r, 0, r, r),\n      \"Z\",\n    ]\n  }\n\n  static roundedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.roundedPath(w, h) })\n  }\n\n  static pointedPath(w, h) {\n    const r = h / 2;\n    return [\n      \"M\",\n      r,\n      0,\n      \"L\",\n      w - r,\n      0,\n      w,\n      r,\n      \"L\",\n      w,\n      r,\n      w - r,\n      h,\n      \"L\",\n      r,\n      h,\n      0,\n      r,\n      \"L\",\n      0,\n      r,\n      r,\n      0,\n      \"Z\",\n    ]\n  }\n\n  static pointedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.pointedPath(w, h) })\n  }\n\n  static getTop(w) {\n    return `M 0 3\n      L 3 0\n      L 13 0\n      L 16 3\n      L 24 3\n      L 27 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRingTop(w) {\n    return `M 0 3\n      L 3 0\n      L 7 0\n      L 10 3\n      L 16 3\n      L 19 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRightAndBottom(w, y, hasNotch, inset) {\n    if (typeof inset === \"undefined\") {\n      inset = 0;\n    }\n    let arr = [\"L\", w, y - 3, \"L\", w - 3, y];\n    if (hasNotch) {\n      arr = arr.concat([\n        \"L\",\n        inset + 27,\n        y,\n        \"L\",\n        inset + 24,\n        y + 3,\n        \"L\",\n        inset + 16,\n        y + 3,\n        \"L\",\n        inset + 13,\n        y,\n      ]);\n    }\n    if (inset > 0) {\n      arr = arr.concat([\"L\", inset + 2, y, \"L\", inset, y + 2]);\n    } else {\n      arr = arr.concat([\"L\", inset + 3, y, \"L\", 0, y - 3]);\n    }\n    return arr.join(\" \")\n  }\n\n  static getArm(w, armTop) {\n    return `L 15 ${armTop - 2}\n      L 17 ${armTop}\n      L ${w - 3} ${armTop}\n      L ${w} ${armTop + 3}`\n  }\n\n  static stackRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static capPath(w, h) {\n    return [SVG.getTop(w), SVG.getRightAndBottom(w, h, false, 0), \"Z\"]\n  }\n\n  static capRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.capPath(w, h) })\n  }\n\n  static hatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        0,\n        12,\n        SVG.arc(0, 12, 80, 10, 80, 80),\n        \"L\",\n        w - 3,\n        10,\n        \"L\",\n        w,\n        10 + 3,\n        SVG.getRightAndBottom(w, h, true),\n        \"Z\",\n      ],\n    })\n  }\n\n  static curve(p1x, p1y, p2x, p2y, roundness) {\n    roundness = roundness || 0.42;\n    const midX = (p1x + p2x) / 2.0;\n    const midY = (p1y + p2y) / 2.0;\n    const cx = Math.round(midX + roundness * (p2y - p1y));\n    const cy = Math.round(midY - roundness * (p2x - p1x));\n    return `${cx} ${cy} ${p2x} ${p2y}`\n  }\n\n  static procHatBase(w, h, archRoundness, props) {\n    // TODO use arc()\n    archRoundness = Math.min(0.2, 35 / w);\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        0,\n        15,\n        \"Q\",\n        SVG.curve(0, 15, w, 15, archRoundness),\n        SVG.getRightAndBottom(w, h, true),\n        \"M\",\n        -1,\n        13,\n        \"Q\",\n        SVG.curve(-1, 13, w + 1, 13, archRoundness),\n        \"Q\",\n        SVG.curve(w + 1, 13, w, 16, 0.6),\n        \"Q\",\n        SVG.curve(w, 16, 0, 16, -archRoundness),\n        \"Q\",\n        SVG.curve(0, 16, -1, 13, 0.6),\n        \"Z\",\n      ],\n    })\n  }\n\n  static procHatCap(w, h, archRoundness) {\n    // TODO use arc()\n    // TODO this doesn't look quite right\n    return SVG.path({\n      path: [\n        \"M\",\n        -1,\n        13,\n        \"Q\",\n        SVG.curve(-1, 13, w + 1, 13, archRoundness),\n        \"Q\",\n        SVG.curve(w + 1, 13, w, 16, 0.6),\n        \"Q\",\n        SVG.curve(w, 16, 0, 16, -archRoundness),\n        \"Q\",\n        SVG.curve(0, 16, -1, 13, 0.6),\n        \"Z\",\n      ],\n      class: \"sb-define-hat-cap\",\n    })\n  }\n\n  static procHatRect(w, h, props) {\n    const q = 52;\n    const y = h - q;\n\n    const archRoundness = Math.min(0.2, 35 / w);\n\n    return SVG.move(\n      0,\n      y,\n      SVG.group([\n        SVG.procHatBase(w, q, archRoundness, props),\n        SVG.procHatCap(w, q, archRoundness),\n      ]),\n    )\n  }\n\n  static mouthRect(w, h, isFinal, lines, props) {\n    let y = lines[0].height;\n    const p = [SVG.getTop(w), SVG.getRightAndBottom(w, y, true, 15)];\n    for (let i = 1; i < lines.length; i += 2) {\n      const isLast = i + 2 === lines.length;\n\n      y += lines[i].height - 3;\n      p.push(SVG.getArm(w, y));\n\n      const hasNotch = !(isLast && isFinal);\n      const inset = isLast ? 0 : 15;\n      y += lines[i + 1].height + 3;\n      p.push(SVG.getRightAndBottom(w, y, hasNotch, inset));\n    }\n    return SVG.path({ ...props, path: p })\n  }\n\n  static ringRect(w, h, cy, cw, ch, shape, props) {\n    const r = 8;\n    const func =\n      shape === \"reporter\"\n        ? SVG.roundedPath\n        : shape === \"boolean\"\n        ? SVG.pointedPath\n        : SVG.capPath;\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        r,\n        0,\n        SVG.arcw(r, 0, 0, r, r, r),\n        SVG.arcw(0, h - r, r, h, r, r),\n        SVG.arcw(w - r, h, w, h - r, r, r),\n        SVG.arcw(w, r, w - r, 0, r, r),\n        \"Z\",\n        SVG.translatePath(4, cy || 4, func(cw, ch).join(\" \")),\n      ],\n      \"fill-rule\": \"even-odd\",\n    })\n  }\n\n  static commentRect(w, h, props) {\n    const r = 6;\n    return SVG.path({\n      ...props,\n      class: \"sb-comment\",\n      path: [\n        \"M\",\n        r,\n        0,\n        SVG.arc(w - r, 0, w, r, r, r),\n        SVG.arc(w, h - r, w - r, h, r, r),\n        SVG.arc(r, h, 0, h - r, r, r),\n        SVG.arc(0, r, r, 0, r, r),\n        \"Z\",\n      ],\n    })\n  }\n\n  static commentLine(width, props) {\n    return SVG.move(\n      -width,\n      9,\n      SVG.rect(width, 2, { ...props, class: \"sb-comment-line\" }),\n    )\n  }\n\n  static strikethroughLine(w, props) {\n    return SVG.path({\n      ...props,\n      path: [\"M\", 0, 0, \"L\", w, 0],\n      class: \"sb-diff sb-diff-del\",\n    })\n  }\n};\n\nclass Filter {\n  constructor(id, props) {\n    this.el = SVG$1.el(\"filter\", {\n      ...props,\n      id: id,\n      x0: \"-50%\",\n      y0: \"-50%\",\n      width: \"200%\",\n      height: \"200%\",\n    });\n    this.highestId = 0;\n  }\n\n  fe(name, props, children) {\n    const shortName = name.toLowerCase().replace(/gaussian|osite/, \"\");\n    const id = `${shortName}-${++this.highestId}`;\n    this.el.appendChild(\n      SVG$1.withChildren(\n        SVG$1.el(`fe${name}`, { ...props, result: id }),\n        children || [],\n      ),\n    );\n    return id\n  }\n\n  comp(op, in1, in2, props) {\n    return this.fe(\"Composite\", { ...props, operator: op, in: in1, in2: in2 })\n  }\n\n  subtract(in1, in2) {\n    return this.comp(\"arithmetic\", in1, in2, { k2: +1, k3: -1 })\n  }\n\n  offset(dx, dy, in1) {\n    return this.fe(\"Offset\", {\n      in: in1,\n      dx: dx,\n      dy: dy,\n    })\n  }\n\n  flood(color, opacity, in1) {\n    return this.fe(\"Flood\", {\n      in: in1,\n      \"flood-color\": color,\n      \"flood-opacity\": opacity,\n    })\n  }\n\n  blur(dev, in1) {\n    return this.fe(\"GaussianBlur\", {\n      in: in1,\n      stdDeviation: `${dev} ${dev}`,\n    })\n  }\n\n  colorMatrix(in1, values) {\n    return this.fe(\"ColorMatrix\", {\n      in: in1,\n      type: \"matrix\",\n      values: values.join(\" \"),\n    })\n  }\n\n  merge(children) {\n    this.fe(\n      \"Merge\",\n      {},\n      children.map(name =>\n        SVG$1.el(\"feMergeNode\", {\n          in: name,\n        }),\n      ),\n    );\n  }\n}\n\nvar cssContent$1 = \"\\n.sb-label {\\n  font-family: Lucida Grande, Verdana, Arial, DejaVu Sans, sans-serif;\\n  font-weight: bold;\\n  fill: #fff;\\n  font-size: 10px;\\n  word-spacing: +1px;\\n}\\n\\n.sb-obsolete {\\n  fill: #d42828;\\n}\\n.sb-motion {\\n  fill: #4a6cd4;\\n}\\n.sb-looks {\\n  fill: #8a55d7;\\n}\\n.sb-sound {\\n  fill: #bb42c3;\\n}\\n.sb-pen {\\n  fill: #0e9a6c;\\n}\\n.sb-events {\\n  fill: #c88330;\\n}\\n.sb-control {\\n  fill: #e1a91a;\\n}\\n.sb-sensing {\\n  fill: #2ca5e2;\\n}\\n.sb-operators {\\n  fill: #5cb712;\\n}\\n.sb-variables {\\n  fill: #ee7d16;\\n}\\n.sb-list {\\n  fill: #cc5b22;\\n}\\n.sb-custom {\\n  fill: #632d99;\\n}\\n.sb-custom-arg {\\n  fill: #5947b1;\\n}\\n.sb-extension {\\n  fill: #4b4a60;\\n}\\n.sb-grey {\\n  fill: #969696;\\n}\\n\\n.sb-bevel {\\n  filter: url(#bevelFilter);\\n}\\n\\n.sb-input {\\n  filter: url(#inputBevelFilter);\\n}\\n.sb-input-number,\\n.sb-input-string,\\n.sb-input-number-dropdown {\\n  fill: #fff;\\n}\\n.sb-literal-number,\\n.sb-literal-string,\\n.sb-literal-number-dropdown,\\n.sb-literal-dropdown {\\n  font-weight: normal;\\n  font-size: 9px;\\n  word-spacing: 0;\\n}\\n.sb-literal-number,\\n.sb-literal-string,\\n.sb-literal-number-dropdown {\\n  fill: #000;\\n}\\n\\n.sb-darker {\\n  filter: url(#inputDarkFilter);\\n}\\n\\n.sb-outline {\\n  stroke: #fff;\\n  stroke-opacity: 0.2;\\n  stroke-width: 2;\\n  fill: none;\\n}\\n\\n.sb-define-hat-cap {\\n  stroke: #632d99;\\n  stroke-width: 1;\\n  fill: #8e2ec2;\\n}\\n\\n.sb-comment {\\n  fill: #ffffa5;\\n  stroke: #d0d1d2;\\n  stroke-width: 1;\\n}\\n.sb-comment-line {\\n  fill: #ffff80;\\n}\\n.sb-comment-label {\\n  font-family: Helvetica, Arial, DejaVu Sans, sans-serif;\\n  font-weight: bold;\\n  fill: #5c5d5f;\\n  word-spacing: 0;\\n  font-size: 12px;\\n}\\n\\n.sb-diff {\\n  fill: none;\\n  stroke: #000;\\n}\\n.sb-diff-ins {\\n  stroke-width: 2px;\\n}\\n.sb-diff-del {\\n  stroke-width: 3px;\\n}\\n\";\n\nlet Style$1 = class Style {\n  static get cssContent() {\n    return cssContent$1\n  }\n\n  static makeIcons() {\n    return [\n      SVG$1.el(\"path\", {\n        d: \"M1.504 21L0 19.493 4.567 0h1.948l-.5 2.418s1.002-.502 3.006 0c2.006.503 3.008 2.01 6.517 2.01 3.508 0 4.463-.545 4.463-.545l-.823 9.892s-2.137 1.005-5.144.696c-3.007-.307-3.007-2.007-6.014-2.51-3.008-.502-4.512.503-4.512.503L1.504 21z\",\n        fill: \"#3f8d15\",\n        id: \"greenFlag\",\n      }),\n      SVG$1.el(\"polygon\", {\n        points:\n          \"6.3,0.4725 12.516,0.4725 18.585,6.3 18.585,12.495 12.495,18.585 6.3,18.585 0.483,12.495 0.483,6.3  \",\n        fill: \"#bb0010\",\n        id: \"stopSign\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M6.724 0C3.01 0 0 2.91 0 6.5c0 2.316 1.253 4.35 3.14 5.5H5.17v-1.256C3.364 10.126 2.07 8.46 2.07 6.5 2.07 4.015 4.152 2 6.723 2c1.14 0 2.184.396 2.993 1.053L8.31 4.13c-.45.344-.398.826.11 1.08L15 8.5 13.858.992c-.083-.547-.514-.714-.963-.37l-1.532 1.172A6.825 6.825 0 0 0 6.723 0z\",\n        fill: \"#fff\",\n        id: \"turnRight\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M3.637 1.794A6.825 6.825 0 0 1 8.277 0C11.99 0 15 2.91 15 6.5c0 2.316-1.253 4.35-3.14 5.5H9.83v-1.256c1.808-.618 3.103-2.285 3.103-4.244 0-2.485-2.083-4.5-4.654-4.5-1.14 0-2.184.396-2.993 1.053L6.69 4.13c.45.344.398.826-.11 1.08L0 8.5 1.142.992c.083-.547.514-.714.963-.37l1.532 1.172z\",\n        fill: \"#fff\",\n        id: \"turnLeft\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M0 0L4 4L0 8Z\",\n        fill: \"#111\",\n        id: \"addInput\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M4 0L4 8L0 4Z\",\n        fill: \"#111\",\n        id: \"delInput\",\n      }),\n      SVG$1.setProps(\n        SVG$1.group([\n          SVG$1.el(\"path\", {\n            d: \"M8 0l2 -2l0 -3l3 0l-4 -5l-4 5l3 0l0 3l-8 0l0 2\",\n            fill: \"#000\",\n            opacity: \"0.3\",\n          }),\n          SVG$1.move(\n            -1,\n            -1,\n            SVG$1.el(\"path\", {\n              d: \"M8 0l2 -2l0 -3l3 0l-4 -5l-4 5l3 0l0 3l-8 0l0 2\",\n              fill: \"#fff\",\n              opacity: \"0.9\",\n            }),\n          ),\n        ]),\n        {\n          id: \"loopArrow\",\n        },\n      ),\n      SVG$1.setProps(\n        SVG$1.group([\n          SVG$1.el(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"12\",\n            height: \"14\",\n            fill: \"#000\",\n            opacity: \"0.25\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"1\",\n            y: \"1\",\n            width: \"1\",\n            height: \"13\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"11\",\n            y: \"1\",\n            width: \"1\",\n            height: \"13\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"1\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"5\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"9\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"13\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"2\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"6\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"10\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"11\",\n            y: \"0\",\n            width: \"1\",\n            height: \"1\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"0\",\n            y: \"13\",\n            width: \"1\",\n            height: \"1\",\n            fill: \"#ea8d1c\",\n          }),\n        ]),\n        {\n          id: \"list\",\n        },\n      ),\n    ]\n  }\n\n  static makeStyle() {\n    const style = SVG$1.el(\"style\");\n    style.appendChild(SVG$1.cdata(Style.cssContent));\n    return style\n  }\n\n  static bevelFilter(id, inset) {\n    const f = new Filter(id);\n\n    const alpha = \"SourceAlpha\";\n    const s = inset ? -1 : 1;\n    const blur = f.blur(1, alpha);\n\n    f.merge([\n      \"SourceGraphic\",\n      f.comp(\n        \"in\",\n        f.flood(\"#fff\", 0.15),\n        f.subtract(alpha, f.offset(+s, +s, blur)),\n      ),\n      f.comp(\n        \"in\",\n        f.flood(\"#000\", 0.7),\n        f.subtract(alpha, f.offset(-s, -s, blur)),\n      ),\n    ]);\n\n    return f.el\n  }\n\n  static darkFilter(id) {\n    const f = new Filter(id);\n\n    f.merge([\n      \"SourceGraphic\",\n      f.comp(\"in\", f.flood(\"#000\", 0.2), \"SourceAlpha\"),\n    ]);\n\n    return f.el\n  }\n\n  static darkRect(w, h, category, el) {\n    return SVG$1.setProps(\n      SVG$1.group([\n        SVG$1.setProps(el, {\n          class: `sb-${category} sb-darker`,\n        }),\n      ]),\n      { width: w, height: h },\n    )\n  }\n\n  static get defaultFontFamily() {\n    return \"Lucida Grande, Verdana, Arial, DejaVu Sans, sans-serif\"\n  }\n};\n\nconst {\n  defaultFontFamily,\n  makeStyle: makeStyle$3,\n  makeIcons,\n  darkRect,\n  bevelFilter,\n  darkFilter,\n} = Style$1;\n\nlet LabelView$1 = class LabelView {\n  constructor(label) {\n    Object.assign(this, label);\n\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n\n  get isLabel() {\n    return true\n  }\n\n  draw() {\n    return this.el\n  }\n\n  get width() {\n    return this.metrics.width\n  }\n\n  measure() {\n    const value = this.value;\n    const cls = `sb-${this.cls}`;\n    this.el = SVG$1.text(0, 10, value, {\n      class: `sb-label ${cls}`,\n    });\n\n    let cache = LabelView.metricsCache[cls];\n    if (!cache) {\n      cache = LabelView.metricsCache[cls] = Object.create(null);\n    }\n\n    if (Object.hasOwnProperty.call(cache, value)) {\n      this.metrics = cache[value];\n    } else {\n      const font = /comment-label/.test(this.cls)\n        ? \"bold 12px Helvetica, Arial, DejaVu Sans, sans-serif\"\n        : /literal/.test(this.cls)\n        ? `normal 9px ${defaultFontFamily}`\n        : `bold 10px ${defaultFontFamily}`;\n      this.metrics = cache[value] = LabelView.measure(value, font);\n      // TODO: word-spacing? (fortunately it seems to have no effect!)\n    }\n  }\n\n  static measure(value, font) {\n    const context = LabelView.measuring;\n    context.font = font;\n    const textMetrics = context.measureText(value);\n    const width = (textMetrics.width + 0.5) | 0;\n    return { width: width }\n  }\n};\n\nLabelView$1.metricsCache = {};\nLabelView$1.toMeasure = [];\n\nlet IconView$1 = class IconView {\n  constructor(icon) {\n    Object.assign(this, icon);\n\n    const info = IconView.icons[this.name];\n    if (!info) {\n      throw new Error(`no info for icon: ${this.name}`)\n    }\n    Object.assign(this, info);\n  }\n\n  get isIcon() {\n    return true\n  }\n\n  draw() {\n    return SVG$1.symbol(`#${this.name}`, {\n      width: this.width,\n      height: this.height,\n    })\n  }\n\n  static get icons() {\n    return {\n      greenFlag: { width: 20, height: 21, dy: -2 },\n      stopSign: { width: 20, height: 20 },\n      turnLeft: { width: 15, height: 12, dy: +1 },\n      turnRight: { width: 15, height: 12, dy: +1 },\n      loopArrow: { width: 14, height: 11 },\n      addInput: { width: 4, height: 8 },\n      delInput: { width: 4, height: 8 },\n      list: { width: 12, height: 14 },\n    }\n  }\n};\n\nlet InputView$1 = class InputView {\n  constructor(input) {\n    Object.assign(this, input);\n    if (input.label) {\n      this.label = newView$1(input.label);\n    }\n\n    this.x = 0;\n  }\n\n  measure() {\n    if (this.hasLabel) {\n      this.label.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      string: SVG$1.rect,\n      number: SVG$1.roundedRect,\n      \"number-dropdown\": SVG$1.roundedRect,\n      color: SVG$1.rect,\n      dropdown: SVG$1.rect,\n\n      boolean: SVG$1.pointedRect,\n      stack: SVG$1.stackRect,\n      reporter: SVG$1.roundedRect,\n    }\n  }\n\n  draw(parent) {\n    let w;\n    let label;\n    if (this.hasLabel) {\n      label = this.label.draw();\n      w = Math.max(\n        14,\n        this.label.width +\n          (this.shape === \"string\" || this.shape === \"number-dropdown\" ? 6 : 9),\n      );\n    } else {\n      w = this.isInset ? 30 : this.isColor ? 13 : null;\n    }\n    if (this.hasArrow) {\n      w += 10;\n    }\n    this.width = w;\n\n    const h = (this.height = this.isRound || this.isColor ? 13 : 14);\n\n    let el = InputView.shapes[this.shape](w, h);\n    if (this.isColor) {\n      SVG$1.setProps(el, {\n        fill: this.value,\n      });\n    } else if (this.isDarker) {\n      el = darkRect(w, h, parent.info.category, el);\n      if (parent.info.color) {\n        SVG$1.setProps(el, {\n          fill: parent.info.color,\n        });\n      }\n    }\n\n    const result = SVG$1.group([\n      SVG$1.setProps(el, {\n        class: `sb-input sb-input-${this.shape}`,\n      }),\n    ]);\n    if (this.hasLabel) {\n      const x = this.isRound ? 5 : 4;\n      result.appendChild(SVG$1.move(x, 0, label));\n    }\n    if (this.hasArrow) {\n      const y = this.shape === \"dropdown\" ? 5 : 4;\n      result.appendChild(\n        SVG$1.move(\n          w - 10,\n          y,\n          SVG$1.polygon({\n            points: [7, 0, 3.5, 4, 0, 0],\n            fill: \"#000\",\n            opacity: \"0.6\",\n          }),\n        ),\n      );\n    }\n    return result\n  }\n};\n\nlet BlockView$1 = class BlockView {\n  constructor(block) {\n    Object.assign(this, block);\n    this.children = block.children.map(newView$1);\n    this.comment = this.comment ? newView$1(this.comment) : null;\n\n    if (\n      Object.prototype.hasOwnProperty.call(aliasExtensions, this.info.category)\n    ) {\n      // handle aliases first\n      this.info.category = aliasExtensions[this.info.category];\n    }\n    if (\n      Object.prototype.hasOwnProperty.call(movedExtensions, this.info.category)\n    ) {\n      this.info.category = movedExtensions[this.info.category];\n    } else if (\n      Object.prototype.hasOwnProperty.call(extensions, this.info.category)\n    ) {\n      this.info.category = \"extension\";\n    }\n\n    this.x = 0;\n    this.width = null;\n    this.height = null;\n    this.firstLine = null;\n    this.innerWidth = null;\n  }\n\n  get isBlock() {\n    return true\n  }\n\n  measure() {\n    for (const child of this.children) {\n      if (child.measure) {\n        child.measure();\n      }\n    }\n    if (this.comment) {\n      this.comment.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      stack: SVG$1.stackRect,\n      \"c-block\": SVG$1.stackRect,\n      \"if-block\": SVG$1.stackRect,\n      celse: SVG$1.stackRect,\n      cend: SVG$1.stackRect,\n\n      cap: SVG$1.capRect,\n      reporter: SVG$1.roundedRect,\n      boolean: SVG$1.pointedRect,\n      hat: SVG$1.hatRect,\n      cat: SVG$1.hatRect,\n      \"define-hat\": SVG$1.procHatRect,\n      ring: SVG$1.roundedRect,\n    }\n  }\n\n  drawSelf(w, h, lines) {\n    // mouths\n    if (lines.length > 1) {\n      return SVG$1.mouthRect(w, h, this.isFinal, lines, {\n        class: `sb-${this.info.category} sb-bevel`,\n      })\n    }\n\n    // outlines\n    if (this.info.shape === \"outline\") {\n      return SVG$1.setProps(SVG$1.stackRect(w, h), {\n        class: \"sb-outline\",\n      })\n    }\n\n    // rings\n    if (this.isRing) {\n      const child = this.children[0];\n      // We use isStack for InputView; isBlock for BlockView; isScript for ScriptView.\n      if (child && (child.isStack || child.isBlock || child.isScript)) {\n        const shape = child.isScript\n          ? \"stack\"\n          : child.isStack\n          ? child.shape\n          : child.info.shape;\n        return SVG$1.ringRect(w, h, child.y, child.width, child.height, shape, {\n          class: `sb-${this.info.category} sb-bevel`,\n        })\n      }\n    }\n\n    const func = BlockView.shapes[this.info.shape];\n    if (!func) {\n      throw new Error(`no shape func: ${this.info.shape}`)\n    }\n    return func(w, h, {\n      class: `sb-${this.info.category} sb-bevel`,\n    })\n  }\n\n  minDistance(child) {\n    if (this.isBoolean) {\n      return child.isReporter\n        ? (4 + child.height / 4) | 0\n        : child.isLabel\n        ? (5 + child.height / 2) | 0\n        : child.isBoolean || child.shape === \"boolean\"\n        ? 5\n        : (2 + child.height / 2) | 0\n    }\n    if (this.isReporter) {\n      return (child.isInput && child.isRound) ||\n        ((child.isReporter || child.isBoolean) && !child.hasScript)\n        ? 0\n        : child.isLabel\n        ? (2 + child.height / 2) | 0\n        : (-2 + child.height / 2) | 0\n    }\n    return 0\n  }\n\n  static get padding() {\n    return {\n      hat: [15, 6, 2],\n      cat: [15, 6, 2],\n      \"define-hat\": [21, 8, 9],\n      reporter: [3, 4, 1],\n      boolean: [3, 4, 2],\n      cap: [6, 6, 2],\n      \"c-block\": [3, 6, 2],\n      \"if-block\": [3, 6, 2],\n      ring: [4, 4, 2],\n      null: [4, 6, 2],\n    }\n  }\n\n  draw() {\n    const isDefine = this.info.shape === \"define-hat\";\n    let children = this.children;\n\n    const padding = BlockView.padding[this.info.shape] || BlockView.padding.null;\n    let pt = padding[0];\n    const px = padding[1];\n    const pb = padding[2];\n\n    let y = 0;\n    const Line = function (y) {\n      this.y = y;\n      this.width = 0;\n      this.height = y ? 13 : 16;\n      this.children = [];\n    };\n\n    let innerWidth = 0;\n    let scriptWidth = 0;\n    let line = new Line(y);\n    const pushLine = isLast => {\n      if (lines.length === 0) {\n        line.height += pt + pb;\n      } else {\n        line.height += isLast ? 0 : +2;\n        line.y -= 1;\n      }\n      y += line.height;\n      lines.push(line);\n    };\n\n    if (this.info.isRTL) {\n      let start = 0;\n      const flip = () => {\n        children = children\n          .slice(0, start)\n          .concat(children.slice(start, i).reverse())\n          .concat(children.slice(i));\n      };\n      let i;\n      for (i = 0; i < children.length; i++) {\n        if (children[i].isScript) {\n          flip();\n          start = i + 1;\n        }\n      }\n      if (start < i) {\n        flip();\n      }\n    }\n\n    const lines = [];\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      child.el = child.draw(this);\n\n      if (child.isScript && this.isCommand) {\n        this.hasScript = true;\n        pushLine();\n        child.y = y;\n        lines.push(child);\n        scriptWidth = Math.max(scriptWidth, Math.max(1, child.width));\n        child.height = Math.max(12, child.height) + 3;\n        y += child.height;\n        line = new Line(y);\n      } else if (child.isArrow) {\n        line.children.push(child);\n      } else {\n        const cmw = i > 0 ? 30 : 0; // 27\n        const md = this.isCommand ? 0 : this.minDistance(child);\n        const mw = this.isCommand\n          ? child.isBlock || child.isInput\n            ? cmw\n            : 0\n          : md;\n        if (mw && !lines.length && line.width < mw - px) {\n          line.width = mw - px;\n        }\n        child.x = line.width;\n        line.width += child.width;\n        innerWidth = Math.max(innerWidth, line.width + Math.max(0, md - px));\n        line.width += 4;\n        if (!child.isLabel) {\n          line.height = Math.max(line.height, child.height);\n        }\n        line.children.push(child);\n      }\n    }\n    pushLine(true);\n\n    innerWidth = Math.max(\n      innerWidth + px * 2,\n      this.isHat || this.hasScript\n        ? 83\n        : this.isCommand || this.isOutline || this.isRing\n        ? 39\n        : 20,\n    );\n    this.height = y;\n    this.width = scriptWidth\n      ? Math.max(innerWidth, 15 + scriptWidth)\n      : innerWidth;\n    if (isDefine) {\n      const p = Math.min(26, (3.5 + 0.13 * innerWidth) | 0) - 18;\n      this.height += p;\n      pt += 2 * p;\n    }\n    this.firstLine = lines[0];\n    this.innerWidth = innerWidth;\n\n    const objects = [];\n\n    for (const line of lines) {\n      if (line.isScript) {\n        objects.push(SVG$1.move(15, line.y, line.el));\n        continue\n      }\n\n      const h = line.height;\n\n      for (const child of line.children) {\n        if (child.isArrow) {\n          objects.push(SVG$1.move(innerWidth - 15, this.height - 3, child.el));\n          continue\n        }\n\n        let y = pt + (h - child.height - pt - pb) / 2 - 1;\n        if (isDefine && child.isLabel) {\n          y += 3;\n        } else if (child.isIcon) {\n          y += child.dy | 0;\n        }\n        if (this.isRing) {\n          child.y = (line.y + y) | 0;\n          if (child.isInset) {\n            continue\n          }\n        }\n        objects.push(SVG$1.move(px + child.x, (line.y + y) | 0, child.el));\n\n        if (child.diff === \"+\") {\n          const ellipse = SVG$1.insEllipse(child.width, child.height);\n          objects.push(SVG$1.move(px + child.x, (line.y + y) | 0, ellipse));\n        }\n      }\n    }\n\n    const el = this.drawSelf(innerWidth, this.height, lines);\n    objects.splice(0, 0, el);\n    if (this.info.color) {\n      SVG$1.setProps(el, {\n        fill: this.info.color,\n      });\n    }\n\n    return SVG$1.group(objects)\n  }\n};\n\nlet CommentView$1 = class CommentView {\n  constructor(comment) {\n    Object.assign(this, comment);\n    this.label = newView$1(comment.label);\n\n    this.width = null;\n  }\n\n  get isComment() {\n    return true\n  }\n\n  static get lineLength() {\n    return 12\n  }\n\n  get height() {\n    return 20\n  }\n\n  measure() {\n    this.label.measure();\n  }\n\n  draw() {\n    const labelEl = this.label.draw();\n\n    this.width = this.label.width + 16;\n    return SVG$1.group([\n      SVG$1.commentLine(this.hasBlock ? CommentView.lineLength : 0, 6),\n      SVG$1.commentRect(this.width, this.height, {\n        class: \"sb-comment\",\n      }),\n      SVG$1.move(8, 4, labelEl),\n    ])\n  }\n};\n\nlet GlowView$1 = class GlowView {\n  constructor(glow) {\n    Object.assign(this, glow);\n    this.child = newView$1(glow.child);\n\n    this.width = null;\n    this.height = null;\n    this.y = 0;\n  }\n\n  get isGlow() {\n    return true\n  }\n\n  measure() {\n    this.child.measure();\n  }\n\n  drawSelf() {\n    const c = this.child;\n    let el;\n    const w = this.width;\n    const h = this.height - 1;\n    if (c.isScript) {\n      if (!c.isEmpty && c.blocks[0].isHat) {\n        el = SVG$1.hatRect(w, h);\n      } else if (c.isFinal) {\n        el = SVG$1.capRect(w, h);\n      } else {\n        el = SVG$1.stackRect(w, h);\n      }\n    } else {\n      el = c.drawSelf(w, h, []);\n    }\n    return SVG$1.setProps(el, {\n      class: \"sb-diff sb-diff-ins\",\n    })\n  }\n  // TODO how can we always raise Glows above their parents?\n\n  draw() {\n    const c = this.child;\n    const el = c.isScript ? c.draw(true) : c.draw();\n\n    this.width = c.width;\n    this.height = (c.isBlock && c.firstLine.height) || c.height;\n\n    // encircle\n    return SVG$1.group([el, this.drawSelf()])\n  }\n};\n\nlet ScriptView$1 = class ScriptView {\n  constructor(script) {\n    Object.assign(this, script);\n    this.blocks = script.blocks.map(newView$1);\n\n    this.y = 0;\n  }\n\n  get isScript() {\n    return true\n  }\n\n  measure() {\n    for (const block of this.blocks) {\n      block.measure();\n    }\n  }\n\n  draw(inside) {\n    const children = [];\n    let y = 0;\n    this.width = 0;\n    for (const block of this.blocks) {\n      const x = inside ? 0 : 2;\n      const child = block.draw();\n      children.push(SVG$1.move(x, y, child));\n      this.width = Math.max(this.width, block.width);\n\n      const diff = block.diff;\n      if (diff === \"-\") {\n        const dw = block.width;\n        const dh = block.firstLine.height || block.height;\n        children.push(SVG$1.move(x, y + dh / 2 + 1, SVG$1.strikethroughLine(dw)));\n        this.width = Math.max(this.width, block.width);\n      }\n\n      y += block.height;\n\n      const comment = block.comment;\n      if (comment) {\n        const line = block.firstLine;\n        const cx = block.innerWidth + 2 + CommentView$1.lineLength;\n        const cy = y - block.height + line.height / 2;\n        const el = comment.draw();\n        children.push(SVG$1.move(cx, cy - comment.height / 2, el));\n        this.width = Math.max(this.width, cx + comment.width);\n      }\n    }\n    this.height = y;\n    if (!inside && !this.isFinal) {\n      this.height += 3;\n    }\n    const lastBlock = this.blocks[this.blocks.length - 1];\n    if (!inside && lastBlock.isGlow) {\n      this.height += 2; // TODO unbreak this\n    }\n    return SVG$1.group(children)\n  }\n};\n\nlet DocumentView$1 = class DocumentView {\n  constructor(doc, options) {\n    Object.assign(this, doc);\n    this.scripts = doc.scripts.map(newView$1);\n\n    this.width = null;\n    this.height = null;\n    this.el = null;\n    this.defs = null;\n    this.scale = options.scale;\n  }\n\n  measure() {\n    this.scripts.forEach(script => script.measure());\n  }\n\n  render(cb) {\n    if (typeof cb === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n\n    // measure strings\n    this.measure();\n\n    // TODO: separate layout + render steps.\n    // render each script\n    let width = 0;\n    let height = 0;\n    const elements = [];\n    for (const script of this.scripts) {\n      if (height) {\n        height += 10;\n      }\n      script.y = height;\n      elements.push(SVG$1.move(0, height, script.draw()));\n      height += script.height;\n      width = Math.max(width, script.width + 4);\n    }\n    this.width = width;\n    this.height = height;\n\n    // return SVG\n    const svg = SVG$1.newSVG(width, height, this.scale);\n    svg.appendChild(\n      (this.defs = SVG$1.withChildren(SVG$1.el(\"defs\"), [\n        bevelFilter(\"bevelFilter\", false),\n        bevelFilter(\"inputBevelFilter\", true),\n        darkFilter(\"inputDarkFilter\"),\n        ...makeIcons(),\n      ])),\n    );\n\n    svg.appendChild(SVG$1.group(elements));\n    this.el = svg;\n    return svg\n  }\n\n  /* Export SVG image as XML string */\n  exportSVGString() {\n    if (this.el == null) {\n      throw new Error(\"call draw() first\")\n    }\n\n    const style = makeStyle$3();\n    this.defs.appendChild(style);\n    const xml = new SVG$1.XMLSerializer().serializeToString(this.el);\n    this.defs.removeChild(style);\n    return xml\n  }\n\n  /* Export SVG image as data URI */\n  exportSVG() {\n    const xml = this.exportSVGString();\n    return `data:image/svg+xml;utf8,${xml.replace(/[#]/g, encodeURIComponent)}`\n  }\n\n  toCanvas(cb, exportScale) {\n    exportScale = exportScale || 1.0;\n\n    const canvas = SVG$1.makeCanvas();\n    canvas.width = Math.max(1, this.width * exportScale * this.scale);\n    canvas.height = Math.max(1, this.height * exportScale * this.scale);\n    const context = canvas.getContext(\"2d\");\n\n    const image = new Image();\n    image.src = this.exportSVG();\n    image.onload = () => {\n      context.save();\n      context.scale(exportScale, exportScale);\n      context.drawImage(image, 0, 0);\n      context.restore();\n\n      cb(canvas);\n    };\n  }\n\n  exportPNG(cb, scale) {\n    this.toCanvas(canvas => {\n      if (URL && URL.createObjectURL && Blob && canvas.toBlob) {\n        canvas.toBlob(blob => {\n          cb(URL.createObjectURL(blob));\n        }, \"image/png\");\n      } else {\n        cb(canvas.toDataURL(\"image/png\"));\n      }\n    }, scale);\n  }\n};\n\nconst viewFor$1 = node => {\n  switch (node.constructor) {\n    case Label:\n      return LabelView$1\n    case Icon:\n      return IconView$1\n    case Input:\n      return InputView$1\n    case Block:\n      return BlockView$1\n    case Comment:\n      return CommentView$1\n    case Glow:\n      return GlowView$1\n    case Script:\n      return ScriptView$1\n    case Document:\n      return DocumentView$1\n    default:\n      throw new Error(`no view for ${node.constructor.name}`)\n  }\n};\n\nconst newView$1 = (node, options) => new (viewFor$1(node))(node, options);\n\nfunction init$2(window) {\n  SVG$1.init(window);\n\n  LabelView$1.measuring = SVG$1.makeCanvas().getContext(\"2d\");\n}\n\nconst makeStyle$2 = Style$1.makeStyle;\n\n/* for constructing SVGs */\n\n// set by SVG.init\nlet document;\nlet xml;\n\nconst directProps = {\n  textContent: true,\n};\n\nclass SVG {\n  static init(window) {\n    document = window.document;\n    const DOMParser = window.DOMParser;\n    xml = new DOMParser().parseFromString(\"<xml></xml>\", \"application/xml\");\n    SVG.XMLSerializer = window.XMLSerializer;\n  }\n\n  static makeCanvas() {\n    return document.createElement(\"canvas\")\n  }\n\n  static cdata(content) {\n    return xml.createCDATASection(content)\n  }\n\n  static el(name, props) {\n    const el = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n    return SVG.setProps(el, props)\n  }\n\n  static setProps(el, props) {\n    for (const key in props) {\n      const value = String(props[key]);\n      if (directProps[key]) {\n        el[key] = value;\n      } else if (\n        props[key] != null &&\n        Object.prototype.hasOwnProperty.call(props, key)\n      ) {\n        el.setAttributeNS(null, key, value);\n      }\n    }\n    return el\n  }\n\n  static withChildren(el, children) {\n    for (const child of children) {\n      el.appendChild(child);\n    }\n    return el\n  }\n\n  static group(children) {\n    return SVG.withChildren(SVG.el(\"g\"), children)\n  }\n\n  static newSVG(width, height, scale) {\n    return SVG.el(\"svg\", {\n      version: \"1.1\",\n      width: width * scale,\n      height: height * scale,\n      viewBox: `0 0 ${width * scale} ${height * scale}`,\n    })\n  }\n\n  static polygon(props) {\n    return SVG.el(\"polygon\", { ...props, points: props.points.join(\" \") })\n  }\n\n  static path(props) {\n    return SVG.el(\"path\", { ...props, path: null, d: props.path.join(\" \") })\n  }\n\n  static text(x, y, content, props) {\n    const text = SVG.el(\"text\", { ...props, x: x, y: y, textContent: content });\n    return text\n  }\n\n  static symbol(href) {\n    return SVG.el(\"use\", {\n      href: href,\n    })\n  }\n\n  static move(dx, dy, el) {\n    SVG.setProps(el, {\n      transform: `translate(${dx} ${dy})`,\n    });\n    return el\n  }\n\n  /* shapes */\n\n  static rect(w, h, props) {\n    return SVG.el(\"rect\", { ...props, x: 0, y: 0, width: w, height: h })\n  }\n\n  static roundRect(w, h, props) {\n    return SVG.rect(w, h, { ...props, rx: 4, ry: 4 })\n  }\n\n  static pillRect(w, h, props) {\n    const r = h / 2;\n    return SVG.rect(w, h, { ...props, rx: r, ry: r })\n  }\n\n  static pointedPath(w, h) {\n    const r = h / 2;\n    return [\n      `M ${r} 0`,\n      `L ${w - r} 0 ${w} ${r}`,\n      `L ${w} ${r} ${w - r} ${h}`,\n      `L ${r} ${h} 0 ${r}`,\n      `L 0 ${r} ${r} 0`,\n      \"Z\",\n    ]\n  }\n\n  static pointedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.pointedPath(w, h) })\n  }\n\n  static topNotch(w, y) {\n    return `c 2 0 3 1 4 2\n      l 4 4\n      c 1 1 2 2 4 2\n      h 12\n      c 2 0 3 -1 4 -2\n      l 4 -4\n      c 1 -1 2 -2 4 -2\n      L ${w - 4} ${y}\n      a 4 4 0 0 1 4 4`\n  }\n\n  static getTop(w) {\n    return `M 0 4\n      A 4 4 0 0 1 4 0\n      H 12 ${SVG.topNotch(w, 0)}`\n  }\n\n  static getRingTop(w) {\n    return `M 0 3\n      L 3 0\n      L 7 0\n      L 10 3\n      L 16 3\n      L 19 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRightAndBottom(w, y, hasNotch, inset) {\n    if (typeof inset === \"undefined\") {\n      inset = 0;\n    }\n\n    let arr = [`L ${w} ${y - 4}`, `a 4 4 0 0 1 -4 4`];\n\n    if (hasNotch) {\n      arr = arr.concat([\n        `L ${inset + 48} ${y}`,\n        \"c -2 0 -3 1 -4 2\",\n        \"l -4 4\",\n        \"c -1 1 -2 2 -4 2\",\n        \"h -12\",\n        \"c -2 0 -3 -1 -4 -2\",\n        \"l -4 -4\",\n        \"c -1 -1 -2 -2 -4 -2\",\n      ]);\n    }\n    if (inset === 0) {\n      arr.push(\"L\", inset + 4, y);\n      arr.push(\"a 4 4 0 0 1 -4 -4\");\n    } else {\n      arr.push(\"L\", inset + 4, y);\n      arr.push(\"a 4 4 0 0 0 -4 4\");\n    }\n    return arr.join(\" \")\n  }\n\n  static getArm(w, armTop) {\n    return `L 16 ${armTop - 4}\n      a 4 4 0 0 0 4 4\n      L 28 ${armTop} ${SVG.topNotch(w, armTop)}`\n  }\n\n  static getArmNoNotch(w, armTop) {\n    return `L 16 ${armTop - 4}\n      a 4 4 0 0 0 4 4\n      L 28 ${armTop} L ${w - 4} ${armTop}\n      a 4 4 0 0 1 4 4`\n  }\n\n  static stackRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static capPath(w, h) {\n    return [SVG.getTop(w), SVG.getRightAndBottom(w, h, false, 0), \"Z\"]\n  }\n\n  static capRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.capPath(w, h) })\n  }\n\n  static getHatTop(w) {\n    return `M 0 16 c 25,-22 71,-22 96,0 L ${w - 4} 16 a 4 4 0 0 1 4 4`\n  }\n\n  static getCatTop(w) {\n    return `M 0 32\n      c2.6,-2.3 5.5,-4.3 8.5,-6.2c-1,-12.5 5.3,-23.3 8.4,-24.8c3.7,-1.8 16.5,13.1 18.4,15.4c8.4,-1.3 17,-1.3 25.4,0c1.9,-2.3 14.7,-17.2 18.4,-15.4c3.1,1.5 9.4,12.3 8.4,24.8c3,1.8 5.9,3.9 8.5,6.1\n      L ${w - 4} 32\n      a 4 4 0 0 1 4 4`\n  }\n\n  static hatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getHatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static catHat(w, h, props) {\n    return SVG.group([\n      SVG.path({\n        ...props,\n        path: [SVG.getCatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n      }),\n      SVG.move(\n        0,\n        32,\n        SVG.setProps(\n          SVG.group([\n            SVG.el(\"circle\", {\n              cx: 29.1,\n              cy: -3.3,\n              r: 3.4,\n            }),\n            SVG.el(\"circle\", {\n              cx: 59.2,\n              cy: -3.3,\n              r: 3.4,\n            }),\n            SVG.el(\"path\", {\n              d: \"M45.6,0.1c-0.9,0-1.7-0.3-2.3-0.9c-0.6,0.6-1.3,0.9-2.2,0.9c-0.9,0-1.8-0.3-2.3-0.9c-1-1.1-1.1-2.6-1.1-2.8c0-0.5,0.5-1,1-1l0,0c0.6,0,1,0.5,1,1c0,0.4,0.1,1.7,1.4,1.7c0.5,0,0.7-0.2,0.8-0.3c0.3-0.3,0.4-1,0.4-1.3c0-0.1,0-0.1,0-0.2c0-0.5,0.5-1,1-1l0,0c0.5,0,1,0.4,1,1c0,0,0,0.1,0,0.2c0,0.3,0.1,0.9,0.4,1.2C44.8-2.2,45-2,45.5-2s0.7-0.2,0.8-0.3c0.3-0.4,0.4-1.1,0.3-1.3c0-0.5,0.4-1,0.9-1.1c0.5,0,1,0.4,1.1,0.9c0,0.2,0.1,1.8-0.8,2.8C47.5-0.4,46.8,0.1,45.6,0.1z\",\n            }),\n          ]),\n          {\n            fill: \"#000\",\n            \"fill-opacity\": 0.6,\n          },\n        ),\n      ),\n      SVG.move(\n        0,\n        32,\n        SVG.el(\"path\", {\n          d: \"M73.1-15.6c1.7-4.2,4.5-9.1,5.8-8.5c1.6,0.8,5.4,7.9,5,15.4c0,0.6-0.7,0.7-1.1,0.5c-3-1.6-6.4-2.8-8.6-3.6C72.8-12.3,72.4-13.7,73.1-15.6z\",\n          fill: \"#FFD5E6\",\n          transform: \"translate(0, 32)\",\n        }),\n      ),\n      SVG.move(\n        0,\n        32,\n        SVG.el(\"path\", {\n          d: \"M22.4-15.6c-1.7-4.2-4.5-9.1-5.8-8.5c-1.6,0.8-5.4,7.9-5,15.4c0,0.6,0.7,0.7,1.1,0.5c3-1.6,6.4-2.8,8.6-3.6C22.8-12.3,23.2-13.7,22.4-15.6z\",\n          fill: \"#FFD5E6\",\n          transform: \"translate(0, 32)\",\n        }),\n      ),\n    ])\n  }\n\n  static getProcHatTop(w) {\n    return `M 0 20 a 20 20 0 0 1 20 -20 L ${w - 20} 0 a 20,20 0 0,1 20,20`\n  }\n\n  static procHatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getProcHatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static mouthRect(w, h, isFinal, lines, props) {\n    let y = lines[0].height;\n    const p = [SVG.getTop(w), SVG.getRightAndBottom(w, y, true, 16)];\n    for (let i = 1; i < lines.length; i += 2) {\n      const isLast = i + 2 === lines.length;\n\n      const line = lines[i];\n      y += line.height - 3;\n\n      if (line.isFinal) {\n        p.push(SVG.getArmNoNotch(w, y));\n      } else {\n        p.push(SVG.getArm(w, y));\n      }\n\n      const hasNotch = !(isLast && isFinal);\n      const inset = isLast ? 0 : 16;\n      y += lines[i + 1].height + 3;\n      p.push(SVG.getRightAndBottom(w, y, hasNotch, inset));\n    }\n    p.push(\"Z\");\n    return SVG.path({ ...props, path: p })\n  }\n\n  static commentRect(w, h, props) {\n    return SVG.roundRect(w, h, { ...props, class: \"sb3-comment\" })\n  }\n\n  static commentLine(width, props) {\n    return SVG.move(\n      -width,\n      9,\n      SVG.rect(width, 2, { ...props, class: \"sb3-comment-line\" }),\n    )\n  }\n\n  static strikethroughLine(w, props) {\n    return SVG.path({\n      ...props,\n      path: [\"M\", 0, 0, \"L\", w, 0],\n      class: \"sb3-diff sb3-diff-del\",\n    })\n  }\n}\n\nvar cssContent = \"\\n.sb3-label {\\n  font: 500 12pt Helvetica Neue, Helvetica, sans-serif;\\n  word-spacing: +1pt;\\n}\\n\\n.sb3-literal-number,\\n.sb3-literal-string,\\n.sb3-literal-number-dropdown,\\n.sb3-literal-dropdown {\\n  word-spacing: 0;\\n}\\n\\n/* Note: comment colors are different from Scratch. */\\n\\n.sb3-comment {\\n  fill: #ffffa5;\\n  stroke: #d0d1d2;\\n  stroke-width: 1;\\n}\\n.sb3-comment-line {\\n  fill: #ffff80;\\n}\\n.sb3-comment-label {\\n  font: 400 12pt Helvetica Neue, Helvetica, sans-serif;\\n  fill: #000;\\n  word-spacing: 0;\\n}\\n\\n.sb3-diff {\\n  fill: none;\\n  stroke: #000;\\n}\\n.sb3-diff-ins {\\n  stroke-width: 2px;\\n}\\n.sb3-diff-del {\\n  stroke-width: 3px;\\n}\\n\\n\\nsvg .sb3-motion {\\n  fill: #4c97ff;\\n  stroke: #3373cc;\\n}\\nsvg .sb3-motion-alt {\\n  fill: #4280d7;\\n}\\nsvg .sb3-motion-dark {\\n  fill: #3373cc;\\n}\\n\\n\\nsvg .sb3-looks {\\n  fill: #9966ff;\\n  stroke: #774dcb;\\n}\\nsvg .sb3-looks-alt {\\n  fill: #855cd6;\\n}\\nsvg .sb3-looks-dark {\\n  fill: #774dcb;\\n}\\n\\n\\nsvg .sb3-sound {\\n  fill: #cf63cf;\\n  stroke: #bd42bd;\\n}\\nsvg .sb3-sound-alt {\\n  fill: #c94fc9;\\n}\\nsvg .sb3-sound-dark {\\n  fill: #bd42bd;\\n}\\n\\n\\nsvg .sb3-control {\\n  fill: #ffab19;\\n  stroke: #cf8b17;\\n}\\nsvg .sb3-control-alt {\\n  fill: #ec9c13;\\n}\\nsvg .sb3-control-dark {\\n  fill: #cf8b17;\\n}\\n\\n\\nsvg .sb3-events {\\n  fill: #ffbf00;\\n  stroke: #cc9900;\\n}\\nsvg .sb3-events-alt {\\n  fill: #e6ac00;\\n}\\nsvg .sb3-events-dark {\\n  fill: #cc9900;\\n}\\n\\n\\nsvg .sb3-sensing {\\n  fill: #5cb1d6;\\n  stroke: #2e8eb8;\\n}\\nsvg .sb3-sensing-alt {\\n  fill: #47a8d1;\\n}\\nsvg .sb3-sensing-dark {\\n  fill: #2e8eb8;\\n}\\n\\n\\nsvg .sb3-operators {\\n  fill: #59c059;\\n  stroke: #389438;\\n}\\nsvg .sb3-operators-alt {\\n  fill: #46b946;\\n}\\nsvg .sb3-operators-dark {\\n  fill: #389438;\\n}\\n\\n\\nsvg .sb3-variables {\\n  fill: #ff8c1a;\\n  stroke: #db6e00;\\n}\\nsvg .sb3-variables-alt {\\n  fill: #ff8000;\\n}\\nsvg .sb3-variables-dark {\\n  fill: #db6e00;\\n}\\n\\n\\nsvg .sb3-list {\\n  fill: #ff661a;\\n  stroke: #e64d00;\\n}\\nsvg .sb3-list-alt {\\n  fill: #ff5500;\\n}\\nsvg .sb3-list-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg .sb3-custom {\\n  fill: #ff6680;\\n  stroke: #ff3355;\\n}\\nsvg .sb3-custom-alt {\\n  fill: #ff4d6a;\\n}\\nsvg .sb3-custom-dark {\\n  fill: #ff3355;\\n}\\n\\n\\nsvg .sb3-extension {\\n  fill: #0fbd8c;\\n  stroke: #0b8e69;\\n}\\nsvg .sb3-extension-alt {\\n  fill: #0da57a;\\n}\\nsvg .sb3-extension-dark {\\n  fill: #0b8e69;\\n}\\n\\n\\nsvg .sb3-obsolete {\\n  fill: #ed4242;\\n  stroke: #ca2b2b;\\n}\\nsvg .sb3-obsolete-alt {\\n  fill: #db3333;\\n}\\nsvg .sb3-obsolete-dark {\\n  fill: #ca2b2b;\\n}\\n\\n\\nsvg .sb3-grey {\\n  fill: #bfbfbf;\\n  stroke: #909090;\\n}\\nsvg .sb3-grey-alt {\\n  fill: #b2b2b2;\\n}\\nsvg .sb3-grey-dark {\\n  fill: #909090;\\n}\\n\\n\\nsvg .sb3-label {\\n  fill: #fff;\\n}\\n\\nsvg .sb3-input-color {\\n  stroke: #fff;\\n}\\n\\nsvg .sb3-input-number,\\nsvg .sb3-input-string {\\n  fill: #fff;\\n}\\nsvg .sb3-literal-number,\\nsvg .sb3-literal-string {\\n  fill: #575e75;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion {\\n  fill: #80b5ff;\\n  stroke: #3373cc;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion-alt {\\n  fill: #b3d2ff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion-dark {\\n  fill: #3373cc;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks {\\n  fill: #ccb3ff;\\n  stroke: #774dcb;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks-alt {\\n  fill: #ddccff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks-dark {\\n  fill: #774dcb;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound {\\n  fill: #e19de1;\\n  stroke: #bd42bd;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound-alt {\\n  fill: #ffb3ff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound-dark {\\n  fill: #bd42bd;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control {\\n  fill: #ffbe4c;\\n  stroke: #cf8b17;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control-alt {\\n  fill: #ffda99;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control-dark {\\n  fill: #cf8b17;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events {\\n  fill: #ffd966;\\n  stroke: #cc9900;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events-alt {\\n  fill: #ffecb3;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events-dark {\\n  fill: #cc9900;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing {\\n  fill: #85c4e0;\\n  stroke: #2e8eb8;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing-alt {\\n  fill: #aed8ea;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing-dark {\\n  fill: #2e8eb8;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators {\\n  fill: #7ece7e;\\n  stroke: #389438;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators-alt {\\n  fill: #b5e3b5;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators-dark {\\n  fill: #389438;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables {\\n  fill: #ffa54c;\\n  stroke: #db6e00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables-alt {\\n  fill: #ffcc99;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables-dark {\\n  fill: #db6e00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list {\\n  fill: #ff9966;\\n  stroke: #e64d00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list-alt {\\n  fill: #ffcab0;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom {\\n  fill: #ff99aa;\\n  stroke: #e64d00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom-alt {\\n  fill: #ffccd5;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension {\\n  fill: #13ecaf;\\n  stroke: #0b8e69;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension-alt {\\n  fill: #75f0cd;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension-dark {\\n  fill: #0b8e69;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete {\\n  fill: #fc6666;\\n  stroke: #d32121;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete-alt {\\n  fill: #fcb0b0;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete-dark {\\n  fill: #d32121;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey {\\n  fill: #bfbfbf;\\n  stroke: #959595;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey-alt {\\n  fill: #b2b2b2;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey-dark {\\n  fill: #959595;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-label {\\n  fill: #000;\\n}\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-color {\\n  stroke: #fff;\\n}\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-number,\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-string {\\n  fill: #fff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-literal-number,\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-literal-string {\\n  fill: #000;\\n}\\n\";\n\n// Need to define here, as we cannot reference Style#makeNewIcons\n// during JS loading phase.\nconst highContrastIcons = new Set([\n  \"dropdownArrow\",\n  \"turnRight\",\n  \"turnLeft\",\n  \"loopArrow\",\n  \"musicBlock\",\n  \"penBlock\",\n  \"videoBlock\",\n  \"ttsBlock\",\n  \"translationBlock\",\n]);\n\nclass Style {\n  static get cssContent() {\n    return cssContent\n  }\n\n  static makeCommonIcons() {\n    return [\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.8 3.7c-.4-.2-.9-.1-1.2.2-2 1.6-4.8 1.6-6.8 0-2.3-1.9-5.6-2.3-8.3-1v-.4c0-.6-.5-1-1-1s-1 .4-1 1v18.8c0 .5.5 1 1 1h.1c.5 0 1-.5 1-1v-6.4c1-.7 2.1-1.2 3.4-1.3 1.2 0 2.4.4 3.4 1.2 2.9 2.3 7 2.3 9.8 0 .3-.2.4-.5.4-.9V4.7c0-.5-.3-.9-.8-1zm-.3 10.2C18 16 14.4 16 11.9 14c-1.1-.9-2.5-1.4-4-1.4-1.2.1-2.3.5-3.4 1.1V4c2.5-1.4 5.5-1.1 7.7.6 2.4 1.9 5.7 1.9 8.1 0h.2l.1.1-.1 9.2z\",\n            fill: \"#45993d\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M20.6 4.8l-.1 9.1v.1c-2.5 2-6.1 2-8.6 0-1.1-.9-2.5-1.4-4-1.4-1.2.1-2.3.5-3.4 1.1V4c2.5-1.4 5.5-1.1 7.7.6 2.4 1.9 5.7 1.9 8.1 0h.2c0 .1.1.1.1.2z\",\n            fill: \"#4cbf56\",\n          }),\n        ]),\n        {\n          id: \"sb3-greenFlag\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.el(\"polygon\", {\n          points:\n            \"6.6,0.5 13.12,0.5 19.5,6.6 19.5,13.12 13.12,19.5 6.6,19.5 0.5,13.12 0.5,6.6 \",\n          fill: \"#ec5959\",\n          stroke: \"#b84848\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-linecap\": \"round\",\n        }),\n        {\n          id: \"sb3-stopSign\",\n        },\n      ),\n\n      SVG.el(\"path\", {\n        d: \"M0 0L4 4L0 8Z\",\n        fill: \"#111\",\n        id: \"sb3-addInput\",\n      }),\n      SVG.el(\"path\", {\n        d: \"M4 0L4 8L0 4Z\",\n        fill: \"#111\",\n        id: \"sb3-delInput\",\n      }),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"15\",\n            height: \"18\",\n            fill: \"#fff\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"1\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"7\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"13\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n        ]),\n        {\n          id: \"sb3-list\",\n        },\n      ),\n\n      SVG.el(\"image\", {\n        id: \"sb3-microbitBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,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\",\n      }),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.513 11.17h-.73c-.319 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.91 11.17h-.73c-.319 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M9.54 11.17h-.728c-.32 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.257-.479-.577-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M10.938 11.17h-.729c-.32 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.257-.479-.577-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M26.305 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.702 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.101 11.17h-.73c-.318 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M30.498 11.17h-.73c-.318 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M17.925 11.17h-.73c-.319 0-.577.213-.577.478v1.08h1.883v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.322 11.17h-.73c-.319 0-.577.213-.577.478v1.08h1.883v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M20.717 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.114 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.129 11.17H14.4c-.32 0-.576.213-.576.478v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M16.526 11.17h-.729c-.32 0-.576.213-.576.478v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.335 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.882v-1.08c0-.265-.26-.479-.577-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M13.732 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M31.893 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.29 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V12.533h17.882c.52 0 .941.445.941.992v13.89c0 .547-.421.992-.94.992\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V12.533h17.882c.52 0 .941.445.941.992v13.89c0 .547-.421.992-.94.992z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.941 12.533H11.06c-1.559 0-2.824 1.334-2.824 2.977v1.986c0 .547.422.992.941.992H12c.52 0 .941-.445.941-.992V15.51c0-1.643 1.265-2.977 2.824-2.977h.94-3.764z\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.941 12.533H11.06c-1.559 0-2.824 1.334-2.824 2.977v1.986c0 .547.422.992.941.992H12c.52 0 .941-.445.941-.992V15.51c0-1.643 1.265-2.977 2.824-2.977h.94-3.764z\",\n            stroke: \"#3D79CC\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n            d: \"M4.47 20.474h27.961l2.157 2.974\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.307 18.964h-.73c-.319 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.307 18.964h-.73c-.319 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.178 18.964h-.728c-.32 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.178 18.964h-.728c-.32 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.051 18.964h-.73c-.318 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.257-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.051 18.964h-.73c-.318 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.257-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.923 18.964h-.729c-.32 0-.576.214-.576.479v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.923 18.964h-.729c-.32 0-.576.214-.576.479v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V20.47H32.43l2.157 2.978v3.966c0 .548-.421.993-.94.993\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V20.47H32.43l2.157 2.978v3.966c0 .548-.421.993-.94.993z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V20.47h11.294v7.937z\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V20.47h11.294v7.937z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#E6E7E8\",\n            d: \"M19.53 24.438h11.294V20.47H19.529z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n            d: \"M19.53 24.438h11.294V20.47H19.529zm12.902-3.964l2.157-2.794\",\n          }),\n        ]),\n        {\n          id: \"sb3-wedoBlock\",\n          fill: \"none\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"rect\", {\n            stroke: \"#7C87A5\",\n            fill: \"#FFF\",\n            x: \".5\",\n            y: \"3.59\",\n            width: \"28\",\n            height: \"25.81\",\n            rx: \"1\",\n          }),\n          SVG.el(\"rect\", {\n            stroke: \"#7C87A5\",\n            fill: \"#E6E7E8\",\n            x: \"2.5\",\n            y: \".5\",\n            width: \"24\",\n            height: \"32\",\n            rx: \"1\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            fill: \"#FFF\",\n            d: \"M2.5 14.5h24v13h-24z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M14.5 10.5v4\",\n            stroke: \"#7C87A5\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"rect\", {\n            fill: \"#414757\",\n            x: \"4.5\",\n            y: \"2.5\",\n            width: \"20\",\n            height: \"10\",\n            rx: \"1\",\n          }),\n          SVG.el(\"rect\", {\n            fill: \"#7C87A5\",\n            opacity: \".5\",\n            x: \"13.5\",\n            y: \"20.13\",\n            width: \"2\",\n            height: \"2\",\n            rx: \".5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M9.06 20.13h1.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1.5a1 1 0 0 1 0-2zM19.93 22.13h-1.51a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h1.5a1 1 0 0 1 .01 2zM8.23 17.5H5a.5.5 0 0 1-.5-.5v-2.5h6l-1.85 2.78a.51.51 0 0 1-.42.22zM18.15 18.85l-.5.5a.49.49 0 0 0-.15.36V20a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5H12a.5.5 0 0 1-.5-.5v-.29a.49.49 0 0 0-.15-.36l-.5-.5a.51.51 0 0 1 0-.71l1.51-1.49a.47.47 0 0 1 .35-.15h3.58a.47.47 0 0 1 .35.15l1.51 1.49a.51.51 0 0 1 0 .71zM10.85 23.45l.5-.5a.49.49 0 0 0 .15-.36v-.29a.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5v.29a.49.49 0 0 0 .15.36l.5.5a.5.5 0 0 1 0 .7l-1.51 1.5a.47.47 0 0 1-.35.15h-3.58a.47.47 0 0 1-.35-.15l-1.51-1.5a.5.5 0 0 1 0-.7z\",\n            fill: \"#7C87A5\",\n            opacity: \".5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.5 27.5h5v4a1 1 0 0 1-1 1h-4v-5z\",\n            stroke: \"#CC4C23\",\n            fill: \"#F15A29\",\n          }),\n        ]),\n        {\n          transform: \"translate(5.5 3.5)\",\n          id: \"sb3-ev3Block\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M35 28H5a1 1 0 0 1-1-1V12c0-.6.4-1 1-1h30c.5 0 1 .4 1 1v15c0 .5-.5 1-1 1z\",\n            fill: \"#fff\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"red\",\n            d: \"M4 25h32v2.7H4zm9-1h-2.2a1 1 0 0 1-1-1v-9.7c0-.6.4-1 1-1H13c.6 0 1 .4 1 1V23c0 .6-.5 1-1 1z\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"red\",\n            d: \"M6.1 19.3v-2.2c0-.5.4-1 1-1h9.7c.5 0 1 .5 1 1v2.2c0 .5-.5 1-1 1H7.1a1 1 0 0 1-1-1z\",\n          }),\n          SVG.el(\"circle\", { fill: \"red\", cx: \"22.8\", cy: \"18.2\", r: \"3.4\" }),\n          SVG.el(\"circle\", { fill: \"red\", cx: \"30.6\", cy: \"18.2\", r: \"3.4\" }),\n          SVG.el(\"path\", { fill: \"red\", d: \"M4.2 27h31.9v.7H4.2z\" }),\n          SVG.el(\"circle\", {\n            fill: \"#e0e0e0\",\n            cx: \"22.8\",\n            cy: \"18.2\",\n            r: \"2.3\",\n          }),\n          SVG.el(\"circle\", {\n            fill: \"#e0e0e0\",\n            cx: \"30.6\",\n            cy: \"18.2\",\n            r: \"2.3\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#e0e0e0\",\n            d: \"M12.5 22.9h-1.2c-.3 0-.5-.2-.5-.5V14c0-.3.2-.5.5-.5h1.2c.3 0 .5.2.5.5v8.4c0 .3-.2.5-.5.5z\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#e0e0e0\",\n            d: \"M7.2 18.7v-1.2c0-.3.2-.5.5-.5h8.4c.3 0 .5.2.5.5v1.2c0 .3-.2.5-.5.5H7.7c-.3 0-.5-.2-.5-.5zM4 26h32v2H4z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#666\",\n            \"stroke-width\": \".5\",\n            d: \"M35.2 27.9H4.8a1 1 0 0 1-1-1V12.1c0-.6.5-1 1-1h30.5c.5 0 1 .4 1 1V27a1 1 0 0 1-1.1.9z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#666\",\n            \"stroke-width\": \".5\",\n            d: \"M35.2 27.9H4.8a1 1 0 0 1-1-1V12.1c0-.6.5-1 1-1h30.5c.5 0 1 .4 1 1V27a1 1 0 0 1-1.1.9z\",\n          }),\n        ]),\n        {\n          id: \"sb3-makeymakeyBlock\",\n          fill: \"none\",\n        },\n      ),\n      SVG.el(\"image\", {\n        id: \"sb3-gdxforBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABAlBMVEUAAAABAQEAAAB9h6YAAAAAAAAAAAB8iKZ7iKaAjKvm5+h+iqhcXFxGR0d8iKbj5OV9iKZ8h6be3+Db3d19h6acnJ0AAAB7nrDh4uPh4uN9iabZ2tt9iKbX19nJycnExsZ8iKe+wMC7vL2Eka/g4ePU1dV8iKZ9iKZ9iKd+iKitra2RkZGLjo5wcHCLi7l0oqJV//9csdZ8h6WFkq//vwDm5+iEka79vgJ6iql9iaaHk6tgq9Btm71+iadmo8dzk7OCj6yAjKp/iqhiqc1qnsB4jKtgrNFwl7d1tLTgtCxpocN0krJ2j65ossWNtZSbt4LAulHWsDnasTTuvhXzvg9zk7TzqAfaAAAAMXRSTlMAJiLoFBwI8q4a+0c4M/nr3tnQwKxYDAnk2726tbGMh4J9dinXq56ddG9nT01ACwsDk/+seAAAAidJREFUWMPt2Olu2kAUhuE5NvuaBAhZm7TpvufgMXaBbmAghOzp/d9KD7RW6yaqPeL7YVV9/471aBgfCXnUH7ULNhtkF96qv1dgwwoxoM08cDsJcwfMdgwonoiJPRFjQXkscQM3Adhxk4NuJwkoDx0nSp5NDTiae958NEaBwzkvC4YYcOxx7fCoeJhnrwcBv7H9TklFm08R4JD5SEkiMg8B4IjXwsV1HgHAPu+EizsQcMbr2B0OufZz7X0NcIZSwC9+rD3nADI2/fCtrHEfAvZ8Liqp6PuIwZZO+ZmSnspcY8AZ55WU5xkElDwuK1Vm7xgFTjhfLud5AgPHAUvBGARKvYnnTXpp/gvAg9PLyykSPLt1nNszIHjuSOdAcNp1nO4UeYYXNzcX0UH62P+0AnjH8lgCgL8s/+uXzwZgrOV2JAMwxpIMwRjLHIyxzMEYyxyMWgAwYiHAzm99iLQ6eOJEul4d7Ea6WhG8W7rAE+fertHgVXp+clpB9Oet64M/wH2TKwI/FrRFTH6JIZ6NvmZpxoDtptlFULOtzGPWy+4/r//gvwKGgcC90NtTqIg2dIuyClaWDvTjKlDMLba4UaUMcIuVbd0gyiGwjGVlFuKWfkQZhEfSQnypd8mCvOHGvkA5quo6EQSs6yrlNumN3obs0KKGHJ70QD+hLOQMW7r0sFI5KJVeY+bGkr1JopKlEG0StXbrW/uvQGMookXLLPFAZYTMJju/7z6rRW1MZcnIAAAAAElFTkSuQmCC\",\n      }),\n      SVG.el(\"image\", {\n        id: \"sb3-boostBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAKlBMVEUAAAD///98h6Xm5+iVnrb/Zhq+w9L5hk73+Pnf4eSQmbLr7Ozo39vp184hSCf6AAAAAXRSTlMAQObYZgAAAOFJREFUSMftlDEOgjAUhonhAi1sLvIk7NDJDTYu0LhzBzcXruHoDTyFB/BCNi30KU3InzioSb++hAS+vPfKa5pEIpHvk7a8gpf8ISWINtlg4i7ZFOKVTBlqsUR+ItYZJG7VzQQgMqGYd7zWRArpULEAe5Q/J9JMj4rluC7uleNw7TFRXcoREDnlinjX57eUsvRTn8+AE0/6OKV0g5buYTTyWFFr/XAp3aDzed4yFJWnKbhPbtaXXohDNYlDJWz4zSxEokkkEjb496AiVtqAbIYgYNGWBmhgES+NX6SRSORfeAJMWajr95DdqQAAAABJRU5ErkJggg==\",\n      }),\n    ]\n  }\n  static makeOriginalIcons() {\n    return [\n      ...Style.makeCommonIcons(),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M12.71 2.44A2.41 2.41 0 0 1 12 4.16L8.08 8.08a2.45 2.45 0 0 1-3.45 0L.72 4.16A2.42 2.42 0 0 1 0 2.44 2.48 2.48 0 0 1 .71.71C1 .47 1.43 0 6.36 0s5.39.46 5.64.71a2.44 2.44 0 0 1 .71 1.73z\",\n            fill: \"#231f20\",\n            opacity: \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M6.36 7.79a1.43 1.43 0 0 1-1-.42L1.42 3.45a1.44 1.44 0 0 1 0-2c.56-.56 9.31-.56 9.87 0a1.44 1.44 0 0 1 0 2L7.37 7.37a1.43 1.43 0 0 1-1.01.42z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-dropdownArrow\",\n          transform: \"scale(0.944)\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M22.68 12.2a1.6 1.6 0 0 1-1.27.63h-7.69a1.59 1.59 0 0 1-1.16-2.58l1.12-1.41a4.82 4.82 0 0 0-3.14-.77 4.31 4.31 0 0 0-2 .8A4.25 4.25 0 0 0 7.2 10.6a5.06 5.06 0 0 0 .54 4.62A5.58 5.58 0 0 0 12 17.74a2.26 2.26 0 0 1-.16 4.52A10.25 10.25 0 0 1 3.74 18a10.14 10.14 0 0 1-1.49-9.22 9.7 9.7 0 0 1 2.83-4.14A9.92 9.92 0 0 1 9.66 2.5a10.66 10.66 0 0 1 7.72 1.68l1.08-1.35a1.57 1.57 0 0 1 1.24-.6 1.6 1.6 0 0 1 1.54 1.21l1.7 7.37a1.57 1.57 0 0 1-.26 1.39z\",\n            fill: \"#3d79cc\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.38 11.83h-7.61a.59.59 0 0 1-.43-1l1.75-2.19a5.9 5.9 0 0 0-4.7-1.58 5.07 5.07 0 0 0-4.11 3.17A6 6 0 0 0 7 15.77a6.51 6.51 0 0 0 5 2.92 1.31 1.31 0 0 1-.08 2.62 9.3 9.3 0 0 1-7.35-3.82 9.16 9.16 0 0 1-1.4-8.37A8.51 8.51 0 0 1 5.71 5.4a8.76 8.76 0 0 1 4.11-1.92 9.71 9.71 0 0 1 7.75 2.07l1.67-2.1a.59.59 0 0 1 1 .21L22 11.08a.59.59 0 0 1-.62.75z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnRight\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.34 18.21a10.24 10.24 0 0 1-8.1 4.22 2.26 2.26 0 0 1-.16-4.52 5.58 5.58 0 0 0 4.25-2.53 5.06 5.06 0 0 0 .54-4.62A4.25 4.25 0 0 0 15.55 9a4.31 4.31 0 0 0-2-.8 4.82 4.82 0 0 0-3.15.8l1.12 1.41A1.59 1.59 0 0 1 10.36 13H2.67a1.56 1.56 0 0 1-1.26-.63A1.54 1.54 0 0 1 1.13 11l1.72-7.43A1.59 1.59 0 0 1 4.38 2.4a1.57 1.57 0 0 1 1.24.6L6.7 4.35a10.66 10.66 0 0 1 7.72-1.68A9.88 9.88 0 0 1 19 4.81 9.61 9.61 0 0 1 21.83 9a10.08 10.08 0 0 1-1.49 9.21z\",\n            fill: \"#3d79cc\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.56 17.65a9.29 9.29 0 0 1-7.35 3.83 1.31 1.31 0 0 1-.08-2.62 6.53 6.53 0 0 0 5-2.92 6.05 6.05 0 0 0 .67-5.51 5.32 5.32 0 0 0-1.64-2.16 5.21 5.21 0 0 0-2.48-1A5.86 5.86 0 0 0 9 8.84L10.74 11a.59.59 0 0 1-.43 1H2.7a.6.6 0 0 1-.6-.75l1.71-7.42a.59.59 0 0 1 1-.21l1.67 2.1a9.71 9.71 0 0 1 7.75-2.07 8.84 8.84 0 0 1 4.12 1.92 8.68 8.68 0 0 1 2.54 3.72 9.14 9.14 0 0 1-1.33 8.36z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnLeft\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.3 11c-.3.6-.9 1-1.5 1h-1.6c-.1 1.3-.5 2.5-1.1 3.6-.9 1.7-2.3 3.2-4.1 4.1-1.7.9-3.6 1.2-5.5.9-1.8-.3-3.5-1.1-4.9-2.3-.7-.7-.7-1.9 0-2.6.6-.6 1.6-.7 2.3-.2H7c.9.6 1.9.9 2.9.9s1.9-.3 2.7-.9c1.1-.8 1.8-2.1 1.8-3.5h-1.5c-.9 0-1.7-.7-1.7-1.7 0-.4.2-.9.5-1.2l4.4-4.4c.7-.6 1.7-.6 2.4 0L23 9.2c.5.5.6 1.2.3 1.8z\",\n            fill: \"#cf8b17\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.8 11h-2.6c0 1.5-.3 2.9-1 4.2-.8 1.6-2.1 2.8-3.7 3.6-1.5.8-3.3 1.1-4.9.8-1.6-.2-3.2-1-4.4-2.1-.4-.3-.4-.9-.1-1.2.3-.4.9-.4 1.2-.1 1 .7 2.2 1.1 3.4 1.1s2.3-.3 3.3-1c.9-.6 1.6-1.5 2-2.6.3-.9.4-1.8.2-2.8h-2.4c-.4 0-.7-.3-.7-.7 0-.2.1-.3.2-.4l4.4-4.4c.3-.3.7-.3.9 0L22 9.8c.3.3.4.6.3.9s-.3.3-.5.3z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-loopArrow\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M28.456 21.675c-.009-.312-.087-.825-.256-1.702-.096-.495-.612-3.022-.753-3.73-.395-1.98-.76-3.92-1.142-6.113-.732-4.223-.693-6.05.344-6.527.502-.23 1.06-.081 1.842.35.413.227 2.181 1.365 2.07 1.296 1.993 1.243 3.463 1.775 4.928 1.549 1.527-.237 2.505-.06 2.877.618.348.635.015 1.416-.729 2.18-1.473 1.516-3.976 2.514-5.849 2.023-.822-.218-1.238-.464-2.38-1.266a9.737 9.737 0 0 0-.095-.066c.047.593.264 1.74.717 3.803.294 1.336 2.079 9.187 2.637 11.674l.002.012c.529 2.637-1.872 4.724-5.235 4.724-3.29 0-6.363-1.988-6.862-4.528-.53-2.64 1.873-4.734 5.233-4.734a8.411 8.411 0 0 1 2.65.437zM11.46 27.666c-.01-.319-.091-.84-.266-1.738-.09-.46-.595-2.937-.753-3.727-.39-1.96-.752-3.892-1.131-6.07-.732-4.224-.692-6.052.344-6.527.502-.23 1.06-.082 1.841.349.414.228 2.181 1.365 2.07 1.296 1.992 1.243 3.461 1.775 4.925 1.549 1.525-.24 2.504-.064 2.876.614.348.635.015 1.415-.728 2.18-1.474 1.517-3.977 2.513-5.847 2.017-.822-.218-1.237-.463-2.38-1.266a9.729 9.729 0 0 0-.094-.065c.047.593.264 1.74.717 3.802.294 1.337 2.078 9.19 2.636 11.675l.003.013c.517 2.638-1.884 4.732-5.234 4.732-3.286 0-6.359-1.993-6.87-4.54-.518-2.639 1.885-4.73 5.242-4.73.904 0 1.802.15 2.65.436z\",\n            stroke: \"#000\",\n            \"stroke-opacity\": \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M32.18 25.874C32.636 28.157 30.512 30 27.433 30c-3.07 0-5.923-1.843-6.372-4.126-.458-2.285 1.665-4.136 4.743-4.136.647 0 1.283.084 1.89.234a7 7 0 0 1 .938.302c.87-.02-.104-2.294-1.835-12.229-2.134-12.303 3.06-1.87 8.768-2.753 5.708-.885.076 4.82-3.65 3.844-3.724-.987-4.65-7.153.263 14.738zm-16.998 5.99C15.63 34.148 13.507 36 10.439 36c-3.068 0-5.92-1.852-6.379-4.136-.448-2.284 1.674-4.135 4.751-4.135 1.002 0 1.974.197 2.854.544.822-.055-.15-2.377-1.862-12.228-2.133-12.303 3.059-1.87 8.764-2.753 5.706-.894.076 4.821-3.648 3.834-3.723-.987-4.648-7.152.263 14.738z\",\n            fill: \"#FFF\",\n          }),\n        ]),\n        {\n          id: \"sb3-musicBlock\",\n          fill: \"none\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M8.753 34.602l-4.251 1.779 1.784-4.236c1.218-2.892 2.907-5.423 5.03-7.538L31.066 4.93c.846-.842 2.65-.41 4.032.967 1.38 1.375 1.816 3.173.97 4.015L16.318 29.59c-2.123 2.116-4.664 3.799-7.565 5.012\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.41 6.111s-4.45-2.379-8.202 5.771c-1.734 3.766-4.35 1.546-4.35 1.546\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.42 8.825c0 .463-.14.873-.432 1.164l-9.335 9.301c.282-.29.41-.668.41-1.12 0-.874-.507-1.963-1.406-2.868-1.362-1.358-3.147-1.8-4.002-.99L30.99 5.01c.844-.84 2.65-.41 4.035.96.898.904 1.396 1.982 1.396 2.855M10.515 33.774a23.74 23.74 0 0 1-1.764.83L4.5 36.382l1.786-4.235c.258-.604.529-1.186.833-1.757.69.183 1.449.625 2.109 1.282.659.658 1.102 1.412 1.287 2.102\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.498 8.748c0 .464-.141.874-.433 1.165l-19.742 19.68c-2.131 2.111-4.673 3.793-7.572 5.01L4.5 36.381l.974-2.317 1.925-.808c2.899-1.218 5.441-2.899 7.572-5.01l19.742-19.68c.292-.292.432-.702.432-1.165 0-.647-.27-1.4-.779-2.123.249.172.498.377.736.614.898.905 1.396 1.983 1.396 2.856\",\n            fill: \"#575E75\",\n            opacity: \".15\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M18.45 12.831a.904.904 0 1 1-1.807 0 .904.904 0 0 1 1.807 0z\",\n            fill: \"#575E75\",\n          }),\n        ]),\n        {\n          id: \"sb3-penBlock\",\n          stroke: \"#575E75\",\n          fill: \"none\",\n          \"stroke-linejoin\": \"round\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"circle\", {\n            opacity: 0.25,\n            cx: 32,\n            cy: 16,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.5,\n            cx: 32,\n            cy: 12,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.75,\n            cx: 32,\n            cy: 8,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            cx: 32,\n            cy: 4,\n            r: 4.5,\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.672 4.42l-6.172 4V6.1c0-2.01-1.563-3.6-3.5-3.6H4.1C2.076 2.5.5 4.076.5 6.1V14c0 1.927 1.584 3.512 3.6 3.6H13c1.902 0 3.5-1.653 3.5-3.6v-2.283l6.257 3.754.097.075c.02.02.098.054.146.054.267 0 .5-.217.5-.5V4.8c0 .037-.056-.094-.129-.243-.145-.242-.43-.299-.7-.137z\",\n            fill: \"#4D4D4D\",\n            \"stroke-linejoin\": \"round\",\n          }),\n        ]),\n        {\n          id: \"sb3-videoBlock\",\n          stroke: \"#000\",\n          fill: \"#FFF\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M25.644 20.5c-1.667 1.937-4.539 3.429-5.977 3.429a1.25 1.25 0 0 1-.557-.137c-.372-.186-.61-.542-.61-1.03 0-.105.017-.207.05-.308.076-.236.624-.986.727-1.173.27-.484.462-1.075.566-1.865A8.5 8.5 0 0 1 24 3.5h4a8.5 8.5 0 1 1 0 17h-2.356z\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.5 21.67c0-1.016-1.494-1.586-2.387-.782l-2.7 2.163A5.958 5.958 0 0 1 6.7 24.33h-.4c-1.035 0-1.8.69-1.8 1.573v4.235c0 .883.765 1.572 1.8 1.572h.4c1.458 0 2.754.423 3.82 1.287l2.598 2.161c.908.75 2.382.188 2.382-.876V21.67z\",\n            fill: \"#4D4D4D\",\n          }),\n        ]),\n        {\n          id: \"sb3-ttsBlock\",\n          stroke: \"#000\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      SVG.el(\"image\", {\n        id: \"sb3-translateBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA21BMVEUAAAAAAAAAAAAAAADS0tIAAABHR0cAAADX19cAAAAAAACkpKRqamq2traurq6WlpbV1dWEhITHx8fPz8/Ly8vDw8O9vb0AAABMTEz////Z2dlXXnVMl//g4ODu7u7m5ub4+PhPmf/x8fH09PT6+vri4uNRmv/r6+1uqv/0+P9Ynv/p8v+rrrphZ33S5f+51v9ho/+1uMKBhpfH3v+Wmqhrcoacxf+Pvv/KzNSgpLGLkKDd6/+rzf9npv/AwsuDtv98s/90rv9jpP9GieeOrtm5ubl2fI7Z4u56otk5hEFfAAAAGXRSTlMAJhgM1wYyHvIkEWpBhXhc5U+uybyhk0YvleQYgwAABDpJREFUWMPtmNl6mzAQhQMCBAYbvLX1GIwxi7e2TtosTdKk+/L+T1QBVoQtJHDby5yLROYTPzOagSM4e9az6oVUrDgKxh39//Bwb+QBkTZ2VL3hypYilKWicpY6gmWcTCbxIoSh0xHjOkZXA4m0rlGcrcBsslcSmrYq4qm2GczmE6Hms6A8W4GQHZ1BTxXweuTCErGz1TEEaTpLymML6HVq87VhIWPRs21yNu679guNXn9hOnWVMUwanzxG0yCTdYQQts195umwJmnUDSatFHQRPaVvljkl4CAuRlWrCfD9uiZEbR+ObrnjfRDhwHUtdAi0gK/vLtts+VqDVfIMjZSmLEycBuD1D4kK8MHc+Ju3/FFQaHdXc4rBU/8NiCE+OJyAIQKuz32qjA7O1xzwqMtiUETAXeRzinZcyoPgsPpDcco3q9WD729WhTI/e1itbriUzwwtqPI0Q5et4ZoA6SDj1pCWOeB44qJ88aOiIB8j/xMH5IiUJwG+jfyHPMCNH20FQEpkPGnbnBeFuI78Fd82VWJCeTyQCzHb3pMCb8VAQhxBCkPKkzf2Z9J9mR9dCxqb3tBO17EoTw4ky0f0VXSnUCGE6LDp1tvlwK0cyNQMJA1DlL3Px8TenvTjpcAN5cD7VVSsoR992c4oS+aGcuDbzxFBfVqvv5L/375DCzeUAXfnOW5TJHudffvdzg3FwPdZvnbX6/LXr+9t3ZCzAAaMNh/X9BdAWzcUm9T2vnrpk91QbqOhLEDeDZuNHkBSX94Nm7ciAJOWAkW8WZIDl1MikAD57ZwceJsDL0VAfsPJwgzzO5cHvsmBb2IJkAlhB5InntlXlJcc8MO00GMzsHTbsMJDdU+hOxIeCfKuXYQu7ZJ5oDmExwPjfAEvyZ9lGyDW9tOWMH6l1z4nLwjrQ572RRugAvMS57mq4MH7czq9Kgpz1QZoDcI4DsHrWUjw4E1JbLeTSZ5z2gLYMTTwBnaOEwBvS1Ke86UUyF7isKpLrIHkSvVGBORdUQx8nFb0KAUy38aSCO8I510hMrhrBOrGEFIYGToPZM+Fn+XwiraiAMh2Uwnb+3DAC9Z/t3TIA2W7MwZkYbH+uZIC+f0jD3z9+vXF05hIAJTtcK3TLIDnMSLnhqeZlDo8eksYqH/3UskWPz7aCuDTX3urMiA5ejHCp7+YV4W9gxBnMFJP/XRwKNT3IEhLZpIGQMp86seNY6LlutRQgrFr6dLPLyELjm44eemIWt6C+JP0A1HffCIm4GDEw2jvpNTxbIwQ0kUTUYUYkgYTSXfMBU1Ee+G6fSwkOlpA/RFcJCR2erRHkllKSjNWhdd+NQbqkJrgunyPhKBIprpeiZyLZtEeCRNWQdlUZPU8yF1yYJ1J1HGGEC5iknS8pN0tRtoDDzTSNDLpqjMu2s4b9fBZg/TcJVHjrA7GSl/JZz7rWbX6A0ZzUfwVEqfrAAAAAElFTkSuQmCC\",\n      }),\n    ]\n  }\n\n  static makeHighContrastIcons() {\n    // Make sure to update the highContrastIcons set above!\n    return [\n      ...Style.makeCommonIcons(),\n      // https://github.com/scratchfoundation/scratch-gui/tree/beta/src/lib/themes/high-contrast/blocks-media\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M12.71 2.44A2.41 2.41 0 0 1 12 4.16L8.08 8.08a2.45 2.45 0 0 1-3.45 0L.72 4.16A2.42 2.42 0 0 1 0 2.44 2.48 2.48 0 0 1 .71.71C1 .47 1.43 0 6.36 0s5.39.46 5.64.71a2.44 2.44 0 0 1 .71 1.73z\",\n            fill: \"#231f20\",\n            opacity: \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M6.36 7.79a1.43 1.43 0 0 1-1-.42L1.42 3.45a1.44 1.44 0 0 1 0-2c.56-.56 9.31-.56 9.87 0a1.44 1.44 0 0 1 0 2L7.37 7.37a1.43 1.43 0 0 1-1.01.42z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-dropdownArrow-high-contrast\",\n          transform: \"scale(0.944)\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M22.68 12.2a1.6 1.6 0 0 1-1.27.63h-7.69a1.59 1.59 0 0 1-1.16-2.58l1.12-1.41a4.82 4.82 0 0 0-3.14-.77 4.31 4.31 0 0 0-2 .8A4.25 4.25 0 0 0 7.2 10.6a5.06 5.06 0 0 0 .54 4.62A5.58 5.58 0 0 0 12 17.74a2.26 2.26 0 0 1-.16 4.52A10.25 10.25 0 0 1 3.74 18a10.14 10.14 0 0 1-1.49-9.22 9.7 9.7 0 0 1 2.83-4.14A9.92 9.92 0 0 1 9.66 2.5a10.66 10.66 0 0 1 7.72 1.68l1.08-1.35a1.57 1.57 0 0 1 1.24-.6 1.6 1.6 0 0 1 1.54 1.21l1.7 7.37a1.57 1.57 0 0 1-.26 1.39z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.38 11.83h-7.61a.59.59 0 0 1-.43-1l1.75-2.19a5.9 5.9 0 0 0-4.7-1.58 5.07 5.07 0 0 0-4.11 3.17A6 6 0 0 0 7 15.77a6.51 6.51 0 0 0 5 2.92 1.31 1.31 0 0 1-.08 2.62 9.3 9.3 0 0 1-7.35-3.82 9.16 9.16 0 0 1-1.4-8.37A8.51 8.51 0 0 1 5.71 5.4a8.76 8.76 0 0 1 4.11-1.92 9.71 9.71 0 0 1 7.75 2.07l1.67-2.1a.59.59 0 0 1 1 .21L22 11.08a.59.59 0 0 1-.62.75z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnRight-high-contrast\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.34 18.21a10.24 10.24 0 0 1-8.1 4.22 2.26 2.26 0 0 1-.16-4.52 5.58 5.58 0 0 0 4.25-2.53 5.06 5.06 0 0 0 .54-4.62A4.25 4.25 0 0 0 15.55 9a4.31 4.31 0 0 0-2-.8 4.82 4.82 0 0 0-3.15.8l1.12 1.41A1.59 1.59 0 0 1 10.36 13H2.67a1.56 1.56 0 0 1-1.26-.63A1.54 1.54 0 0 1 1.13 11l1.72-7.43A1.59 1.59 0 0 1 4.38 2.4a1.57 1.57 0 0 1 1.24.6L6.7 4.35a10.66 10.66 0 0 1 7.72-1.68A9.88 9.88 0 0 1 19 4.81 9.61 9.61 0 0 1 21.83 9a10.08 10.08 0 0 1-1.49 9.21z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.56 17.65a9.29 9.29 0 0 1-7.35 3.83 1.31 1.31 0 0 1-.08-2.62 6.53 6.53 0 0 0 5-2.92 6.05 6.05 0 0 0 .67-5.51 5.32 5.32 0 0 0-1.64-2.16 5.21 5.21 0 0 0-2.48-1A5.86 5.86 0 0 0 9 8.84L10.74 11a.59.59 0 0 1-.43 1H2.7a.6.6 0 0 1-.6-.75l1.71-7.42a.59.59 0 0 1 1-.21l1.67 2.1a9.71 9.71 0 0 1 7.75-2.07 8.84 8.84 0 0 1 4.12 1.92 8.68 8.68 0 0 1 2.54 3.72 9.14 9.14 0 0 1-1.33 8.36z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnLeft-high-contrast\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.3 11c-.3.6-.9 1-1.5 1h-1.6c-.1 1.3-.5 2.5-1.1 3.6-.9 1.7-2.3 3.2-4.1 4.1-1.7.9-3.6 1.2-5.5.9-1.8-.3-3.5-1.1-4.9-2.3-.7-.7-.7-1.9 0-2.6.6-.6 1.6-.7 2.3-.2H7c.9.6 1.9.9 2.9.9s1.9-.3 2.7-.9c1.1-.8 1.8-2.1 1.8-3.5h-1.5c-.9 0-1.7-.7-1.7-1.7 0-.4.2-.9.5-1.2l4.4-4.4c.7-.6 1.7-.6 2.4 0L23 9.2c.5.5.6 1.2.3 1.8z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.8 11h-2.6c0 1.5-.3 2.9-1 4.2-.8 1.6-2.1 2.8-3.7 3.6-1.5.8-3.3 1.1-4.9.8-1.6-.2-3.2-1-4.4-2.1-.4-.3-.4-.9-.1-1.2.3-.4.9-.4 1.2-.1 1 .7 2.2 1.1 3.4 1.1s2.3-.3 3.3-1c.9-.6 1.6-1.5 2-2.6.3-.9.4-1.8.2-2.8h-2.4c-.4 0-.7-.3-.7-.7 0-.2.1-.3.2-.4l4.4-4.4c.3-.3.7-.3.9 0L22 9.8c.3.3.4.6.3.9s-.3.3-.5.3z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-loopArrow-high-contrast\",\n        },\n      ),\n\n      // https://github.com/scratchfoundation/scratch-gui/tree/beta/src/lib/themes/high-contrast/extensions\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M28.456 21.675c-.009-.312-.087-.825-.256-1.702-.096-.495-.612-3.022-.753-3.73-.395-1.98-.76-3.92-1.142-6.113-.732-4.223-.693-6.05.344-6.527.502-.23 1.06-.081 1.842.35.413.227 2.181 1.365 2.07 1.296 1.993 1.243 3.463 1.775 4.928 1.549 1.527-.237 2.505-.06 2.877.618.348.635.015 1.416-.729 2.18-1.473 1.516-3.976 2.514-5.849 2.023-.822-.218-1.238-.464-2.38-1.266a9.737 9.737 0 0 0-.095-.066c.047.593.264 1.74.717 3.803.294 1.336 2.079 9.187 2.637 11.674l.002.012c.529 2.637-1.872 4.724-5.235 4.724-3.29 0-6.363-1.988-6.862-4.528-.53-2.64 1.873-4.734 5.233-4.734a8.411 8.411 0 0 1 2.65.437zM11.46 27.666c-.01-.319-.091-.84-.266-1.738-.09-.46-.595-2.937-.753-3.727-.39-1.96-.752-3.892-1.131-6.07-.732-4.224-.692-6.052.344-6.527.502-.23 1.06-.082 1.841.349.414.228 2.181 1.365 2.07 1.296 1.992 1.243 3.461 1.775 4.925 1.549 1.525-.24 2.504-.064 2.876.614.348.635.015 1.415-.728 2.18-1.474 1.517-3.977 2.513-5.847 2.017-.822-.218-1.237-.463-2.38-1.266a9.729 9.729 0 0 0-.094-.065c.047.593.264 1.74.717 3.802.294 1.337 2.078 9.19 2.636 11.675l.003.013c.517 2.638-1.884 4.732-5.234 4.732-3.286 0-6.359-1.993-6.87-4.54-.518-2.639 1.885-4.73 5.242-4.73.904 0 1.802.15 2.65.436z\",\n            stroke: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M32.18 25.874C32.636 28.157 30.512 30 27.433 30c-3.07 0-5.923-1.843-6.372-4.126-.458-2.285 1.665-4.136 4.743-4.136.647 0 1.283.084 1.89.234a7 7 0 0 1 .938.302c.87-.02-.104-2.294-1.835-12.229-2.134-12.303 3.06-1.87 8.768-2.753 5.708-.885.076 4.82-3.65 3.844-3.724-.987-4.65-7.153.263 14.738zm-16.998 5.99C15.63 34.148 13.507 36 10.439 36c-3.068 0-5.92-1.852-6.379-4.136-.448-2.284 1.674-4.135 4.751-4.135 1.002 0 1.974.197 2.854.544.822-.055-.15-2.377-1.862-12.228-2.133-12.303 3.059-1.87 8.764-2.753 5.706-.894.076 4.821-3.648 3.834-3.723-.987-4.648-7.152.263 14.738z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-musicBlock-high-contrast\",\n          fill: \"none\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M8.753 34.602l-4.251 1.779 1.784-4.236c1.218-2.892 2.907-5.423 5.03-7.538L31.066 4.93c.846-.842 2.65-.41 4.032.967 1.38 1.375 1.816 3.173.97 4.015L16.318 29.59c-2.123 2.116-4.664 3.799-7.565 5.012\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.41 6.111s-4.45-2.379-8.202 5.771c-1.734 3.766-4.35 1.546-4.35 1.546\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.42 8.825c0 .463-.14.873-.432 1.164l-9.335 9.301c.282-.29.41-.668.41-1.12 0-.874-.507-1.963-1.406-2.868-1.362-1.358-3.147-1.8-4.002-.99L30.99 5.01c.844-.84 2.65-.41 4.035.96.898.904 1.396 1.982 1.396 2.855M10.515 33.774a23.74 23.74 0 0 1-1.764.83L4.5 36.382l1.786-4.235c.258-.604.529-1.186.833-1.757.69.183 1.449.625 2.109 1.282.659.658 1.102 1.412 1.287 2.102\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.498 8.748c0 .464-.141.874-.433 1.165l-19.742 19.68c-2.131 2.111-4.673 3.793-7.572 5.01L4.5 36.381l.974-2.317 1.925-.808c2.899-1.218 5.441-2.899 7.572-5.01l19.742-19.68c.292-.292.432-.702.432-1.165 0-.647-.27-1.4-.779-2.123.249.172.498.377.736.614.898.905 1.396 1.983 1.396 2.856\",\n            fill: \"#0b8e69\",\n            opacity: \".15\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M18.45 12.831a.904.904 0 1 1-1.807 0 .904.904 0 0 1 1.807 0z\",\n            fill: \"#0b8e69\",\n          }),\n        ]),\n        {\n          id: \"sb3-penBlock-high-contrast\",\n          stroke: \"#0b8e69\",\n          fill: \"none\",\n          \"stroke-linejoin\": \"round\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"circle\", {\n            opacity: 0.25,\n            cx: 32,\n            cy: 16,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.5,\n            cx: 32,\n            cy: 12,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.75,\n            cx: 32,\n            cy: 8,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            cx: 32,\n            cy: 4,\n            r: 4.5,\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.672 4.42l-6.172 4V6.1c0-2.01-1.563-3.6-3.5-3.6H4.1C2.076 2.5.5 4.076.5 6.1V14c0 1.927 1.584 3.512 3.6 3.6H13c1.902 0 3.5-1.653 3.5-3.6v-2.283l6.257 3.754.097.075c.02.02.098.054.146.054.267 0 .5-.217.5-.5V4.8c0 .037-.056-.094-.129-.243-.145-.242-.43-.299-.7-.137z\",\n            fill: \"#000\",\n            \"stroke-linejoin\": \"round\",\n          }),\n        ]),\n        {\n          id: \"sb3-videoBlock-high-contrast\",\n          stroke: \"#0b8e69\",\n          fill: \"#FFF\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M25.644 20.5c-1.667 1.937-4.539 3.429-5.977 3.429a1.25 1.25 0 0 1-.557-.137c-.372-.186-.61-.542-.61-1.03 0-.105.017-.207.05-.308.076-.236.624-.986.727-1.173.27-.484.462-1.075.566-1.865A8.5 8.5 0 0 1 24 3.5h4a8.5 8.5 0 1 1 0 17h-2.356z\",\n            fill: \"#FFF\",\n            stroke: \"#0b8e69\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.5 21.67c0-1.016-1.494-1.586-2.387-.782l-2.7 2.163A5.958 5.958 0 0 1 6.7 24.33h-.4c-1.035 0-1.8.69-1.8 1.573v4.235c0 .883.765 1.572 1.8 1.572h.4c1.458 0 2.754.423 3.82 1.287l2.598 2.161c.908.75 2.382.188 2.382-.876V21.67z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-ttsBlock-high-contrast\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      // The original icon is in PNG, but the high contrast version uses SVG.\n      // For consistency we use PNG in both places.\n      // https://github.com/scratchfoundation/scratch-gui/blob/beta/src/lib/themes/high-contrast/extensions/translateIcon.svg\n      // Exported via Inkscape and compressed\n      SVG.el(\"image\", {\n        id: \"sb3-translateBlock-high-contrast\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxoAAARjCAMAAADfFKLnAAABhlBMVEUAAAALjWkOj2oLjmkAAAAQj2wkmnkYlHILj2kLjmkAAAAAAABsu6VouaIJjmgimncAAAAAAAALjml0v6kAAAAAAAAAAAAATzhjt6A9pogVk28XlHAVk28ZlHEAAAAAAAAAAAANj2oAAAAJj2oAAAAAAAByvahsu6VVsZcqnXwAAAAAAAAAAAAMj2oQkWsAAAAPkGwAAABHqo4AAAAclnMcl3MKj2kXlHIXk3EAAAALj2gAAAD///8AAAB9w6+ExrONyrmHyLWrzv/3+/r8/v6Fx7VpqP/0+fh7s/9Ml//4/PvK59/4+//u9f/l8P/V5v9vrP9an/9Smv/o6OjMzMwrKysDAwPp8//e7P+w0f+axf9xrf9kpf9jpP9ho/9Nl//e3t7E5Nu+4dfT09OUzb2QzLuZmZlMrJKGhoYpnHxlZWVgYGBCQkINDQ30+P/J4P/D3P+11P+Nvf90rv9Jlvby8vLc3Nyl1cik1ce+vr6DxrKlpaWfn58xnJZBpJWJiYl+fn4fHx9PedmHAAAAPHRSTlMAd4OAxg/0wohyDv78+Tj16Ik6+ux+WAb79e7mvbCemW1rZDYXC/n39PTw39u8t7RVNvX11NLDm5qOWx0x5AFdAAAGd0lEQVR42uzbV3faQBCG4XGChMEU4wLujntv6WXXIUAwxd3Gvfea3nv+eQaBcgS5ztV8zwWMfsB7js7uiAAAAAAAAP6fgKfCwRMg1l49OBzqJgC5DLfZO+nQa7oNovq2Ia2rJwhArFZ/QpVI+Fspr57b8BKAUAEzrgpmXhSHjBmgvDGtQwQglKdWFaU27KnWQ0TekEvruvYwAYh08ym3ML0ei8V2NvlnfZofn98gorC2DBKASFYaq8md9MLW1kJ6O7lqp9Hj0qzqFgGIxGlYtjeUepPkwU6D20AZIJidRmxhZnbxtTMN8rpQBshlpzGdTL2dTzjSYJEnBCCVnYaaS++uqb9pAEhnpzGXXFycn1PZo2g0ejpiL410EYBQhTRepnZTs2vz776f+yYd/EG3QQAiWVd+s+nNV/yX+NEQVyXiDS0EIFKNmeAEZlRe9jyuysSDNQQgkrsvo4qOfOofvgoCEMloNWs/cgNTx9FT+7RqaUV/KI7PcFoFYgVG+7iMxpbK+19UwU+tfyENEC/SvK+yAw8cdxy5XO53AmmAdI8bD/qbxh13HMv67Ex/RhogXVfzvQ6DHGlc6L09fYk0AJgjjalrza7fIw2QrjtSksZXfXFycqm/IQ0QrrPK5XWmcbWylD+/vUIaIFtnldaFNjx+lbd8qNjhMq78QDQug7l6eAwE46pMxsSiCAhVpy1hYu7y9cKM300AMoXbOQ5XyEvMaAn6opbjKQ7jkw9L6SBZSOsxe66pqLSMNnIb/hG8TYFk3mqt66nMw4Gs2m+OEIBgE9zGcFtZHeNN/Qe3OwhAsu5HQ3fq2qiU0XG3Cd+GAwAAAAD8YQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV2IMDAQAAAAAg/9dGUFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUV9uBAAAAAAADI/7URVFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWFPTgQAAAAAADyf20EVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhDw4EAAAAAID8XxtBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXYgwMBAAAAACD/10ZQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVRX24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYU9OBAAAAAAAPJ/bQRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWEPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVdiDAwEAAAAAIP/XRlBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVFfbgQAAAAAAAyP+1EVRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhT04EAAAAAAA8n9tBFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV2oNDAgAAAABB/1/7wgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMArKwCvdMdAc1YAAAAASUVORK5CYII=\",\n      }),\n    ]\n  }\n\n  /**\n   * @return the icon name with suffix, if a high contrast icon is defined\n   */\n  static iconName(name, iconStyle) {\n    if (iconStyle === \"high-contrast\" && highContrastIcons.has(name)) {\n      return `${name}-high-contrast`\n    }\n\n    return name\n  }\n\n  static makeStyle() {\n    const style = SVG.el(\"style\");\n    style.appendChild(SVG.cdata(Style.cssContent));\n    return style\n  }\n\n  static get defaultFont() {\n    return \"500 12pt Helvetica Neue, Helvetica, sans-serif\"\n  }\n  static get commentFont() {\n    return \"400 12pt Helvetica Neue, Helvetica, sans-serif\"\n  }\n}\n\nconst {\n  defaultFont,\n  commentFont,\n  makeStyle: makeStyle$1,\n  makeOriginalIcons,\n  makeHighContrastIcons,\n  iconName,\n} = Style;\n\nclass LabelView {\n  constructor(label) {\n    Object.assign(this, label);\n\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n\n  get isLabel() {\n    return true\n  }\n\n  draw(_iconStyle) {\n    return this.el\n  }\n\n  get width() {\n    return this.metrics.width\n  }\n\n  measure() {\n    const value = this.value;\n    const cls = `sb3-${this.cls}`;\n    this.el = SVG.text(0, 13, value, {\n      class: `sb3-label ${cls}`,\n    });\n\n    let cache = LabelView.metricsCache[cls];\n    if (!cache) {\n      cache = LabelView.metricsCache[cls] = Object.create(null);\n    }\n\n    if (Object.hasOwnProperty.call(cache, value)) {\n      this.metrics = cache[value];\n    } else {\n      const font = /comment-label/.test(this.cls) ? commentFont : defaultFont;\n      this.metrics = cache[value] = LabelView.measure(value, font);\n      // TODO: word-spacing? (fortunately it seems to have no effect!)\n    }\n  }\n\n  static measure(value, font) {\n    const context = LabelView.measuring;\n    context.font = font;\n    const textMetrics = context.measureText(value);\n    const width = (textMetrics.width + 0.5) | 0;\n    return { width: width }\n  }\n}\n\nLabelView.metricsCache = {};\nLabelView.toMeasure = [];\n\nclass IconView {\n  constructor(icon) {\n    Object.assign(this, icon);\n\n    const info = IconView.icons[this.name];\n    if (!info) {\n      throw new Error(`no info for icon: ${this.name}`)\n    }\n    Object.assign(this, info);\n  }\n\n  get isIcon() {\n    return true\n  }\n\n  draw(iconStyle) {\n    return SVG.symbol(`#sb3-${iconName(this.name, iconStyle)}`, {\n      width: this.width,\n      height: this.height,\n    })\n  }\n\n  static get icons() {\n    return {\n      greenFlag: { width: 20, height: 21, dy: -2 },\n      stopSign: { width: 20, height: 20 },\n      turnLeft: { width: 24, height: 24 },\n      turnRight: { width: 24, height: 24 },\n      loopArrow: { width: 24, height: 24 },\n      addInput: { width: 4, height: 8 },\n      delInput: { width: 4, height: 8 },\n      list: { width: 15, height: 18 },\n      musicBlock: { width: 40, height: 40 },\n      penBlock: { width: 40, height: 40 },\n      videoBlock: { width: 40, height: 40, dy: 10 },\n      ttsBlock: { width: 40, height: 40 },\n      translateBlock: { width: 40, height: 40 },\n      wedoBlock: { width: 40, height: 40 },\n      ev3Block: { width: 40, height: 40 },\n      microbitBlock: { width: 40, height: 40 },\n      makeymakeyBlock: { width: 40, height: 40 },\n      gdxforBlock: { width: 40, height: 40 },\n      boostBlock: { width: 40, height: 40 },\n    }\n  }\n}\n\nclass LineView {\n  constructor() {\n    this.width = 1;\n    this.height = 40;\n    this.x = 0;\n  }\n\n  get isLine() {\n    return true\n  }\n\n  measure() {}\n\n  draw(_iconStyle, parent) {\n    const category = parent.info.category;\n    return SVG.el(\"line\", {\n      class: `sb3-${category}-line`,\n      \"stroke-linecap\": \"round\",\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 40,\n    })\n  }\n}\n\nclass InputView {\n  constructor(input) {\n    Object.assign(this, input);\n    if (input.label) {\n      this.label = newView(input.label);\n    }\n    this.isBoolean = this.shape === \"boolean\";\n    this.isDropdown = this.shape === \"dropdown\";\n    this.isRound = !(this.isBoolean || this.isDropdown);\n\n    this.x = 0;\n  }\n\n  get isInput() {\n    return true\n  }\n\n  measure() {\n    if (this.hasLabel) {\n      this.label.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      string: SVG.pillRect,\n      number: SVG.pillRect,\n      \"number-dropdown\": SVG.pillRect,\n      color: SVG.pillRect,\n      dropdown: SVG.roundRect,\n\n      boolean: SVG.pointedRect,\n      stack: SVG.stackRect,\n      reporter: SVG.pillRect,\n    }\n  }\n\n  draw(iconStyle, parent) {\n    let w;\n    let label;\n    if (this.isBoolean) {\n      w = 48;\n    } else if (this.isColor) {\n      w = 40;\n    } else if (this.hasLabel) {\n      label = this.label.draw(iconStyle);\n      // Minimum padding of 11\n      // Minimum width of 40, at which point we center the label\n      const px = this.label.width >= 18 ? 11 : (40 - this.label.width) / 2;\n      w = this.label.width + 2 * px;\n      label = SVG.move(px, 9, label);\n    } else {\n      w = this.isInset ? 30 : null;\n    }\n    if (this.hasArrow) {\n      w += 20;\n    }\n    this.width = w;\n\n    const h = (this.height = 32);\n\n    const el = InputView.shapes[this.shape](w, h);\n    SVG.setProps(el, {\n      class: `${\n        this.isColor ? \"\" : `sb3-${parent.info.category}`\n      } sb3-input sb3-input-${this.shape}`,\n    });\n\n    if (this.isColor) {\n      SVG.setProps(el, {\n        fill: this.value,\n      });\n    } else if (this.shape === \"dropdown\") {\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: parent.info.color,\n          stroke: \"rgba(0, 0, 0, 0.2)\",\n        });\n      }\n    } else if (this.shape === \"number-dropdown\") {\n      el.classList.add(`sb3-${parent.info.category}-alt`);\n\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: \"rgba(0, 0, 0, 0.1)\",\n          stroke: \"rgba(0, 0, 0, 0.15)\", // combines with fill...\n        });\n      }\n    } else if (this.shape === \"boolean\") {\n      el.classList.remove(`sb3-${parent.info.category}`);\n      el.classList.add(`sb3-${parent.info.category}-dark`);\n\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: \"rgba(0, 0, 0, 0.15)\",\n        });\n      }\n    }\n\n    const result = SVG.group([el]);\n    if (this.hasLabel) {\n      result.appendChild(label);\n    }\n    if (this.hasArrow) {\n      result.appendChild(\n        SVG.move(\n          w - 24,\n          13,\n          SVG.symbol(\n            iconStyle === \"high-contrast\"\n              ? \"#sb3-dropdownArrow-high-contrast\"\n              : \"#sb3-dropdownArrow\",\n            {},\n          ),\n        ),\n      );\n    }\n    return result\n  }\n}\n\nclass BlockView {\n  constructor(block) {\n    Object.assign(this, block);\n    this.children = block.children.map(newView);\n    this.comment = this.comment ? newView(this.comment) : null;\n    this.isRound = this.isReporter;\n\n    // Avoid accidental mutation\n    this.info = { ...block.info };\n    if (\n      Object.prototype.hasOwnProperty.call(aliasExtensions, this.info.category)\n    ) {\n      this.info.category = aliasExtensions[this.info.category];\n    }\n    if (Object.prototype.hasOwnProperty.call(extensions, this.info.category)) {\n      this.children.unshift(new LineView());\n      this.children.unshift(\n        new IconView({ name: this.info.category + \"Block\" }),\n      );\n      this.info.category = \"extension\";\n    }\n\n    this.x = 0;\n    this.width = null;\n    this.height = null;\n    this.firstLine = null;\n    this.innerWidth = null;\n  }\n\n  get isBlock() {\n    return true\n  }\n\n  measure() {\n    for (const child of this.children) {\n      if (child.measure) {\n        child.measure();\n      }\n    }\n    if (this.comment) {\n      this.comment.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      stack: SVG.stackRect,\n      \"c-block\": SVG.stackRect,\n      \"if-block\": SVG.stackRect,\n      celse: SVG.stackRect,\n      cend: SVG.stackRect,\n\n      cap: SVG.capRect,\n      reporter: SVG.pillRect,\n      boolean: SVG.pointedRect,\n      hat: SVG.hatRect,\n      cat: SVG.catHat,\n      \"define-hat\": SVG.procHatRect,\n      ring: SVG.pillRect,\n    }\n  }\n\n  drawSelf(iconStyle, w, h, lines) {\n    // mouths\n    if (lines.length > 1) {\n      return SVG.mouthRect(w, h, this.isFinal, lines, {\n        class: `sb3-${this.info.category}`,\n      })\n    }\n\n    // outlines\n    if (this.info.shape === \"outline\") {\n      return SVG.setProps(SVG.stackRect(w, h), {\n        class: `sb3-${this.info.category} sb3-${this.info.category}-alt`,\n      })\n    }\n\n    // rings\n    if (this.isRing) {\n      const child = this.children[0];\n      if (child && (child.isInput || child.isBlock || child.isScript)) {\n        return SVG.roundRect(w, h, {\n          class: `sb3-${this.info.category}`,\n        })\n      }\n    }\n\n    const func = BlockView.shapes[this.info.shape];\n    if (!func) {\n      throw new Error(`no shape func: ${this.info.shape}`)\n    }\n    return func(w, h, {\n      class: `sb3-${this.info.category}`,\n    })\n  }\n\n  static get padding() {\n    return {\n      hat: [24, 8],\n      cat: [24, 8],\n      \"define-hat\": [20, 16],\n      null: [4, 4],\n    }\n  }\n\n  horizontalPadding(child) {\n    if (this.isRound) {\n      if (child.isIcon) {\n        return 16\n      } else if (child.isLabel) {\n        return 12 // text in circle: 3 units\n      } else if (child.isDropdown) {\n        return 12 // square in circle: 3 units\n      } else if (child.isBoolean) {\n        return 12 // hexagon in circle: 3 units\n      } else if (child.isRound) {\n        return 4 // circle in circle: 1 unit\n      }\n    } else if (this.isBoolean) {\n      if (child.isIcon) {\n        return 24 // icon in hexagon: ???\n      } else if (child.isLabel) {\n        return 20 // text in hexagon: 5 units\n      } else if (child.isDropdown) {\n        return 20 // square in hexagon: 5 units\n      } else if (child.isRound && child.isBlock) {\n        return 24 // circle in hexagon: 5 + 1 units\n      } else if (child.isRound) {\n        return 20 // circle in hexagon: 5 units\n      } else if (child.isBoolean) {\n        return 8 // hexagon in hexagon: 2 units\n      }\n    }\n    return 8 // default: 2 units\n  }\n\n  marginBetween(a, b) {\n    // Consecutive labels should be rendered as a single text element.\n    // For now, approximate the size of one space\n    if (a.isLabel && b.isLabel) {\n      return 5\n    }\n\n    return 8 // default: 2 units\n  }\n\n  draw(iconStyle) {\n    const isDefine = this.info.shape === \"define-hat\";\n    let children = this.children;\n    const isCommand = this.isCommand;\n\n    const padding = BlockView.padding[this.info.shape] || BlockView.padding.null;\n    const pt = padding[0],\n      pb = padding[1];\n\n    let y = this.info.shape === \"cat\" ? 16 : 0;\n    const Line = function (y) {\n      this.y = y;\n      this.width = 0;\n      this.height = isCommand ? 40 : 32;\n      this.children = [];\n    };\n\n    let innerWidth = 0;\n    let scriptWidth = 0;\n    let line = new Line(y);\n    const pushLine = () => {\n      if (lines.length === 0) {\n        line.height += pt + pb;\n      } else {\n        line.height -= 11;\n        line.y -= 2;\n      }\n      y += line.height;\n      lines.push(line);\n    };\n\n    if (this.info.isRTL) {\n      let start = 0;\n      const flip = () => {\n        children = children\n          .slice(0, start)\n          .concat(children.slice(start, i).reverse())\n          .concat(children.slice(i));\n      };\n      let i;\n      for (i = 0; i < children.length; i++) {\n        if (children[i].isScript) {\n          flip();\n          start = i + 1;\n        }\n      }\n      if (start < i) {\n        flip();\n      }\n    }\n\n    const lines = [];\n    let previousChild;\n    let lastChild;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      child.el = child.draw(iconStyle, this);\n\n      if (child.isScript && this.isCommand) {\n        this.hasScript = true;\n        pushLine();\n        child.y = y - 1;\n        lines.push(child);\n        scriptWidth = Math.max(scriptWidth, Math.max(1, child.width));\n        child.height = Math.max(29, child.height + 3) - 2;\n        y += child.height;\n        line = new Line(y);\n        previousChild = null;\n      } else if (child.isArrow) {\n        line.children.push(child);\n        previousChild = child;\n      } else {\n        // Remember the last child on the first line\n        if (!lines.length) {\n          lastChild = child;\n        }\n\n        // Leave space between inputs\n        if (previousChild) {\n          line.width += this.marginBetween(previousChild, child);\n        }\n\n        // Align first input with right of notch\n        if (children[0] != null) {\n          const cmw = 48 - this.horizontalPadding(children[0]);\n          if (\n            (this.isCommand || this.isOutline) &&\n            !child.isLabel &&\n            !child.isIcon &&\n            line.width < cmw\n          ) {\n            line.width = cmw;\n          }\n        }\n\n        // Align extension category icons below notch\n        if (child.isIcon && i === 0 && this.isCommand) {\n          line.height = Math.max(line.height, child.height + 8);\n        }\n\n        child.x = line.width;\n        line.width += child.width;\n        innerWidth = Math.max(innerWidth, line.width);\n        if (!child.isLabel) {\n          line.height = Math.max(line.height, child.height);\n        }\n        line.children.push(child);\n        previousChild = child;\n      }\n    }\n    pushLine();\n\n    let padLeft = children.length ? this.horizontalPadding(children[0]) : 0;\n    const padRight = children.length ? this.horizontalPadding(lastChild) : 0;\n    innerWidth += padLeft + padRight;\n\n    // Commands have a minimum width\n    // The hat min-width is arbitrary (not sure of Scratch 3 value)\n    // Outline min-width is deliberately higher (because Scratch 3 looks silly)\n    const originalInnerWidth = innerWidth;\n    innerWidth = Math.max(\n      this.hasScript\n        ? 160\n        : this.isHat\n        ? 108\n        : this.isCommand || this.isOutline\n        ? 64\n        : this.isReporter\n        ? 48\n        : 0,\n      innerWidth,\n    );\n\n    // Center the label text inside small reporters.\n    if (this.isReporter) {\n      padLeft += (innerWidth - originalInnerWidth) / 2;\n    }\n\n    this.height = y;\n\n    this.width = scriptWidth\n      ? Math.max(innerWidth, 15 + scriptWidth)\n      : innerWidth;\n    this.firstLine = lines[0];\n    this.innerWidth = innerWidth;\n\n    const objects = [];\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i];\n      if (line.isScript) {\n        objects.push(SVG.move(16, line.y, line.el));\n        continue\n      }\n\n      const h = line.height;\n\n      for (let j = 0; j < line.children.length; j++) {\n        const child = line.children[j];\n        if (child.isArrow) {\n          objects.push(SVG.move(innerWidth - 32, this.height - 28, child.el));\n          continue\n        }\n\n        let y = pt + (h - child.height - pt - pb) / 2;\n        if (child.isLabel && i === 0) {\n          // We only do this for the first line so that the `else` label is\n          // correctly aligned\n          y -= 1;\n        } else if (isDefine && child.isLabel) {\n          y += 3;\n        } else if (child.isIcon) {\n          y += child.dy | 0;\n          if (this.isCommand && i === 0 && j === 0) {\n            y += 4;\n          }\n        }\n\n        let x = padLeft + child.x;\n        if (child.dx) {\n          x += child.dx;\n        }\n\n        objects.push(SVG.move(x, (line.y + y) | 0, child.el));\n      }\n    }\n\n    const el = this.drawSelf(iconStyle, innerWidth, this.height, lines);\n    objects.splice(0, 0, el);\n    if (this.info.color) {\n      SVG.setProps(el, {\n        fill: this.info.color,\n        stroke: \"rgba(0, 0, 0, 0.2)\",\n      });\n    }\n\n    return SVG.group(objects)\n  }\n}\n\nclass CommentView {\n  constructor(comment) {\n    Object.assign(this, comment);\n    this.label = newView(comment.label);\n\n    this.width = null;\n  }\n\n  get isComment() {\n    return true\n  }\n\n  static get lineLength() {\n    return 12\n  }\n\n  get height() {\n    return 20\n  }\n\n  measure() {\n    this.label.measure();\n  }\n\n  draw(iconStyle) {\n    const labelEl = this.label.draw(iconStyle);\n\n    this.width = this.label.width + 16;\n    return SVG.group([\n      SVG.commentLine(this.hasBlock ? CommentView.lineLength : 0, 6),\n      SVG.commentRect(this.width, this.height, {\n        class: \"sb3-comment\",\n      }),\n      SVG.move(8, 4, labelEl),\n    ])\n  }\n}\n\nclass GlowView {\n  constructor(glow) {\n    Object.assign(this, glow);\n    this.child = newView(glow.child);\n\n    this.width = null;\n    this.height = null;\n    this.y = 0;\n  }\n\n  get isGlow() {\n    return true\n  }\n\n  measure() {\n    this.child.measure();\n  }\n\n  drawSelf() {\n    const c = this.child;\n    let el;\n    const w = this.width;\n    const h = this.height - 1;\n    if (c.isScript) {\n      if (!c.isEmpty && c.blocks[0].isHat) {\n        el = SVG.hatRect(w, h);\n      } else if (c.isFinal) {\n        el = SVG.capRect(w, h);\n      } else {\n        el = SVG.stackRect(w, h);\n      }\n    } else {\n      el = c.drawSelf(w, h, []);\n    }\n    return SVG.setProps(el, {\n      class: \"sb3-diff sb3-diff-ins\",\n    })\n  }\n  // TODO how can we always raise Glows above their parents?\n\n  draw(iconStyle) {\n    const c = this.child;\n    const el = c.isScript ? c.draw(iconStyle, true) : c.draw(iconStyle);\n\n    this.width = c.width;\n    this.height = (c.isBlock && c.firstLine.height) || c.height;\n\n    // encircle\n    return SVG.group([el, this.drawSelf()])\n  }\n}\n\nclass ScriptView {\n  constructor(script) {\n    Object.assign(this, script);\n    this.blocks = script.blocks.map(newView);\n\n    this.y = 0;\n  }\n\n  get isScript() {\n    return true\n  }\n\n  measure() {\n    for (const block of this.blocks) {\n      block.measure();\n    }\n  }\n\n  draw(iconStyle, inside) {\n    const children = [];\n    let y = 1;\n    this.width = 0;\n    for (const block of this.blocks) {\n      const x = inside ? 0 : 2;\n      const child = block.draw(iconStyle);\n      children.push(SVG.move(x, y, child));\n      this.width = Math.max(this.width, block.width);\n\n      const diff = block.diff;\n      if (diff === \"-\") {\n        const dw = block.width;\n        const dh = block.firstLine.height || block.height;\n        children.push(SVG.move(x, y + dh / 2 + 1, SVG.strikethroughLine(dw)));\n        this.width = Math.max(this.width, block.width);\n      }\n\n      y += block.height;\n\n      const comment = block.comment;\n      if (comment) {\n        const line = block.firstLine;\n        const cx = block.innerWidth + 2 + CommentView.lineLength;\n        const cy = y - block.height + line.height / 2;\n        const el = comment.draw(iconStyle);\n        children.push(SVG.move(cx, cy - comment.height / 2, el));\n        this.width = Math.max(this.width, cx + comment.width);\n      }\n    }\n    const lastBlock = this.blocks[this.blocks.length - 1];\n    this.height = y + 1;\n    if (!inside && !this.isFinal) {\n      this.height += lastBlock.hasPuzzle ? 8 : 0;\n    }\n    if (!inside && lastBlock.isGlow) {\n      this.height += 7; // TODO unbreak this\n    }\n    return SVG.group(children)\n  }\n}\n\nclass DocumentView {\n  constructor(doc, options) {\n    Object.assign(this, doc);\n    this.scripts = doc.scripts.map(newView);\n\n    this.width = null;\n    this.height = null;\n    this.el = null;\n    this.defs = null;\n    this.scale = options.scale;\n    this.iconStyle = options.style.replace(\"scratch3-\", \"\");\n  }\n\n  measure() {\n    this.scripts.forEach(script => {\n      script.measure();\n    });\n  }\n\n  render(cb) {\n    if (typeof cb === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n\n    // measure strings\n    this.measure();\n\n    // TODO: separate layout + render steps.\n    // render each script\n    let width = 0;\n    let height = 0;\n    const elements = [];\n    for (let i = 0; i < this.scripts.length; i++) {\n      const script = this.scripts[i];\n      if (height) {\n        height += 10;\n      }\n      script.y = height;\n      elements.push(SVG.move(0, height, script.draw(this.iconStyle)));\n      height += script.height;\n      if (i !== this.scripts.length - 1) {\n        height += 36;\n      }\n      width = Math.max(width, script.width + 4);\n    }\n    this.width = width;\n    this.height = height;\n\n    // return SVG\n    const svg = SVG.newSVG(width, height, this.scale);\n    const icons =\n      this.iconStyle === \"high-contrast\"\n        ? makeHighContrastIcons()\n        : makeOriginalIcons();\n    svg.appendChild((this.defs = SVG.withChildren(SVG.el(\"defs\"), icons)));\n\n    svg.appendChild(\n      SVG.setProps(SVG.group(elements), {\n        style: `transform: scale(${this.scale})`,\n      }),\n    );\n    this.el = svg;\n    return svg\n  }\n\n  /* Export SVG image as XML string */\n  exportSVGString() {\n    if (this.el == null) {\n      throw new Error(\"call draw() first\")\n    }\n\n    const style = makeStyle$1();\n    this.defs.appendChild(style);\n    const xml = new SVG.XMLSerializer().serializeToString(this.el);\n    this.defs.removeChild(style);\n    return xml\n  }\n\n  /* Export SVG image as data URI */\n  exportSVG() {\n    const xml = this.exportSVGString();\n    return `data:image/svg+xml;utf8,${xml.replace(/[#]/g, encodeURIComponent)}`\n  }\n\n  toCanvas(cb, exportScale) {\n    exportScale = exportScale || 1.0;\n\n    const canvas = SVG.makeCanvas();\n    canvas.width = Math.max(1, this.width * exportScale * this.scale);\n    canvas.height = Math.max(1, this.height * exportScale * this.scale);\n    const context = canvas.getContext(\"2d\");\n\n    const image = new Image();\n    image.src = this.exportSVG();\n    image.onload = () => {\n      context.save();\n      context.scale(exportScale, exportScale);\n      context.drawImage(image, 0, 0);\n      context.restore();\n\n      cb(canvas);\n    };\n  }\n\n  exportPNG(cb, scale) {\n    this.toCanvas(canvas => {\n      if (URL && URL.createObjectURL && Blob && canvas.toBlob) {\n        canvas.toBlob(blob => {\n          cb(URL.createObjectURL(blob));\n        }, \"image/png\");\n      } else {\n        cb(canvas.toDataURL(\"image/png\"));\n      }\n    }, scale);\n  }\n}\n\nconst viewFor = node => {\n  switch (node.constructor) {\n    case Label:\n      return LabelView\n    case Icon:\n      return IconView\n    case Input:\n      return InputView\n    case Block:\n      return BlockView\n    case Comment:\n      return CommentView\n    case Glow:\n      return GlowView\n    case Script:\n      return ScriptView\n    case Document:\n      return DocumentView\n    default:\n      throw new Error(`no view for ${node.constructor.name}`)\n  }\n};\n\nconst newView = (node, options) => new (viewFor(node))(node, options);\n\nfunction init$1(window) {\n  SVG.init(window);\n\n  LabelView.measuring = SVG.makeCanvas().getContext(\"2d\");\n}\n\nconst makeStyle = Style.makeStyle;\n\n/*\n * scratchblocks\n * http://scratchblocks.github.io/\n *\n * Copyright 2013-2016, Tim Radvan\n * @license MIT\n * http://opensource.org/licenses/MIT\n */\n\nfunction init (window) {\n  const document = window.document;\n\n  init$2(window);\n  init$1(window);\n\n  function appendStyles() {\n    document.head.appendChild(makeStyle$2());\n    document.head.appendChild(makeStyle());\n  }\n\n  function newView$2(doc, options) {\n    options = {\n      style: \"scratch2\",\n      ...options,\n    };\n\n    options.scale = options.scale || 1;\n\n    if (options.style === \"scratch2\") {\n      return newView$1(doc, options)\n    } else if (/^scratch3($|-)/.test(options.style)) {\n      return newView(doc, options)\n    }\n\n    throw new Error(`Unknown style: ${options.style}`)\n  }\n\n  function render(doc, options) {\n    if (typeof options === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n    const view = newView$2(doc, options);\n    const svg = view.render();\n    // Used in high contrast theme\n    svg.classList.add(`scratchblocks-style-${options.style}`);\n    return svg\n  }\n\n  /*****************************************************************************/\n\n  /*** Render ***/\n\n  // read code from a DOM element\n  function readCode(el, options) {\n    options = {\n      inline: false,\n      ...options,\n    };\n\n    const html = el.innerHTML.replace(/<br>\\s?|\\n|\\r\\n|\\r/gi, \"\\n\");\n    const pre = document.createElement(\"pre\");\n    pre.innerHTML = html;\n    let code = pre.textContent;\n    if (options.inline) {\n      code = code.replace(\"\\n\", \"\");\n    }\n    return code\n  }\n\n  // insert 'svg' into 'el', with appropriate wrapper elements\n  function replace(el, svg, doc, options) {\n    let container;\n    if (options.inline) {\n      container = document.createElement(\"span\");\n      let cls = \"scratchblocks scratchblocks-inline\";\n      if (doc.scripts[0] && !doc.scripts[0].isEmpty) {\n        cls += ` scratchblocks-inline-${doc.scripts[0].blocks[0].shape}`;\n      }\n      container.className = cls;\n      container.style.display = \"inline-block\";\n      container.style.verticalAlign = \"middle\";\n    } else {\n      container = document.createElement(\"div\");\n      container.className = \"scratchblocks\";\n    }\n    container.appendChild(svg);\n\n    el.innerHTML = \"\";\n    el.appendChild(container);\n  }\n\n  /* Render all matching elements in page to shiny scratch blocks.\n   * Accepts a CSS selector as an argument.\n   *\n   *  scratchblocks.renderMatching(\"pre.blocks\");\n   *\n   * Like the old 'scratchblocks2.parse().\n   */\n  const renderMatching = function (selector, options) {\n    selector = selector || \"pre.blocks\";\n    options = {\n      // Default values for the options\n      style: \"scratch2\",\n      inline: false,\n      languages: [\"en\"],\n      scale: 1,\n\n      read: readCode, // function(el, options) => code\n      parse: parse, // function(code, options) => doc\n      render: render, // function(doc) => svg\n      replace: replace, // function(el, svg, doc, options)\n\n      ...options,\n    };\n\n    // find elements\n    const results = [].slice.apply(document.querySelectorAll(selector));\n    results.forEach(el => {\n      const code = options.read(el, options);\n\n      const doc = options.parse(code, options);\n\n      const svg = options.render(doc, options);\n\n      options.replace(el, svg, doc, options);\n    });\n  };\n\n  return {\n    allLanguages: allLanguages, // read-only\n    loadLanguages: loadLanguages,\n\n    stringify: function (doc) {\n      return doc.stringify()\n    },\n\n    Label,\n    Icon,\n    Input,\n    Block,\n    Comment,\n    Script,\n    Document,\n\n    newView: newView$2,\n    read: readCode,\n    parse: parse,\n    replace: replace,\n    render: render,\n    renderMatching: renderMatching,\n\n    appendStyles: appendStyles,\n  }\n}\n\nconst scratchblocks = init(window);\n\n// add our CSS to the page\nscratchblocks.appendStyles();\n\nexport { scratchblocks as default };\n//# sourceMappingURL=scratchblocks.min.es.js.map\n","<script>\n    import scratchblocks from 'scratchblocks';\n    export let text = '';\n    const getSvg = (text) => {\n        const doc = scratchblocks.parse(text, {\n            languages: ['en'],\n        });\n        const view = scratchblocks.newView(doc, {\n            style: 'scratch3',\n            scale: 0.675,\n        });\n        return view.render().outerHTML;\n    };\n    $: svg = getSvg(text);\n</script>\n\n{@html svg}","<script>\n    export let id;\n</script>\n\n<h4>Demo The Project </h4>\n<div>\n    <iframe title=\"Project Demo\" src={`https://scratch.mit.edu/projects/${id}/embed`} allowtransparency=\"true\" width=\"485\" height=\"402\" frameborder=\"0\" scrolling=\"no\" allowfullscreen></iframe>\n    <a href={`https://scratch.mit.edu/projects/${id}`} target=\"_blank\" rel=\"noreferrer\">View on scratch.mit.edu </a>\n</div>\n\n<style>\n    h4 {\n        text-align: center;\n    }\n    div {\n        width: fit-content;\n        margin: auto;\n        border: 1px solid rgba(0, 0, 0, 0.25);\n        border-radius: 0.25em;\n        padding: 0.25em;\n    }\n\n    a {\n        display: block;\n        text-align: center;\n        font-size: 1rem;\n    }\n</style>\n","<script>\n    import Markdown from \"./Markdown.svelte\";\n    import ScratchBlock from \"./ScratchBlock.svelte\";\n    import ScratchProject from \"./ScratchProject.svelte\";\n    export let source = '';\n\n    const getScratchProjectId = (line) => {\n        if (line.startsWith('https://scratch.mit.edu/projects/')) {\n            const digits = line.replace(/\\D/g, '');\n            if (digits.length > 0) {\n                return digits;\n            }\n        }\n        return null;\n    };\n    const isScratchProjectLink = (line) => {\n        return getScratchProjectId(line) !== null;\n    };\n    const isScratchBlockEnd = (line, current) => {\n        return current.length > 0 && line.startsWith('```');\n    };\n    const resetCurrentScratchBlock = (currentMarkdown, currentScratchBlock) => {\n        let newMarkdown = currentMarkdown;\n        if (currentScratchBlock.length > 0) {\n            if (currentMarkdown.length > 0) {\n                newMarkdown = `${currentMarkdown}\\n${currentScratchBlock}`;\n            } else {\n                newMarkdown += currentScratchBlock;\n            }\n        }\n        return [newMarkdown, ''];\n    };\n    const isScratchBlockStart = (line) => {\n        return line.startsWith('```scratchblocks');\n    };\n\n    let currentMarkdown = '';\n    let currentScratchBlock = '';\n    const sections = [];\n    const lines = source.split('\\n');\n    for (const line of lines) {\n        if (isScratchProjectLink(line)) {\n            [currentMarkdown, currentScratchBlock] = resetCurrentScratchBlock(currentMarkdown, currentScratchBlock);\n            if (currentScratchBlock.length > 0) {\n                if (currentMarkdown.length > 0) {\n                    currentMarkdown += `\\n${currentScratchBlock}`;\n                } else {\n                    currentMarkdown += currentScratchBlock;\n                }\n                currentScratchBlock = '';\n            }\n            if (currentMarkdown.length > 0) {\n                sections.push({\n                    type: 'MARKDOWN',\n                    data: currentMarkdown,\n                });\n                currentMarkdown = '';\n            }\n            sections.push({\n                type: 'SCRATCH_PROJECT',\n                data: getScratchProjectId(line),\n            });\n        } else if (isScratchBlockStart(line)) {\n            [currentMarkdown, currentScratchBlock] = resetCurrentScratchBlock(currentMarkdown, currentScratchBlock);\n            if (currentMarkdown.length > 0) {\n                sections.push({\n                    type: 'MARKDOWN',\n                    data: currentMarkdown,\n                });\n                currentMarkdown = '';\n            }\n            currentScratchBlock += `\\n`;\n        } else if (isScratchBlockEnd(line, currentScratchBlock)) {\n            sections.push({\n                type: 'SCRATCHBLOCK',\n                data: currentScratchBlock,\n            });\n            currentScratchBlock = '';\n        } else if (currentScratchBlock.length > 0) {\n            currentScratchBlock += `\\n${line}`;\n        } else {\n            currentMarkdown += `${line}\\n`;\n        }\n    }\n    [currentMarkdown, currentScratchBlock] = resetCurrentScratchBlock(currentMarkdown, currentScratchBlock);\n    if (currentMarkdown.length > 0) {\n        sections.push({\n            type: 'MARKDOWN',\n            data: currentMarkdown,\n        });\n    }\n</script>\n\n{#each sections as {type, data}, i}\n    {#if type === 'MARKDOWN'}\n       <Markdown source={data} />\n    {:else if type === 'SCRATCHBLOCK'}\n        <ScratchBlock text={data} />\n    {:else if type === 'SCRATCH_PROJECT'}\n        <ScratchProject id={data} />\n    {:else}\n        <p>Unknown section type {type}</p>\n    {/if}\n{/each}\n","<script>\n    import GitLinks from \"../components/GitLinks.svelte\";\n    import CustomMarkdown from '../components/CustomMarkdown.svelte';\n    import HelloWorld from '../projects/hello-world.md';\n    import Pong from '../projects/pong.md';\n    import TicTacToe from '../projects/tic-tac-toe.md'\n    import MathQuiz from '../projects/math-quiz.md';\n    import FibonacciSequence from '../projects/fibonacci-sequence.md';\n    import { projectName } from \"../router\";\n    $: source = () => {\n        switch ($projectName) {\n            case 'hello-world':\n                return HelloWorld;\n            case 'pong':\n                return Pong;\n            case 'tic-tac-toe':\n                return TicTacToe;\n            case 'math-quiz':\n                return MathQuiz;\n            case 'fibonacci-sequence':\n                return FibonacciSequence;\n            default:\n                return '';\n        }\n    }\n</script>\n\n<div class=\"l0\">\n    {#if source() === ''}\n        <h1>Oh no!</h1>\n        <p>This project does not exist.</p>\n    {:else}\n        <CustomMarkdown source={source()} />\n    {/if}\n</div>\n<GitLinks page={\"blob/main/src/pages/Project.svelte\"} />\n","<script>\n    import About from \"./pages/About.svelte\";\n    import Index from \"./pages/Index.svelte\";\n    import Project from \"./pages/Project.svelte\";\n    import { page, initPage, updatePage } from \"./router\";\n    initPage();\n    const handleInternalHeaderLink = (event, page) => {\n        if (event?.code !== 'Enter' && event?.code != null) {\n            return;\n        }\n        updatePage(page);\n    };\n</script>\n\n<nav>\n    <div>\n        <h6><a on:click|preventDefault={() => handleInternalHeaderLink(null, '')} on:keydown={(e) => handleInternalHeaderLink(e, '')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=\">Open Scratch Guides </a></h6>\n    </div>\n    <ul>\n        <li><a on:click|preventDefault={() => handleInternalHeaderLink(null, '')} on:keydown={(e) => handleInternalHeaderLink(e, '')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=\">All Projects</a></li>\n        <li><a on:click|preventDefault={() => handleInternalHeaderLink(null, 'about')} on:keydown={(e) => handleInternalHeaderLink(e, 'about')} href=\"https://matthewnoel.github.io/scratch-lesson-plans/?page=about\">About</a></li>\n        <li><a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/matthewnoel/scratch-lesson-plans\">GitHub</a></li>\n    </ul>\n</nav>\n<main>\n    {#if $page === 'about'}\n        <About />\n    {:else if $page === 'project'}\n        <Project />\n    {:else}\n        <Index />\n    {/if}\n</main>\n\n<style>\n    main {\n        max-width: 600px;\n        margin: auto;\n        padding: 0px 0.25em;\n        margin-bottom: 1em;\n    }\n\n    nav {\n        color: black;\n        background-color: #ffbf00;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        align-items: center;\n    }\n\n    ul {\n        list-style: none;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n    }\n\n    li, h6 {\n        padding: 1em;\n    }\n\n    li {\n        white-space: nowrap;\n    }\n\n    a, a:visited {\n        color: inherit;\n        text-decoration: none;\n    }\n\n    a:hover, a:focus {\n        color: white;\n        cursor: pointer;\n        text-decoration: underline;\n    }\n\n    @media (max-width: 1000px) {\n        div, ul {\n            margin: auto;\n            text-align: center;\n        }\n\n        ul {\n            padding: 0;\n            width: 100%;\n            justify-content: center;\n        }\n    }\n</style>","import App from './App.svelte';\n\nvar app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","component_subscribe","component","store","callback","$$","on_destroy","push","callbacks","undefined","unsub","subscribe","unsubscribe","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","value","removeAttribute","getAttribute","setAttribute","HtmlTag","is_svg","e","n","t","constructor","c","html","h","m","createElementNS","nodeType","nodeName","tagName","content","i","innerHTML","Array","from","childNodes","length","p","d","set_current_component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","pop","has","add","clear","fragment","before_update","dirty","ctx","after_update","outroing","outros","group_outros","r","check_outros","transition_in","block","local","delete","transition_out","o","ensure_array_like","array_like_or_iterator","create_component","mount_component","new_on_destroy","on_mount","map","filter","destroy_component","detaching","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","children","l","intro","SvelteComponent","$$set","$destroy","$on","type","index","splice","$set","obj","keys","span","create_if_block","div2","div0","div1","page","$$props","window","__svelte","v","h1","div","subscriber_queue","writable","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","projectName","projectNames","updatePage","newPage","project","sanitizedPage","toLowerCase","URL","location","key","searchParams","includes","history","pushState","h30","ul0","li0","a0","h31","ul1","li1","a1","li2","a2","h32","ul2","li3","a3","li4","a4","handleInternalProjectLink","code","entities","regex","encodeCache","encode","string","exclude","keepEscaped","nextCode","cache","result","defaultChars","ch","String","fromCharCode","test","toString","toUpperCase","slice","charCodeAt","getEncodeCache","encodeURIComponent","componentChars","encode_1","decodeCache","decode","getDecodeCache","replace","seq","b1","b2","b3","b4","chr","parseInt","decode_1","Url","protocol","slashes","auth","port","hostname","hash","search","pathname","protocolPattern","portPattern","simplePathPattern","unwise","concat","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","hostlessProtocol","javascript","slashedProtocol","http","https","ftp","gopher","file","prototype","parse","slashesDenoteHost","lowerProto","hec","trim","split","simplePath","exec","proto","substr","match","atSign","hostEnd","lastIndexOf","host","parseHost","ipv6Hostname","hostparts","part","newpart","j","k","validParts","notHost","bit","unshift","join","qm","u","mdurl$1","require$$0","require$$1","format","require$$3","uc_micro","Any","Cc","Cf","P","Z","require$$4","_hasOwnProperty","hasOwnProperty","object","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","RegExp","source","DIGITAL_ENTITY_TEST_RE","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","REGEXP_ESCAPE_RE","UNICODE_PUNCT_RE","exports","lib","mdurl","require$$2","ucmicro","assign","arguments","TypeError","isString","_class","unescapeMd","str","unescapeAll","escaped","entity","replaceEntityPattern","escapeHtml","arrayReplaceAt","src","pos","newElements","isSpace","isWhiteSpace","isMdAsciiPunct","isPunctChar","escapeRE","normalizeReference","helpers$1","parseLinkLabel","state","disableNested","level","found","marker","prevPos","labelEnd","max","posMax","oldPos","md","inline","skipToken","parseLinkDestination","ok","lines","parseLinkTitle","default_rules","Renderer","rules","code_inline","tokens","idx","env","slf","token","renderAttrs","code_block","fence","highlighted","arr","tmpAttrs","tmpToken","info","langName","langAttrs","highlight","attrIndex","attrs","langPrefix","image","renderInlineAsText","renderToken","hardbreak","xhtmlOut","softbreak","breaks","html_block","html_inline","Renderer$1","nextToken","needLf","hidden","nesting","tag","renderInline","len","render","renderer","Ruler","__rules__","__cache__","__find__","__compile__","self","chains","rule","enabled","alt","altName","chain","Ruler$3","at","opt","Error","before","beforeName","ruleName","after","afterName","enable","list","ignoreInvalid","isArray","enableOnly","disable","getRules","chainName","ruler","NEWLINES_RE","NULL_RE","isLinkClose","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","QUOTE_TEST_RE","QUOTE_RE","replaceAt","process_inlines","thisLevel","item","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","stack","openQuote","closeQuote","OUTER","lastIndex","single","quotes","Token","markup","meta","Token$3","attrPush","attrData","attrSet","attrGet","attrJoin","StateCore","inlineMode","state_core","_rules","tok","currentToken","ln","lastPos","htmlLinkLevel","fullUrl","urlText","links","blockTokens","linkify","pretest","normalizeLink","validateLink","schema","normalizeLinkText","blkIdx","typographer","curr","last","Core","process","State","require$$8","parser_core","getLine","line","bMarks","tShift","eMarks","escapedSplit","isEscaped","current","substring","skipBulletListMarker","startLine","skipOrderedListMarker","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","html_re","block_names","HTML_SEQUENCES","StateBlock","s","indent","offset","indent_found","sCount","bsCount","blkIndent","lineMax","tight","ddIndent","listIndent","parentType","isEmpty","skipEmptyLines","skipSpaces","skipSpacesBack","min","skipChars","skipCharsBack","getLines","begin","end","keepLastLF","lineIndent","first","queue","lineStart","state_block","endLine","silent","lineText","nextLine","columns","columnCount","aligns","tableLines","tbodyLines","oldParentType","terminate","terminatorRules","firstCh","secondCh","shift","params","mem","haveEndMarker","adjustTab","initial","lastLineEmpty","oldBMarks","oldBSCount","oldIndent","oldSCount","oldTShift","spaceAfterMarker","isOutdented","oldLineMax","tokenize","cnt","contentStart","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldListIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","Number","Math","markTightParagraphs","_endLine","destEndPos","destEndLineNo","label","res","title","helpers","references","tmp","ParserBlock","ParserBlock$1","prevLine","hasEmptyLines","maxNesting","outTokens","require$$12","parser_block","isTerminatorChar","SCHEME_RE","ESCAPED","postProcess","delimiters","startDelim","endDelim","loneMarkers","strikethrough","scanned","scanDelims","open","can_open","close","can_close","tokens_meta","isStrong","emphasis","EMAIL_RE","AUTOLINK_RE","DIGITAL_RE","NAMED_RE","processDelimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","headerIdx","lastTokenIdx","jumps","StateInline","pending","pendingLevel","_prev_delimiters","backticks","backticksScanned","linkLevel","pushPending","token_meta","canSplitWord","count","left_flanking","right_flanking","state_inline","link","matchAtStart","pmax","ws","ch1","ch2","origStr","escapedStr","matchStart","matchEnd","openerLength","closerLength","require$$6","require$$7","labelStart","ref","parseReference","lc","isLetter","_rules2","ParserInline","ruler2","require$$15","parser_inline","re","opts","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","text_separators","src_pseudo_letter","src_ip4","src_auth","src_port","src_host_terminator","src_path","src_email_name","src_xn","src_domain_root","src_domain","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","src_host_strict","tpl_host_fuzzy_strict","src_host_port_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","isFunction","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","defaultSchemas","validate","tail","no_http","mailto","tlds_2ch_src_re","tlds_default","compile","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","schemaError","val","__compiled__","__schemas__","compiled","isRegExp","createValidator","normalize","alias","slist","schema_test","schema_search","schema_at_start","__index__","__text_cache__","resetScanCache","Match","__last_index__","__schema__","raw","createMatch","LinkifyIt","schemas","reduce","acc","LinkifyIt$1","definition","ml","me","next","tld_pos","testSchemaAt","keepOld","sort","el","reverse","linkifyIt","utils","ParserCore","require$$5","punycode","config","default","components","core","zero","rules2","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","RECODE_HOSTNAME_FOR","parsed","toASCII","er","toUnicode","MarkdownIt","presetName","configure","presets","MarkdownIt$1","missed","use","plugin","args","apply","parseInline","$$invalidate","getHtml","movedExtensions","pen","video","music","extensions","tts","translate","microbit","wedo","makeymakey","ev3","boost","gdxfor","aliasExtensions","wedo2","text2speech","overrideCategories","overrideShapes","rtlLanguages","inputNumberPat","inputPat","inputPatGlobal","iconPat","splitPat","hexColorPat","parseInputNumber","parseSpec","spec","parts","x","inputs","hashSpec","minifyHash","blocksById","allBlocks","id","selector","shape","category","hasLoopArrow","def","unicodeIcons","allLanguages","loadLanguages","languages","language","blocksByHash","commands","blockId","nativeSpec","nativeHash","nativeAliases","aliasHash","renamedBlocks","english","nativeDropdowns","dropdowns","nativeName","loadLanguage","definePrefix","defineSuffix","ignorelt","math","soundEffects","microbitWhen","osis","registerCheck","func","accepts","disambig","id1","id2","_","lang","blockName","words","child","isLabel","assert$2","bool","message","en","isInput","effect","_lang","isColor","isBlock","specialCase","CONTROL_STOP","Label","cls","height","metrics","stringify","Icon","isArrow","icons","isIcon","greenFlag","stopSign","turnLeft","turnRight","loopArrow","addInput","delInput","Input","menu","isRound","isBoolean","isStack","isInset","hasArrow","isDarker","isSquare","hasLabel","Block","comment","diff","isHat","hasPuzzle","isFinal","isCommand","isOutline","isReporter","isRing","hasScript","isElse","isEnd","extras","firstInput","checkAlias","isScript","overrides","categoryIsDefault","isShallow","outline","find","word","oldSpec","nativeInfo","rawArgs","oldInputOrder","highestNumber","number","remainingArgs","arg","CONTROL_ELSE","isRTL","Comment","hasBlock","width","isComment","Glow","isGlow","Script","blocks","Document","scripts","script","paintBlock","collisions","lookupHash","isDefineBlock","outlineChildren","argument","labels","color","applyOverrides","defineWord","parseLines","sawNL","peek","peekNonWs","define","makeBlock","hasInputs","makeMenu","lookupDropdown","pParts","pString","pReporter","pPredicate","pEmbedded","pIcon","pOverrides","escapeV","pBlock","every","parseScripts","assert$1","override","pLine","pComment","pMouth","pFile","eachBlock","cb","listBlocks","dialect","customBlocksByHash","listNames","customArgs","names","boolean","argIndex","input","recogniseStuff","assert","document$1","xml$1","directProps$1","textContent","SVG$1","SVG","DOMParser","parseFromString","XMLSerializer","makeCanvas","cdata","createCDATASection","setProps","setAttributeNS","withChildren","group","newSVG","scale","version","viewBox","polygon","points","path","y","symbol","move","dx","dy","transform","translatePath","isX","out","rect","w","ellipse","cx","cy","rx","ry","arc","p1x","p1y","p2x","p2y","arcw","roundedPath","roundedRect","pointedPath","pointedRect","getTop","getRingTop","getRightAndBottom","hasNotch","inset","getArm","armTop","stackRect","capPath","capRect","hatRect","curve","roundness","midX","midY","round","procHatBase","archRoundness","procHatCap","class","procHatRect","mouthRect","isLast","ringRect","cw","commentRect","commentLine","strikethroughLine","Filter","x0","y0","highestId","fe","comp","op","in1","in2","operator","in","subtract","k2","k3","flood","opacity","blur","dev","stdDeviation","colorMatrix","values","merge","Style$1","Style","cssContent","makeIcons","makeStyle","style","bevelFilter","f","alpha","darkFilter","darkRect","defaultFontFamily","makeStyle$3","LabelView$1","LabelView","draw","measure","metricsCache","font","measuring","measureText","toMeasure","IconView$1","IconView","icon","InputView$1","InputView","newView$1","shapes","dropdown","reporter","parent","BlockView$1","BlockView","firstLine","innerWidth","celse","cend","cap","hat","cat","ring","drawSelf","minDistance","padding","null","isDefine","pt","px","pb","Line","scriptWidth","pushLine","flip","cmw","mw","objects","insEllipse","CommentView$1","CommentView","lineLength","labelEl","GlowView$1","glow","ScriptView$1","inside","dw","dh","lastBlock","DocumentView$1","doc","defs","elements","svg","exportSVGString","xml","serializeToString","exportSVG","toCanvas","exportScale","canvas","getContext","Image","onload","save","drawImage","restore","exportPNG","createObjectURL","Blob","toBlob","blob","toDataURL","makeStyle$2","directProps","roundRect","pillRect","topNotch","getArmNoNotch","getHatTop","getCatTop","catHat","getProcHatTop","highContrastIcons","makeCommonIcons","stroke","makeOriginalIcons","makeHighContrastIcons","iconName","iconStyle","defaultFont","commentFont","makeStyle$1","_iconStyle","musicBlock","penBlock","videoBlock","ttsBlock","translateBlock","wedoBlock","ev3Block","microbitBlock","makeymakeyBlock","gdxforBlock","boostBlock","LineView","isLine","x1","y1","x2","y2","newView","isDropdown","classList","remove","horizontalPadding","marginBetween","previousChild","lastChild","padLeft","originalInnerWidth","GlowView","ScriptView","DocumentView","scratchblocks","newView$2","readCode","pre","container","className","display","verticalAlign","init$2","init$1","read","renderMatching","querySelectorAll","appendStyles","head","outerHTML","getSvg","iframe","iframe_src_value","h4","each_blocks","iterations","getScratchProjectId","startsWith","digits","isScratchProjectLink","isScratchBlockEnd","resetCurrentScratchBlock","currentMarkdown","currentScratchBlock","newMarkdown","isScratchBlockStart","sections","show_if","$projectName","nav","h6","ul","main","urlParams","URLSearchParams","pageParam","get","nameParam","initPage","handleInternalHeaderLink","body"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,8,9,11,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82]}